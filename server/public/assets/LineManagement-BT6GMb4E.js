<<<<<<< HEAD
<<<<<<<< HEAD:server/public/assets/LineManagement-BT6GMb4E.js
import{_ as m,c as i,a as e,i as L,j as f,w as b,k as y,d as g,F as v,r as w,l as k,e as c,u as N,o as r,t as d}from"./index-DRp0-N0C.js";import{u as C}from"./useDates-UMs5Kxim.js";import D from"./LineManagementDtl-B1eGutq-.js";import{S as u}from"./sweetalert2.esm.all-DV3w3JmD.js";const S={components:{LineManagementDtl:D},data(){return{LineList:[],empStore:N(),showLineModal:!1,selectedLineNo:"",selectedLineInfo:{},processDetailList:[],statusFilter:"진행중"}},computed:{employeeName(){return this.empStore.loginInfo.nm||""},employeeNo(){return this.empStore.loginInfo.emp_no||""},filteredLineList(){const n={전체:()=>!0,진행중:o=>["l2","l3","l4"].includes(o.ln_sts),대기중:o=>o.ln_sts==="l1",공정지시:o=>o.ln_sts==="l2",공정현황:o=>o.ln_sts==="l3",공정완료:o=>o.ln_sts==="l4",설비점검중:o=>["l5","l6"].includes(o.ln_sts)}[this.statusFilter]||(()=>!0);return this.LineList.filter(n)}},created(){this.fetchLineList()},methods:{async fetchLineList(){const t=await c.get("/api/lineList");this.LineList=t.data},dateFormat(t,n){return C.dateFormat(t,n)},async startLine(t){const n={ln_no:t.ln_no,mgr:this.empStore.loginInfo.emp_no};try{await c.post("/api/startLine",n),await u.fire("지시 완료!",`${t.ln_nm} 라인이 시작되었습니다.`,"success"),this.fetchLineList()}catch(o){console.error("❌ 지시 실패:",o),u.fire("오류","지시 중 오류가 발생했습니다.","error")}},async showStatus(t){this.selectedLineNo=t.ln_no,this.selectedLineInfo=t,this.showLineModal=!0;try{const n=await c.get(`/api/lineDetail/${t.pdn_ord_dtl_no}`);this.processDetailList=n.data}catch(n){console.error("❌ 라인 상세 조회 실패:",n),u.fire("오류","라인 상세 정보를 불러오지 못했습니다.","error")}},async handleReload({line_no:t,pdn_ord_dtl_no:n}){try{const o=await c.get("/api/lineList");this.LineList=o.data;const _=this.LineList.find(l=>l.ln_no===t);if(_&&(this.selectedLineInfo=_),n){const l=await c.get(`/api/lineDetail/${n}`);this.processDetailList=l.data}}catch(o){console.error("❌ 라인 정보 갱신 실패:",o)}},async confirmReleaseToWarehouse(t){if((await u.fire({title:"공정이 완료되었습니다.",html:`
========
=======
<<<<<<< HEAD
>>>>>>> origin/Eunae
<<<<<<<< HEAD:server/public/assets/LineManagement-EWTawJBi.js
import{_ as m,c as i,a as e,i as L,j as f,w as b,k as y,d as g,F as v,r as w,l as k,e as c,u as N,o as r,t as d}from"./index-CxFk6QSJ.js";import{u as C}from"./useDates-UMs5Kxim.js";import D from"./LineManagementDtl-BfP3txAe.js";import{S as u}from"./sweetalert2.esm.all-DV3w3JmD.js";const S={components:{LineManagementDtl:D},data(){return{LineList:[],empStore:N(),showLineModal:!1,selectedLineNo:"",selectedLineInfo:{},processDetailList:[],statusFilter:"진행중"}},computed:{employeeName(){return this.empStore.loginInfo.nm||""},employeeNo(){return this.empStore.loginInfo.emp_no||""},filteredLineList(){const n={전체:()=>!0,진행중:o=>["l2","l3","l4"].includes(o.ln_sts),대기중:o=>o.ln_sts==="l1",공정지시:o=>o.ln_sts==="l2",공정현황:o=>o.ln_sts==="l3",공정완료:o=>o.ln_sts==="l4",설비점검중:o=>["l5","l6"].includes(o.ln_sts)}[this.statusFilter]||(()=>!0);return this.LineList.filter(n)}},created(){this.fetchLineList()},methods:{async fetchLineList(){const t=await c.get("/api/lineList");this.LineList=t.data},dateFormat(t,n){return C.dateFormat(t,n)},async startLine(t){const n={ln_no:t.ln_no,mgr:this.empStore.loginInfo.emp_no};try{await c.post("/api/startLine",n),await u.fire("지시 완료!",`${t.ln_nm} 라인이 시작되었습니다.`,"success"),this.fetchLineList()}catch(o){console.error("❌ 지시 실패:",o),u.fire("오류","지시 중 오류가 발생했습니다.","error")}},async showStatus(t){this.selectedLineNo=t.ln_no,this.selectedLineInfo=t,this.showLineModal=!0;try{const n=await c.get(`/api/lineDetail/${t.pdn_ord_dtl_no}`);this.processDetailList=n.data}catch(n){console.error("❌ 라인 상세 조회 실패:",n),u.fire("오류","라인 상세 정보를 불러오지 못했습니다.","error")}},async handleReload({line_no:t,pdn_ord_dtl_no:n}){try{const o=await c.get("/api/lineList");this.LineList=o.data;const _=this.LineList.find(l=>l.ln_no===t);if(_&&(this.selectedLineInfo=_),n){const l=await c.get(`/api/lineDetail/${n}`);this.processDetailList=l.data}}catch(o){console.error("❌ 라인 정보 갱신 실패:",o)}},async confirmReleaseToWarehouse(t){if((await u.fire({title:"공정이 완료되었습니다.",html:`
========
import{_ as m,c as i,a as e,i as L,j as f,w as b,k as y,d as g,F as v,r as w,l as k,e as c,u as N,o as r,t as d}from"./index-DRp0-N0C.js";import{u as C}from"./useDates-UMs5Kxim.js";import D from"./LineManagementDtl-B1eGutq-.js";import{S as u}from"./sweetalert2.esm.all-DV3w3JmD.js";const S={components:{LineManagementDtl:D},data(){return{LineList:[],empStore:N(),showLineModal:!1,selectedLineNo:"",selectedLineInfo:{},processDetailList:[],statusFilter:"진행중"}},computed:{employeeName(){return this.empStore.loginInfo.nm||""},employeeNo(){return this.empStore.loginInfo.emp_no||""},filteredLineList(){const n={전체:()=>!0,진행중:o=>["l2","l3","l4"].includes(o.ln_sts),대기중:o=>o.ln_sts==="l1",공정지시:o=>o.ln_sts==="l2",공정현황:o=>o.ln_sts==="l3",공정완료:o=>o.ln_sts==="l4",설비점검중:o=>["l5","l6"].includes(o.ln_sts)}[this.statusFilter]||(()=>!0);return this.LineList.filter(n)}},created(){this.fetchLineList()},methods:{async fetchLineList(){const t=await c.get("/api/lineList");this.LineList=t.data},dateFormat(t,n){return C.dateFormat(t,n)},async startLine(t){const n={ln_no:t.ln_no,mgr:this.empStore.loginInfo.emp_no};try{await c.post("/api/startLine",n),await u.fire("지시 완료!",`${t.ln_nm} 라인이 시작되었습니다.`,"success"),this.fetchLineList()}catch(o){console.error("❌ 지시 실패:",o),u.fire("오류","지시 중 오류가 발생했습니다.","error")}},async showStatus(t){this.selectedLineNo=t.ln_no,this.selectedLineInfo=t,this.showLineModal=!0;try{const n=await c.get(`/api/lineDetail/${t.pdn_ord_dtl_no}`);this.processDetailList=n.data}catch(n){console.error("❌ 라인 상세 조회 실패:",n),u.fire("오류","라인 상세 정보를 불러오지 못했습니다.","error")}},async handleReload({line_no:t,pdn_ord_dtl_no:n}){try{const o=await c.get("/api/lineList");this.LineList=o.data;const _=this.LineList.find(l=>l.ln_no===t);if(_&&(this.selectedLineInfo=_),n){const l=await c.get(`/api/lineDetail/${n}`);this.processDetailList=l.data}}catch(o){console.error("❌ 라인 정보 갱신 실패:",o)}},async confirmReleaseToWarehouse(t){if((await u.fire({title:"공정이 완료되었습니다.",html:`
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/LineManagement-BT6GMb4E.js
<<<<<<< HEAD
>>>>>>>> origin/Eunae:server/public/assets/LineManagement-EWTawJBi.js
=======
=======
import{_ as m,c as i,a as e,i as L,j as f,w as b,k as y,d as g,F as v,r as w,l as k,e as c,u as N,o as r,t as d}from"./index-DRp0-N0C.js";import{u as C}from"./useDates-UMs5Kxim.js";import D from"./LineManagementDtl-B1eGutq-.js";import{S as u}from"./sweetalert2.esm.all-DV3w3JmD.js";const S={components:{LineManagementDtl:D},data(){return{LineList:[],empStore:N(),showLineModal:!1,selectedLineNo:"",selectedLineInfo:{},processDetailList:[],statusFilter:"진행중"}},computed:{employeeName(){return this.empStore.loginInfo.nm||""},employeeNo(){return this.empStore.loginInfo.emp_no||""},filteredLineList(){const n={전체:()=>!0,진행중:o=>["l2","l3","l4"].includes(o.ln_sts),대기중:o=>o.ln_sts==="l1",공정지시:o=>o.ln_sts==="l2",공정현황:o=>o.ln_sts==="l3",공정완료:o=>o.ln_sts==="l4",설비점검중:o=>["l5","l6"].includes(o.ln_sts)}[this.statusFilter]||(()=>!0);return this.LineList.filter(n)}},created(){this.fetchLineList()},methods:{async fetchLineList(){const t=await c.get("/api/lineList");this.LineList=t.data},dateFormat(t,n){return C.dateFormat(t,n)},async startLine(t){const n={ln_no:t.ln_no,mgr:this.empStore.loginInfo.emp_no};try{await c.post("/api/startLine",n),await u.fire("지시 완료!",`${t.ln_nm} 라인이 시작되었습니다.`,"success"),this.fetchLineList()}catch(o){console.error("❌ 지시 실패:",o),u.fire("오류","지시 중 오류가 발생했습니다.","error")}},async showStatus(t){this.selectedLineNo=t.ln_no,this.selectedLineInfo=t,this.showLineModal=!0;try{const n=await c.get(`/api/lineDetail/${t.pdn_ord_dtl_no}`);this.processDetailList=n.data}catch(n){console.error("❌ 라인 상세 조회 실패:",n),u.fire("오류","라인 상세 정보를 불러오지 못했습니다.","error")}},async handleReload({line_no:t,pdn_ord_dtl_no:n}){try{const o=await c.get("/api/lineList");this.LineList=o.data;const _=this.LineList.find(l=>l.ln_no===t);if(_&&(this.selectedLineInfo=_),n){const l=await c.get(`/api/lineDetail/${n}`);this.processDetailList=l.data}}catch(o){console.error("❌ 라인 정보 갱신 실패:",o)}},async confirmReleaseToWarehouse(t){if((await u.fire({title:"공정이 완료되었습니다.",html:`
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
>>>>>>> origin/Eunae
          <div style="text-align:left; line-height:1.8;">
            <strong>제품명:</strong> ${t.prd_nm}<br>
            <strong>지시수량:</strong> ${t.ord_qty}개<br>
            <strong>완료수량:</strong> ${t.pdn_qty}개<br>
            <strong>불량수량:</strong> ${t.dft_qty}개
          </div>
        `,icon:"success",showCancelButton:!0,confirmButtonText:"출고",cancelButtonText:"취소",reverseButtons:!0})).isConfirmed)try{await c.post("/api/finalOper",{p_ln_opr_no:t.ln_opr_no,p_ln_no:t.ln_no,p_pdn_ord_dtl_no:t.pdn_ord_dtl_no}),await u.fire("출고 완료!","창고로 이동 및 상태 초기화 완료","success"),this.fetchLineList()}catch(o){console.error("❌ 출고 실패:",o),u.fire("처리 실패","출고 또는 상태 초기화 중 오류 발생","error")}},formatNumber(t){return t==null||isNaN(t)?"-":new Intl.NumberFormat().format(t)}}},F={class:"container mt-4"},x={class:"mb-１ d-flex justify-content-end"},I={class:"table table-bordered text-center"},M={key:0,class:"btn btn-sm btn-secondary",disabled:""},B=["onClick"],R=["onClick"],q=["onClick"],T={key:4,class:"btn btn-sm btn-danger"},V={key:5,class:"btn btn-sm btn-info"};function j(t,n,o,_,l,a){const h=k("LineManagementDtl");return r(),i("div",F,[n[4]||(n[4]=e("h2",{class:"mb-4"},"라인 관리",-1)),e("div",x,[b(e("select",{"onUpdate:modelValue":n[0]||(n[0]=s=>l.statusFilter=s),class:"form-select w-auto"},n[2]||(n[2]=[g('<option value="전체" data-v-69539a0d>전체</option><option value="진행중" data-v-69539a0d>진행중</option><option value="대기중" data-v-69539a0d>대기중</option><option value="공정지시" data-v-69539a0d>공정지시</option><option value="공정현황" data-v-69539a0d>공정현황</option><option value="공정완료" data-v-69539a0d>공정완료</option><option value="설비점검중" data-v-69539a0d>설비점검중</option>',7)]),512),[[y,l.statusFilter]])]),e("table",I,[n[3]||(n[3]=e("thead",{class:"table-light"},[e("tr",null,[e("th",null,"라인번호"),e("th",null,"라인명"),e("th",null,"생산제품명"),e("th",null,"시작시간"),e("th",null,"종료시간"),e("th",null,"투입량"),e("th",null,"불량량"),e("th",null,"생산량"),e("th",null,"상태")])],-1)),e("tbody",null,[(r(!0),i(v,null,w(a.filteredLineList,s=>(r(),i("tr",{key:s.ln_no},[e("td",null,d(s.ln_no),1),e("td",null,d(s.ln_nm),1),e("td",null,d(s.prd_nm),1),e("td",null,d(a.dateFormat(s.st_tm,"hh시 mm분 ss초")),1),e("td",null,d(a.dateFormat(s.end_tm,"hh시 mm분 ss초")),1),e("td",null,d(a.formatNumber(s.ord_qty)),1),e("td",null,d(a.formatNumber(s.pdn_qty)),1),e("td",null,d(a.formatNumber(s.dft_qty)),1),e("td",null,[s.ln_sts==="l1"?(r(),i("button",M,"대기중")):s.ln_sts==="l2"?(r(),i("button",{key:1,class:"btn btn-sm btn-primary",onClick:p=>a.startLine(s)},"공정실행",8,B)):s.ln_sts==="l3"?(r(),i("button",{key:2,class:"btn btn-sm btn-warning",onClick:p=>a.showStatus(s)},"공정현황",8,R)):s.ln_sts==="l4"?(r(),i("button",{key:3,class:"btn btn-sm btn-success",onClick:p=>a.confirmReleaseToWarehouse(s)},"공정완료",8,q)):s.ln_sts==="l5"?(r(),i("button",T,"수리중")):s.ln_sts==="l6"?(r(),i("button",V,"점검중")):f("",!0)])]))),128))])]),l.showLineModal?(r(),L(h,{key:0,details:l.processDetailList,"line-no":l.selectedLineNo,"line-info":l.selectedLineInfo,onReload:a.handleReload,onClose:n[1]||(n[1]=s=>l.showLineModal=!1)},null,8,["details","line-no","line-info","onReload"])):f("",!0)])}const z=m(S,[["render",j],["__scopeId","data-v-69539a0d"]]);export{z as default};
<<<<<<< HEAD
<<<<<<<< HEAD:server/public/assets/LineManagement-BT6GMb4E.js
//# sourceMappingURL=LineManagement-BT6GMb4E.js.map
========
=======
<<<<<<< HEAD
>>>>>>> origin/Eunae
<<<<<<<< HEAD:server/public/assets/LineManagement-EWTawJBi.js
//# sourceMappingURL=LineManagement-EWTawJBi.js.map
========
//# sourceMappingURL=LineManagement-BT6GMb4E.js.map
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/LineManagement-BT6GMb4E.js
<<<<<<< HEAD
>>>>>>>> origin/Eunae:server/public/assets/LineManagement-EWTawJBi.js
=======
=======
//# sourceMappingURL=LineManagement-BT6GMb4E.js.map
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
>>>>>>> origin/Eunae
