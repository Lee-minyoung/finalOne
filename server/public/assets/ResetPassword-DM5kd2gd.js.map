{"version":3,"file":"ResetPassword-DM5kd2gd.js","sources":["../../../client/src/views/login/ResetPassword.vue"],"sourcesContent":["<template>\n  <div class=\"login-container d-flex justify-content-center align-items-center min-vh-100\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-md-6 col-lg-5\">\n          <div class=\"login-card\">\n            <div class=\"card-body px-4 py-5\">              <form @submit.prevent=\"resetPwd\">\n                <div class=\"text-center mb-4\">\n                  <img src=\"@/assets/icons/login_bobe.png\" alt=\"밥먹고하시조\" class=\"login-logo\" />\n                  <p class=\"welcome-text\">임시 비밀번호를 입력하고<br>새로운 비밀번호를 설정해주세요.</p>\n                </div>\n\n                <div class=\"form-section\">\n                  <div class=\"input-wrapper\">\n                    <div class=\"input-group\">\n                      <span class=\"input-group-text\">\n                        <i class=\"bi bi-shield-lock\"></i>\n                      </span>\n                      <input \n                        type=\"password\" \n                        class=\"form-control\" \n                        v-model=\"passwordInfo.tempPassword\" \n                        placeholder=\"임시 비밀번호\"\n                        :disabled=\"isLoading\"\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"input-wrapper\">\n                    <div class=\"input-group\">\n                      <span class=\"input-group-text\">\n                        <i class=\"bi bi-key\"></i>\n                      </span>\n                      <input \n                        type=\"password\"                        class=\"form-control\"                        v-model=\"passwordInfo.newPassword\" \n                        placeholder=\"새 비밀번호 (8자 이상)\"\n                        :disabled=\"isLoading\"\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"input-wrapper\">\n                    <div class=\"input-group\">\n                      <span class=\"input-group-text\">\n                        <i class=\"bi bi-key-fill\"></i>\n                      </span>\n                      <input \n                        type=\"password\" \n                        class=\"form-control\" \n                        v-model=\"passwordInfo.confirmPassword\" \n                        placeholder=\"새 비밀번호 확인\"\n                        :disabled=\"isLoading\"\n                      />\n                    </div>\n                  </div>\n\n                  <div class=\"text-end mb-3\">\n                    <button \n                      type=\"button\" \n                      class=\"btn-forgot\"\n                      @click=\"goToLogin\"\n                      :disabled=\"isLoading\"\n                    >\n                      로그인으로 돌아가기\n                    </button>\n                  </div>\n\n                  <button \n                    type=\"submit\" \n                    class=\"btn-login\"\n                    :disabled=\"isLoading || !isValidForm\"\n                  >\n                    <span v-if=\"isLoading\" class=\"spinner-border spinner-border-sm me-2\"></span>\n                    {{ isLoading ? '처리 중...' : '비밀번호 변경' }}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      passwordInfo: {\n        empNo: this.$route.params.empNo,\n        tempPassword: \"\",\n        newPassword: \"\",\n        confirmPassword: \"\"\n      },\n      isLoading: false\n    };\n  },\n  computed: {\n    isValidForm() {\n      return this.passwordInfo.tempPassword.trim() &&\n             this.passwordInfo.newPassword.trim() &&\n             this.passwordInfo.confirmPassword.trim() &&\n             this.passwordInfo.newPassword === this.passwordInfo.confirmPassword &&\n             this.passwordInfo.newPassword.length >= 8;\n    }\n  },  methods: {\n    async resetPwd() {\n      if (!this.isValidForm) {\n        alert(\"모든 필드를 올바르게 입력해주세요.\");\n        return;\n      }\n\n      if (this.passwordInfo.newPassword !== this.passwordInfo.confirmPassword) {\n        alert(\"새 비밀번호가 일치하지 않습니다.\");\n        return;\n      }\n\n      this.isLoading = true;\n      try {\n        const result = await axios.post('/api/reset-password', this.passwordInfo);\n        if (result.data.result) {\n          alert(\"비밀번호가 성공적으로 변경되었습니다.\\n새로운 비밀번호로 로그인해주세요.\");\n          this.$router.push({ name: \"login\" });\n        } else {\n          alert(result.data.message || \"임시 비밀번호가 일치하지 않습니다.\");\n        }\n      } catch (err) {\n        console.error(\"비밀번호 변경 오류:\", err);\n        alert(\"서버 오류가 발생했습니다.\");\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    goToLogin() {\n      this.$router.push({ name: \"login\" });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@use \"@/styles/style\" as *;\n\n.login-container {\n  background-color: #f8f9fa;\n  font-family: Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, \"Helvetica Neue\", \"Segoe UI\", \"Apple SD Gothic Neo\", \"Noto Sans KR\", \"Malgun Gothic\", sans-serif;\n}\n\n.login-card {\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);\n  min-height: 480px;\n  display: flex;\n  flex-direction: column;\n}\n\n.card-body {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 2.5rem 2.8rem !important;\n}\n\n.login-logo {\n  width: 200px;\n  height: auto;\n  margin-bottom: 1rem;\n}\n\n.welcome-text {\n  color: #6c757d;\n  font-size: 0.95rem;\n  margin-bottom: 2.2rem;\n  font-weight: 500;\n}\n\n.form-section {\n  max-width: 360px;\n  margin: 0 auto;\n  width: 100%;\n}\n\n.input-wrapper {\n  margin-bottom: 1.2rem;\n\n  .form-text {\n    font-size: 0.85rem;\n    margin-top: 0.4rem;\n    margin-left: 0.5rem;\n  }\n}\n\n.input-group {\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  overflow: hidden;\n  transition: all 0.2s ease;\n\n  &:focus-within {\n    border-color: #0d6efd;\n    box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.15);\n  }\n  \n  .input-group-text {\n    background-color: white;\n    border: none;\n    color: #6c757d;\n    padding: 0.75rem 1rem;\n    \n    i {\n      font-size: 1.1rem;\n    }\n  }\n\n  .form-control {\n    border: none;\n    padding: 0.75rem 0.8rem;\n    font-size: 0.95rem;\n    background-color: white;\n\n    &:focus {\n      box-shadow: none;\n    }\n\n    &::placeholder {\n      color: #adb5bd;\n      font-size: 0.92rem;\n    }\n  }\n}\n\n.btn-forgot {\n  background: none;\n  border: none;\n  color: #6c757d;\n  font-size: 0.9rem;\n  padding: 0;\n  transition: color 0.2s;\n  margin-bottom: 1.2rem;\n\n  &:hover {\n    color: #0d6efd;\n  }\n}\n\n.btn-login {\n  width: 100%;\n  padding: 0.8rem;\n  border: none;\n  border-radius: 8px;\n  background: #0d6efd;\n  color: white;\n  font-weight: 600;\n  font-size: 0.95rem;\n  transition: all 0.2s;\n\n  &:hover:not(:disabled) {\n    background: #0b5ed7;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(13, 110, 253, 0.2);\n  }\n\n  &:active:not(:disabled) {\n    transform: translateY(0);\n  }\n\n  &:disabled {\n    background: #adb5bd;\n    cursor: not-allowed;\n  }\n}\n</style>\n"],"names":["_sfc_main","result","axios","err","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_openBlock","_createElementBlock","_createElementVNode","_cache","_withModifiers","$options","args","_imports_0","_createTextVNode","$event","$data","_vModelText","_hoisted_20","_createCommentVNode"],"mappings":"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"}