{"version":3,"file":"bom-BOLmzdGJ.js","sources":["../../../client/src/views/bom/bomInfo.vue","../../../client/src/views/bom/bomForm.vue","../../../client/src/views/bom/bom.vue"],"sourcesContent":["<template>\n  <!-- 우측 영역 시작 -->\n  <div class=\"col-md-7\">\n    <!-- 우측 버튼 모음 영역 -->\n    <div class=\"d-flex justify-content-between mb-3\">\n      <div> <!-- 버튼 왼쪽 정렬 -->\n        <button class=\"btn btn-primary me-2\" @click=\"addBom\">등록</button>\n        <button class=\"btn btn-danger\" @click=\"deleteBom(bomMatInfo[0].bom_no)\">삭제</button>\n      </div>\n      <div> <!-- 버튼 오른쪽 정렬 -->\n        <button class=\"btn btn-warning me-2\" @click=\"resetForm\">초기화</button>\n        <button class=\"btn btn-success\" @click=\"saveBom\">저장</button>\n      </div>\n    </div> <!-- 우측 버튼 모음 영역 끝 -->\n    <!-- 우측 상세보기 영역 시작 -->\n    <div class=\"card p-3\">\n      <h4>상세 보기</h4>\n      <div v-if=\"bom\">\n        <div>\n          <div class=\"row mb-4\">\n            <!-- BOM번호 -->\n            <div class=\"col-md-6 mb-3\">\n              <div class=\"d-flex align-items-center\">\n                <label for=\"bomNo\" class=\"form-label me-3\" style=\"min-width: 100px;\">BOM번호</label>\n                <input id=\"bomNo\" type=\"text\" class=\"form-control\" v-model=\"bom_no\" readonly disabled />\n              </div>\n            </div>\n            <!-- 사용여부 -->\n            <div class=\"col-md-6 mb-3\">\n              <div class=\"d-flex align-items-center\">\n                <label for=\"useYn\" class=\"form-label me-3\" style=\"min-width: 100px;\">사용여부</label>\n                <select id=\"useYn\" class=\"form-select form-control\" v-model=\"use_yn\">\n                  <option value=\"f1\">여</option>\n                  <option value=\"f2\">부</option>\n                </select>\n              </div>\n            </div>\n            <!-- 제품명 -->\n            <div class=\"col-md-12 mb-3\">\n              <div class=\"d-flex align-items-center\">\n                <label for=\"prdNm\" class=\"form-label me-3\" style=\"min-width: 100px;\">제품명</label>\n                <input id=\"prdNm\" type=\"text\" class=\"form-control\" v-model=\"prd_nm\" readonly disabled />\n              </div>\n            </div>\n            <div class=\"d-flex align-items-center\">\n              <button class=\"btn btn-outline-secondary align-items-center\" style=\"width: 100%;\"\n                @click=\"openMatModal\">자재추가</button>\n            </div>\n          </div>\n          <table class=\"table table-bordered text-center\">\n            <thead class=\"table-light\">\n              <tr>\n                <th style=\"font-weight: normal;\">자재번호</th>\n                <th style=\"font-weight: normal;\">자재명</th>\n                <th style=\"font-weight: normal;\">용량</th>\n                <th style=\"font-weight: normal;\">단위</th>\n                <th style=\"font-weight: normal;\">비고</th>\n                <th style=\"font-weight: normal;\">X</th>\n              </tr>\n            </thead>\n            <tbody>\n              <template v-if=\"bomMatInfo.length > 0\">\n                <tr v-for=\"(row, index) in bomMatInfo\" :key=\"'new-' + index\">\n                  <td><input v-model=\"row.mat_no\" type=\"text\" class=\"form-control text-center\" readonly disabled /></td>\n                  <td><input v-model=\"row.mat_nm\" type=\"text\" class=\"form-control\" readonly disabled /></td>\n                  <td><input v-model.number=\"row.cap\" type=\"number\" class=\"form-control text-end\" /></td>\n                  <td><input v-model=\"row.unit\" type=\"text\" class=\"form-control\" readonly disabled /></td>\n                  <td><input v-model=\"row.rmk\" type=\"text\" class=\"form-control\" /></td>\n                  <td>\n                    <button class=\"btn btn-outline-danger me-1\" @click=\"removeMatRow(index)\"> X </button>\n                  </td>\n                </tr>\n              </template>\n              <template v-else>\n                <tr>\n                  <td colspan=\"6\">자재추가 버튼을 눌러 자재를 추가해주세요.</td>\n                </tr>\n              </template>\n            </tbody>\n          </table>\n\n          <matSelectModal v-if=\"showMatModal\" :matList=\"matList\" :selected=\"bomMatInfo\" @select-mat=\"handleSelectedMats\"\n            @close=\"showMatModal = false\" />\n\n        </div>\n      </div>\n      <div v-else> <!-- 리스트에서 선택된 데이터가 없을 때 -->\n        <p>BOM을 선택하세요!</p>\n      </div>\n    </div> <!-- 우측 상세보기 영역 끝 -->\n  </div>\n</template>\n\n<script>\n// AJAX 모듈\nimport axios from 'axios';\nimport matSelectModal from '@/views/modal/matSelectModal.vue';\n\nexport default {\n  props: {\n    bom: Object,\n  },\n  components: {\n    matSelectModal,\n  },\n  data() {\n    return {\n      bom_no: '', // bom번호\n      prd_no: '', // 제품번호\n      prd_nm: '', // 제품명\n      use_yn: '', // 사용여부\n\n      bomMatInfo: [],\n\n      showMatModal: false, // 자재 선택 모달 초기화값 = 닫힘\n      matList: [], // 자재 리스트 (showMatModal에서 사용)\n    };\n  },\n  watch: { // props로 받은 bom 객체의 변화를 감시(watch)하는 부분\n    // watch는 특정 데이터의 변화를 감시\n    // handler는 그 감시하던 데이터가 변경될 때 실행되는 함수(콜백 함수)\n    bom: { // bom props의 변화를 감시, props로 받은 bom 값이 변경될 때마다 실행\n      handler(newVal) { // bom 값이 변경될 때 실행되는 함수, newVal은 변경된 새로운 bom 값\n        if (newVal) {\n          this.getBomMatInfo(newVal.bom_no);\n        } else {\n          this.bomMatInfo = [];\n          this.bom_no = '';\n          this.prd_no = '';\n          this.prd_nm = '';\n          this.use_yn = '';\n        }\n      },\n      immediate: true //이 옵션이 있으면 컴포넌트가 처음 생성될 때도 watch 핸들러를 즉시 실행\n    }\n  },\n  methods: {\n    // bom_no를 받아 데이터 받아오는 함수\n    async getBomMatInfo(selected) {\n      let result = await axios.get(`/api/bomMat/${selected}`)\n        .catch(err => console.log(err));\n      this.bomMatInfo = result.data;\n      this.bom_no = result.data[0].bom_no;\n      this.prd_no = result.data[0].prd_no;\n      this.prd_nm = result.data[0].prd_nm;\n      this.use_yn = result.data[0].use_yn;\n    },\n    // 수정된 내용을 DB에 저장\n    async bomUpdate() {\n      // bom 은 수정 (수정될게 사용여부 뿐임)\n      // bom_mat이 일부가 삭제될 수도 있고 추가될 수도 있는데 그걸 체크하기가 번거로움\n      // bom_mat은 전부 삭제시키고 새로 insert\n\n      // 자재 목록 존재 여부 검증\n      if (this.bomMatInfo.length === 0) {\n        alert('자재를 추가해주세요.');\n        return;\n      };\n\n      // 자재별 용량 검증\n      for (const mat of this.bomMatInfo) {\n        if (!mat.cap || mat.cap <= 0) {\n          alert(`${mat.mat_nm}의 용량을 입력해주세요.`);\n          return;\n        }\n      };\n\n      // 사용여부 검증\n      if (!this.use_yn) {\n        alert('사용여부를 선택해주세요.');\n        return;\n      };\n\n      let bomInfo = { // bom 수정할 사용여부 내용 저장\n        use_yn: this.use_yn,\n      };\n\n      let bomMatInfoArray = [];\n      for (let i = 0; i < this.bomMatInfo.length; i++) {\n        bomMatInfoArray[i] = {\n          bom_no: this.bom_no,\n          mat_no: this.bomMatInfo[i].mat_no,\n          cap: this.bomMatInfo[i].cap,\n          unit: this.bomMatInfo[i].unit,\n          rmk: this.bomMatInfo[i].rmk,\n        };\n      };\n      // 서버에 데이터를 요청 : PUT + http://localhost:3000/dept/100 => proxy ) /api/dept/100\n      // axios 모듈을 활용해 AJAX하는 경우 POST와 PUT은 두번째 매개변수로 서버에 보낼 데이터를 전달, 자동으로 JSON 적용\n      let result = await axios.put(`/api/bomAndBomMat/${this.bom_no}`, [bomInfo, bomMatInfoArray])\n        .catch(err => console.log(err));\n\n      if (result.data.message == '수정 완료') {\n        alert('수정되었습니다.');\n        this.$emit('bom-reload');\n        this.getBomMatInfo(this.bomMatInfo[0].bom_no);\n      } else {\n        alert('수정되지 않았습니다.\\n데이터를 확인해보세요.');\n      };\n    },\n    saveBom() { // 저장 버튼 클릭시 실행할 함수\n      if (confirm('정말로 수정하시겠습니까?\\n변경된 내용은 즉시 적용됩니다.')) {\n        this.bomUpdate(); // 수정내용 저장\n      }\n    },\n    // 추가 버튼 클릭시 실행할 함수\n    addBom() {\n      this.$emit(\"goToForm\", false);\n    },\n    // 삭제 버튼 클릭시 실행할 함수\n    async deleteBom(bomNo) {\n      if (bomNo > 0) { // 선택된 dept가 있을 경우 \n        if (confirm('정말로 삭제하시겠습니까?\\n삭제된 데이터는 복구할 수 없습니다.')) {\n          let result = await axios.delete(`/api/bom/${bomNo}`)\n            .catch(err => console.log(err));\n          let sqlRes = result.data;\n          let sqlResult = sqlRes.affectedRows;\n          if (sqlResult > 0) {\n            alert('정상적으로 삭제되었습니다.');\n            // 정상적으로 삭제된 경우 존재하지 않는 데이터이므로 전체조회로 페이지 전환\n            this.$emit('bom-reload');\n            this.bomMatInfo = [];\n            this.bom_no = '';\n            this.prd_no = '';\n            this.prd_nm = '';\n            this.use_yn = '';\n            this.$emit('clear-selection'); // 선택 초기화\n          } else {\n            alert('삭제되지 않았습니다.');\n          }\n        }\n      } else { // 선택된 BOM이 없을 경우\n        alert(\"삭제할 BOM을 선택하세요\");\n      }\n    },\n    resetForm() { // 초기화 버튼 클릭시 실행할 함수\n      this.getBomMatInfo(this.bomMatInfo[0].bom_no);\n    },\n    // 입력 행 제거\n    removeMatRow(index) {\n      this.bomMatInfo.splice(index, 1)\n    },\n    // 자재 선택 모달 열기\n    openMatModal() {\n      axios.get('/api/mat')\n        .then(res => {\n          this.matList = res.data;\n          this.showMatModal = true; // 모달 열기\n        })\n        .catch(err => {\n          console.error('자재 목록 불러오기 실패', err);\n        });\n    },\n    handleSelectedMats(selectedList) { // 자재 선택 모달에서 선택된 자재 목록\n      let updatedRows = [...this.bomMatInfo]\n      // updatedRows.map(row => row.mat_no) => updatedRows에서 각 row의 Key인 mat_no의 Value값을 받아옴(배열)\n      // new set() => 중복된 값 제거 * 자바스크립트의 자료형 중 하나 (set객체) \n      // 요약 : updatedRows에서 mat_no의 중복된 값 제거\n      const existingMatNos = new Set(updatedRows.map(row => row.mat_no))\n      // 1 선택된 자재에 대한 행 추가\n      updatedRows = this.appendSelectedMats(updatedRows, selectedList, existingMatNos)\n      // 2. 선택된 자재만 남기기 (bomRows를 선택된 자재로 초기화) \n      this.bomMatInfo = this.filterOnlySelectedRows(updatedRows, selectedList)\n      // 모달 닫기\n      this.showMatModal = false\n    },\n    // 선택된 자재에 대한 행 추가\n    appendSelectedMats(rows, selectedList, existingMatNos) {\n      for (const mat of selectedList) {\n        if (!existingMatNos.has(mat.mat_no)) { // has => set에 포함되어 있는지 확인\n          rows.push({\n            mat_no: mat.mat_no, // 자재번호\n            mat_nm: mat.mat_nm, // 자재명\n            cap: '', // 용량\n            unit: mat.unit, // 단위\n            rmk: '', // 비고\n          })\n          existingMatNos.add(mat.mat_no) // add => set에 추가등록\n        }\n      }\n      return rows\n    },\n    // 선택된 자재만 남기기 (bomRows를 선택된 자재로 초기화) \n    filterOnlySelectedRows(rows, selectedList) {\n      return rows.filter(row =>\n        // some => 자바스크립트 배열 메서드(배열 안에 특정 조건을 만족하는 요소가 하나라도 있으면 true를 반환)\n        row.mat_no && selectedList.some(select => select.mat_no === row.mat_no)\n      )\n    },\n  }\n\n};\n</script>\n\n<style scoped>\n.table-hover:hover {\n  cursor: pointer;\n}\n\n.card {\n  border: 1px solid #ddd;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);\n}\n</style>\n","<template>\n  <!-- 우측 영역 시작 -->\n  <div class=\"col-md-7\">\n    <!-- 우측 버튼 모음 영역 -->\n    <div class=\"d-flex justify-content-between mb-3\">\n      <div> <!-- 버튼 왼쪽 정렬 -->\n        <!-- <button class=\"btn btn-outline-secondary\" @click=\"openMatModal\">자재추가</button> -->\n      </div>\n      <div> <!-- 버튼 오른쪽 정렬 -->\n        <button class=\"btn btn-warning me-2\" @click=\"resetForm\">초기화</button>\n        <button class=\"btn btn-success\" @click=\"bomInsert\">저장</button>\n      </div>\n    </div> <!-- 우측 버튼 모음 영역 끝 -->\n    <!-- 우측 상세보기 영역 시작 -->\n    <div class=\"card p-3\">\n      <h4>BOM 등록</h4>\n      <div>\n        <div>\n          <div class=\"row mb-4\">\n            <!-- BOM번호 -->\n            <div class=\"col-md-6 mb-3\">\n              <div class=\"d-flex align-items-center\">\n                <label for=\"bomNo\" class=\"form-label me-3\" style=\"min-width: 100px;\">BOM번호</label>\n                <input id=\"bomNo\" type=\"text\" class=\"form-control\" v-model=\"bom_No\" readonly disabled />\n              </div>\n            </div>\n            <!-- 사용여부 -->\n            <div class=\"col-md-6 mb-3\">\n              <div class=\"d-flex align-items-center\">\n                <label for=\"useYn\" class=\"form-label me-3\" style=\"min-width: 100px;\">사용여부</label>\n                <input id=\"useYn\" type=\"text\" class=\"form-control\" value=\"여\" readonly disabled />\n              </div>\n            </div>\n            <!-- 제품명 -->\n            <div class=\"col-md-12 mb-3\">\n              <div class=\"d-flex align-items-center\">\n                <label for=\"prdNm\" class=\"form-label me-3\" style=\"min-width: 100px;\">제품명</label>\n                <div class=\"input-group\">\n                  <input id=\"prdNm\" type=\"text\" class=\"form-control\" v-model=\"prd_nm\" placeholder=\"제품을 선택해주세요.\"\n                    readonly />\n                  <button class=\"btn btn-outline-secondary\" @click=\"openPrdModal\">제품검색</button>\n                </div>\n              </div>\n            </div>\n            <div class=\"d-flex align-items-center\">\n              <button class=\"btn btn-outline-secondary align-items-center\" style=\"width: 100%;\"\n                @click=\"openMatModal\">자재추가</button>\n            </div>\n          </div>\n          <table class=\"table table-bordered text-center\">\n            <thead class=\"table-light\">\n              <tr>\n                <th style=\"font-weight: normal;\">자재번호</th>\n                <th style=\"font-weight: normal;\">자재명</th>\n                <th style=\"font-weight: normal;\">용량</th>\n                <th style=\"font-weight: normal;\">단위</th>\n                <th style=\"font-weight: normal;\">비고</th>\n                <th style=\"font-weight: normal;\">X</th>\n              </tr>\n            </thead>\n            <tbody>\n              <template v-if=\"bomRows[0].mat_no === ''\">\n                <tr>\n                  <td colspan=\"6\">자재추가 버튼을 눌러 자재를 추가해주세요.</td>\n                </tr>\n              </template>\n              <template v-else>\n                <tr v-for=\"(row, index) in bomRows\" :key=\"'new-' + index\">\n                  <td><input v-model=\"row.mat_no\" type=\"text\" class=\"form-control text-center\" readonly disabled /></td>\n                  <td><input v-model=\"row.mat_nm\" type=\"text\" class=\"form-control\" readonly disabled /></td>\n                  <td><input v-model.number=\"row.cap\" type=\"number\" class=\"form-control text-end\" /></td>\n                  <td><input v-model=\"row.unit\" type=\"text\" class=\"form-control\" readonly disabled /></td>\n                  <td><input v-model=\"row.rmk\" type=\"text\" class=\"form-control\" /></td>\n                  <td>\n                    <button class=\"btn btn-outline-danger me-1\" @click=\"removeMatRow(index)\"> X </button>\n                  </td>\n                </tr>\n              </template>\n            </tbody>\n          </table>\n\n          <matSelectModal v-if=\"showMatModal\" :matList=\"matList\" :selected=\"bomRows\" @select-mat=\"handleSelectedMats\"\n            @close=\"showMatModal = false\" />\n          <prdSelectModal v-if=\"showPrdModal\" :prdList=\"prdList\" :selected=\"prd_no\" @select-prd=\"handleSelectedPrd\"\n            @close=\"showPrdModal = false\" />\n\n        </div>\n      </div>\n    </div> <!-- 우측 상세보기 영역 끝 -->\n  </div> <!-- 우측 영역 끝 -->\n</template>\n\n<script>\n// AJAX 모듈\nimport axios from 'axios';\n\nimport matSelectModal from '@/views/modal/matSelectModal.vue';\nimport prdSelectModal from '@/views/modal/prdSelectModal.vue';\n\nexport default {\n  components: {\n    matSelectModal,\n    prdSelectModal,\n  },\n  data() {\n    return {\n      bom_No: '', // bom번호\n      prd_no: '', // 제품번호\n      prd_nm: '', // 제품명\n\n      bomRows: [\n        {\n          mat_no: '', // 자재번호\n          mat_nm: '', // 자재명\n          cap: '', // 용량\n          unit: '', // 단위\n          rmk: '', // 비고\n        }\n      ],\n\n      showMatModal: false, // 자재 선택 모달 초기화값 = 닫힘\n      showPrdModal: false, // 제품 선택 모달 초기화값 = 닫힘\n      matList: [], // 자재 리스트 (showMatModal에서 사용)\n      prdList: [], // 제품 리스트 (showPrdModal에서 사용)\n    };\n  },\n  created() {\n    this.getBomNo();\n  },\n  methods: {\n    // dept_no를 받아 데이터 받아오는 함수\n    async getBomNo() {\n      let result = await axios.get(`/api/bomNo`)\n        .catch(err => console.log(err));\n      this.bom_No = result.data[0].addBomNo;\n    },\n    // 초기화 버튼 클릭시 실행할 함수\n    resetForm() {\n      this.bomRows = [\n        {\n          mat_no: '', // 자재번호\n          mat_nm: '', // 자재명\n          cap: '', // 용량\n          unit: '', // 단위\n          rmk: '', // 비고\n        }\n      ],\n        this.prd_no = ''; // 제품번호\n      this.prd_nm = ''; // 제품명\n    },\n    // 저장 버튼 클릭시 실행할 함수 \n    async bomInsert() {\n\n      // 제품 선택 검증\n      if (!this.prd_no) {\n        alert('제품을 선택해주세요.');\n        return;\n      }\n\n      // 자재 목록 검증\n      if (!this.bomRows || this.bomRows.length === 0 || this.bomRows[0].mat_no === '') {\n        alert('자재를 추가해주세요.');\n        return;\n      }\n\n      // 각 자재의 용량 검증\n      for (let i = 0; i < this.bomRows.length; i++) {\n        const row = this.bomRows[i];\n        if (!row.cap || row.cap <= 0) {\n          alert(`${row.mat_nm}의 용량을 입력해주세요.`);\n          return;\n        }\n      }\n      \n      // 비고란 공백 제거\n      this.bomRows = this.bomRows.map(row => ({\n        ...row,\n        rmk: row.rmk?.trim() || ''\n      }));\n\n      // 서버에 전달할 정보를 객체로 따로 구성\n      let bomObj = {\n        prd_no: this.prd_no,\n      };\n      let bomMatObj = [];\n      for (let i = 0; i < this.bomRows.length; i++) {\n        bomMatObj[i] = {\n          bom_no: this.bom_No,\n          mat_no: this.bomRows[i].mat_no,\n          cap: this.bomRows[i].cap,\n          unit: this.bomRows[i].unit,\n          rmk: this.bomRows[i].rmk,\n        };\n      };\n\n      // axios 모듈을 활용해 AJAX하는 경우 POST와 PUT은 두번째 매개변수로 서버에 보낼 데이터를 전달, 자동으로 JSON 적용\n      let result = await axios.post(\"/api/bomAndBomMat\", [bomObj, bomMatObj])\n        .catch(err => console.log(err));\n\n      if (result.data.message == '등록 완료') {\n        alert('등록되었습니다.');\n        this.$emit('bom-reload');\n      } else {\n        alert('등록되지 않았습니다.\\n데이터를 확인해보세요.');\n      };\n      this.$emit(\"goToInfo\", true);\n    },\n    // 입력 행 제거\n    removeMatRow(index) {\n      this.bomRows.splice(index, 1)\n    },\n    // 자재 선택 모달 열기\n    openMatModal() {\n      axios.get('/api/mat')\n        .then(res => {\n          this.matList = res.data;\n          this.showMatModal = true;\n        })\n        .catch(err => {\n          console.error('자재 목록 불러오기 실패', err)\n        })\n    },\n    handleSelectedMats(selectedList) { // 자재 선택 모달에서 선택된 자재 목록\n      let updatedRows = [...this.bomRows]\n      // updatedRows.map(row => row.mat_no) => updatedRows에서 각 row의 Key인 mat_no의 Value값을 받아옴(배열)\n      // new set() => 중복된 값 제거 * 자바스크립트의 자료형 중 하나 (set객체) \n      // 요약 : updatedRows에서 mat_no의 중복된 값 제거\n      const existingMatNos = new Set(updatedRows.map(row => row.mat_no))\n      // 1 선택된 자재에 대한 행 추가\n      updatedRows = this.appendSelectedMats(updatedRows, selectedList, existingMatNos)\n      // 2. 선택된 자재만 남기기 (bomRows를 선택된 자재로 초기화) \n      this.bomRows = this.filterOnlySelectedRows(updatedRows, selectedList)\n      // 모달 닫기\n      this.showMatModal = false\n    },\n    // 선택된 자재에 대한 행 추가\n    appendSelectedMats(rows, selectedList, existingMatNos) {\n      for (const mat of selectedList) {\n        if (!existingMatNos.has(mat.mat_no)) { // has => set에 포함되어 있는지 확인\n          rows.push({\n            mat_no: mat.mat_no, // 자재번호\n            mat_nm: mat.mat_nm, // 자재명\n            cap: '', // 용량\n            unit: mat.unit, // 단위\n            rmk: '', // 비고\n          })\n          existingMatNos.add(mat.mat_no) // add => set에 추가등록\n        }\n      }\n      return rows\n    },\n    // 선택된 자재만 남기기 (bomRows를 선택된 자재로 초기화) \n    filterOnlySelectedRows(rows, selectedList) {\n      return rows.filter(row =>\n        // some => 자바스크립트 배열 메서드(배열 안에 특정 조건을 만족하는 요소가 하나라도 있으면 true를 반환)\n        row.mat_no && selectedList.some(select => select.mat_no === row.mat_no)\n      )\n    },\n\n    // 제품 선택 모달 열기\n    openPrdModal() {\n      axios.get('/api/prd')\n        .then(res => {\n          this.prdList = res.data;\n          this.showPrdModal = true;\n        })\n        .catch(err => {\n          console.error('제품 목록 불러오기 실패', err)\n        })\n    },\n    handleSelectedPrd(selectedPrd) { // 제품 선택 모달에서 선택된 제품\n      this.prd_no = selectedPrd.prd_no; // 모달에서 선택한 제품의 번호를 this.prd_no에 초기화\n      this.prd_nm = selectedPrd.prd_nm; // 모달에서 선택한 제품의 이름을 this.prd_nm에 초기화\n      // 모달 닫기\n      this.showPrdModal = false;\n      //console.log('선택된 제품:', selectedPrd.prd_no, selectedPrd.prd_nm);\n    },\n  }\n};\n</script>\n\n<style scoped>\n.table-hover:hover {\n  cursor: pointer;\n}\n\n.card {\n  border: 1px solid #ddd;\n  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);\n}\n</style>\n","<template>\n  <div class=\"container mt-4\">\n    <div class=\"row\">\n      <h1>BOM관리</h1>\n      <!-- 좌측 영역 시작 -->\n      <div class=\"col-md-5\">\n        <!-- 좌측 검색 및 필터 영역 시작 -->\n        <div class=\"d-flex justify-content-between mb-3\">\n          <input type=\"text\" class=\"form-control w-50\" placeholder=\"제품명 검색...\" v-model=\"searchQuery\" />\n          <select class=\"form-select w-25\" v-model=\"selectedFilter\">\n            <option value=\"\">전체</option>\n            <option value=\"f1\">여</option>\n            <option value=\"f2\">부</option>\n          </select>\n        </div> <!-- 좌측 검색 및 필터 영역 끝 -->\n        <!-- 좌측 리스트 영역 시작 -->\n        <div class=\"card p-3\">\n          <h4>BOM 목록</h4>\n          <div class=\"table-container\">\n            <table class=\"table table-bordered\">\n              <thead>\n                <tr>\n                  <th class=\"w-10\">BOM번호</th>\n                  <th class=\"w-30\">제품명 </th>\n                  <th class=\"w-10\">사용여부</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"bom in filteredBomList\" v-bind:key=\"bom.bom_no\" @click=\"selectBom(bom.bom_no)\"\n                  :class=\"{ 'table-primary': selectedBom && selectedBom.bom_no === bom.bom_no }\" class=\"table-hover\">\n                  <td class=\"w-10\">{{ bom.bom_no }}</td>\n                  <td class=\"w-30\">{{ bom.prd_nm }}</td>\n                  <td class=\"w-10\">{{ CommonCodeFormat(bom.use_yn) }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div> <!-- 좌측 리스트 영역 끝 -->\n      </div> <!-- 좌측 영역 시작 끝 -->\n\n      <!-- 우측 영역 -->\n      <bomInfo v-if=\"InfoView\" :bom=\"selectedBom\" @goToForm=\"msg\" @bom-reload=\"getBomList\"\n        @clear-selection=\"clearSelection\" />\n      <bomForm v-if=\"!InfoView\" @goToInfo=\"msg\" @bom-reload=\"getBomList\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport CommonCodeFormat from '@/utils/useCommonCode.js'\n// AJAX 모듈\nimport axios from 'axios';\n// 자식 컴포넌트 import\nimport bomInfo from './bomInfo.vue';\nimport bomForm from './bomForm.vue';\n\nexport default {\n  components: {\n    bomInfo,\n    bomForm,\n  },\n  data() {\n    return {\n      searchQuery: \"\", // 검색어 초기 값\n      selectedFilter: \"\", // 필터 option value의 초기 값(전체)\n      selectedBom: null, // 선택된 BOM(상세보기에 표시될 BOM 데이터)\n      bomList: [], // BOM리스트 데이터 담을 배열\n\n      InfoView: true,\n    };\n  },\n  computed: {\n    filteredBomList() { // 필터된 bomList 보여줌\n      return this.bomList.filter(bom =>\n        bom.prd_nm.toLowerCase().includes(this.searchQuery.toLowerCase()) && // prd_nm을 소문자로 바꿔서 searchQuery(검색어)를 소문자로 바꾼 값이 prd_nm에 포함되어 있으면 True\n        (this.selectedFilter === \"\" || bom.use_yn === this.selectedFilter) // === 값과 타입이 일치, 필터조건 <option value=\"\">의 값이 \"\"(전체)이거나, 필터조건의 value값이 dept_nm과 같으면 True\n      );\n    },\n  },\n  created() {\n    // 페이지 열 때 deptList데이터 받아오기 실행\n    this.getBomList();\n  },\n  methods: {\n    // 날짜 데이터 포멧 정의\n    CommonCodeFormat(value) {\n      return CommonCodeFormat.CommonCodeFormat(value);\n    },\n    // deptList데이터 받아오는 함수\n    async getBomList() {\n      let result = await axios.get('/api/bom')\n        .catch(err => console.log(err));\n      this.bomList = result.data; //deptList배열에 결과값 담음\n    },\n    // 상세보기에 보여질 데이터 받아오는 함수\n    async selectBom(bomNo) { // 리스트에서 선택한 dept정보를 selectedDept에 저장(상세보기에 표시될 부서 데이터)\n      try {\n        const bom = this.bomList.find(bom => bom.bom_no === bomNo);\n        // this.InfoView = true;로 컴포넌트를 활성화하면 Vue는 DOM을 업데이트하는 작업을 예약(비동기)\n        this.InfoView = true;\n        // $nextTick()을 사용하면 DOM 업데이트가 완료된 후 안전하게 작업을 수행할 수 있습니다.(비동기-> 동기처리)\n        await this.$nextTick();\n        this.selectedBom = bom;  // 클릭한 부서를 selectedDept에 저장\n      } catch (err) {\n        console.error('BOM 선택 중 오류 발생:', err);\n      }\n    },\n    msg(data) {\n      this.InfoView = data;\n      if (!data) {\n        this.selectedBom = null; // bomForm이 활성화되면 선택된 BOM 초기화\n      }\n    },\n    clearSelection() {\n      this.selectedBom = null;\n    }\n  }\n};\n</script>\n\n<style scoped>\n@import '@/assets/styles/base-table.css';\n</style>\n"],"names":["_sfc_main","matSelectModal","newVal","selected","result","axios","err","mat","bomInfo","bomMatInfoArray","i","bomNo","index","res","selectedList","updatedRows","existingMatNos","row","rows","select","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_openBlock","_createElementBlock","_createElementVNode","$options","args","_cache","$event","$data","$props","_hoisted_4","_Fragment","_renderList","_vModelText","_hoisted_20","_createBlock","_component_matSelectModal","_createCommentVNode","_hoisted_21","prdSelectModal","_a","bomObj","bomMatObj","selectedPrd","_component_prdSelectModal","bomForm","bom","value","CommonCodeFormat","data","_normalizeClass","_toDisplayString","_component_bomInfo","_component_bomForm"],"mappings":"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"}