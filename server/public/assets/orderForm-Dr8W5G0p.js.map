{"version":3,"file":"orderForm-Dr8W5G0p.js","sources":["../../../client/src/views/inventory/orderForm.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\n    <div class=\"d-flex gap-4\">\n      <h2 class=\"mb-4\">주문조회</h2>\n    </div>\n  </div>\n\n  <!-- 상단 검색 -->\n  <div class=\"d-flex justify-content-end align-items-center mb-3\">\n    <!-- <form class=\"d-flex\" role=\"search\">\n      <input class=\"form-control me-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\" />\n      <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\n    </form> -->\n    <button type=\"button\" class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n      주문 등록\n    </button>\n  </div>\n\n  <!-- 주문 등록 모달 -->\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">주문등록</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n\n        <div class=\"modal-body\">\n          <!-- 검색 옵션 -->\n          <!-- <div class=\"d-flex align-items-center gap-3 mb-3\">\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"searchType\" id=\"searchByName\" checked />\n              <label class=\"form-check-label\" for=\"searchByName\">업체명</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"radio\" name=\"searchType\" id=\"searchByCode\" />\n              <label class=\"form-check-label\" for=\"searchByCode\">업체코드</label>\n            </div>\n            <input type=\"text\" class=\"form-control w-50 ms-3\" placeholder=\"Search...\" />\n          </div> -->\n\n          <!-- 업체 정보 입력 -->\n          <div class=\"border rounded p-3 mb-4\">\n            <div class=\"row g-3\">\n              <div class=\"col-md-4\"><label class=\"form-label\">업체명</label><input type=\"text\" class=\"form-control\" v-model=\"vdr\" /></div>\n              <div class=\"col-md-4\"><label class=\"form-label\">업체코드</label><input type=\"text\" class=\"form-control\" v-model=\"vdrCd\" /></div>\n              <div class=\"col-md-4\"><label class=\"form-label\">사업자등록번호</label><input type=\"text\" class=\"form-control\" v-model=\"bizNo\" /></div>\n              <div class=\"col-md-4\"><label class=\"form-label\">납기예정일</label><input type=\"date\" class=\"form-control\" v-model=\"dueDt\" /></div>\n              <div class=\"col-md-4\"><label class=\"form-label\">이름</label><input type=\"text\" class=\"form-control\" /></div>\n              <div class=\"col-md-4\"><label class=\"form-label\">연락처</label><input type=\"text\" class=\"form-control\" /></div>\n              <div class=\"col-md-12\"><label class=\"form-label\">주소</label><input type=\"text\" class=\"form-control\" /></div>\n            </div>\n          </div>\n\n          <!-- 제품 리스트 테이블 -->\n          <table class=\"table table-bordered text-center align-middle\">\n            <thead class=\"table-light\">\n              <tr>\n                <th>No</th>\n                <th>제품 ID</th>\n                <th>제품명</th>\n                <th>수량</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>1</td>\n                <td><input type=\"text\" class=\"form-control\" v-model=\"prdNo\" /></td>\n                <td><input type=\"text\" class=\"form-control\" /></td>\n                <td><input type=\"number\" class=\"form-control\" v-model=\"prdQty\" /></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">닫기</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"addOrd\">주문등록</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 주문 리스트 테이블 -->\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th scope=\"col\">주문번호</th>\n        <th scope=\"col\">제품명</th>\n        <th scope=\"col\">거래처명</th>\n        <th scope=\"col\">제품</th>\n        <th scope=\"col\">요청수량</th>\n        <th scope=\"col\">lot재고량</th>\n        <!-- <th scope=\"col\">수량</th>\n        <th scope=\"col\">주문일자</th>\n        <th scope=\"col\">현재수량</th> -->\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(item, index) in ordList\" :key=\"index\">\n        <th scope=\"row\">{{ item.ord_no }}</th>\n        <th>{{ item.prd_nm }}</th>\n        <td>{{ item.cpy_nm }}</td>\n        <td>{{ item.prd_nm }}</td>\n        <td>{{item['요청수량'] }}</td>\n        <td v-if=\"item['lot수량']>0\" >{{ item['lot수량'] }}</td>\n        <td v-else>0</td>\n        <!-- <td>{{ item.prd_qty }}</td>\n        <td>{{ item.rgt_dt.substring(0,10) }}</td>\n        <td>{{ item.due_dt.substring(0,10) }}</td> -->\n      </tr>\n    </tbody>\n  </table>\n\n  <!-- 총 주문 수량 -->\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\n    <div class=\"d-flex gap-4\">\n      <h2 class=\"mb-4\">총 주문 수량</h2>\n    </div>\n  </div>\n  <input type=\"date\" v-model=\"startDate\" />\n  <input type=\"date\" v-model=\"endDate\" />\n  <button class=\"btn btn-primary\" @click=\"fetchOrdByDate\">조회</button>\n\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th>날짜</th>\n        <th>제품명</th>\n        <th>현재고</th>\n        <th>총 주문수량</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"(item, index) in ordListByDate\" :key=\"index\">\n        <td>{{ item['DATE(o.due_dt)'].substring(0,10) }}</td>\n        <td>{{ item.prd_nm }}</td>\n        <td>{{ item.cur_stk }}</td>\n        <td>{{ item['SUM(od.prd_qty)'] }}</td>\n      </tr>\n    </tbody>\n  </table>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  data() {\n    return {\n      ordList: [],\n      startDate: '',\n      endDate: '',\n      tableData: {},\n      ordListByDate: [],\n      dateArray: [],\n      vdr: '',\n      vdrCd: '',\n      bizNo: '',\n      dueDt: '',\n      prdNo: '',\n      prdQty: ''\n    }\n  },\n\n  created() {\n    this.getOrdList()\n  },\n  methods: {\n    async getOrdList() {\n      try {\n        const result = await axios.get('/api/ord')\n        this.ordList = result.data\n        console.log('주문리스트:', this.ordList)\n      } catch (err) {\n        console.log('주문리스트 불러오기 실패', err)\n      }\n    },\n\n    async fetchOrdByDate() {\n      console.log('날짜 확인:', this.startDate, this.endDate)\n      this.dateArray = ['품명', '현재고']\n      try {\n        const result = await axios.get('/api/ord/by-date', {\n          params: {\n            startDate: this.startDate,\n            endDate: this.endDate\n          }\n        })\n        this.ordListByDate = result.data\n        const current = new Date(this.startDate)\n        const end = new Date(this.endDate)\n        while (current <= end) {\n          const dateStr = current.toISOString().slice(0, 10)\n          this.dateArray.push(dateStr)\n          current.setDate(current.getDate() + 1)\n        }\n      } catch (err) {\n        console.log('기간별 주문리스트 불러오기 실패', err)\n      }\n    },\n\n    async addOrd() {\n      try {\n        const result = await axios.post('/api/ord', {\n          vdr_no: this.vdrCd,\n          due_dt: this.dueDt,\n          prd_no: this.prdNo,\n          prd_qty: this.prdQty\n        })\n        console.log(result.data)\n        this.getOrdList()\n        alert('주문등록 완료')\n      } catch (err) {\n        console.log('주문등록 실패', err)\n      }\n    }\n  }\n}\n</script>"],"names":["_sfc_main","result","axios","err","current","end","dateStr","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_17","_openBlock","_createElementBlock","_Fragment","_cache","_createStaticVNode","_createElementVNode","_hoisted_1","$event","$data","$options","args","_renderList","item","index","_toDisplayString","_hoisted_15","_hoisted_16"],"mappings":"8GAmJA,MAAKA,EAAU,CACb,MAAO,CACL,MAAO,CACL,QAAS,CAAE,EACX,UAAW,GACX,QAAS,GACT,UAAW,CAAE,EACb,cAAe,CAAE,EACjB,UAAW,CAAE,EACb,IAAK,GACL,MAAO,GACP,MAAO,GACP,MAAO,GACP,MAAO,GACP,OAAQ,EACV,CACD,EAED,SAAU,CACR,KAAK,WAAU,CAChB,EACD,QAAS,CACP,MAAM,YAAa,CACjB,GAAI,CACF,MAAMC,EAAS,MAAMC,EAAM,IAAI,UAAU,EACzC,KAAK,QAAUD,EAAO,KACtB,QAAQ,IAAI,SAAU,KAAK,OAAO,CAClC,OAAOE,EAAK,CACZ,QAAQ,IAAI,gBAAiBA,CAAG,CAClC,CACD,EAED,MAAM,gBAAiB,CACrB,QAAQ,IAAI,SAAU,KAAK,UAAW,KAAK,OAAO,EAClD,KAAK,UAAY,CAAC,KAAM,KAAK,EAC7B,GAAI,CACF,MAAMF,EAAS,MAAMC,EAAM,IAAI,mBAAoB,CACjD,OAAQ,CACN,UAAW,KAAK,UAChB,QAAS,KAAK,OAChB,CACD,CAAA,EACD,KAAK,cAAgBD,EAAO,KAC5B,MAAMG,EAAU,IAAI,KAAK,KAAK,SAAS,EACjCC,EAAM,IAAI,KAAK,KAAK,OAAO,EACjC,KAAOD,GAAWC,GAAK,CACrB,MAAMC,EAAUF,EAAQ,YAAa,EAAC,MAAM,EAAG,EAAE,EACjD,KAAK,UAAU,KAAKE,CAAO,EAC3BF,EAAQ,QAAQA,EAAQ,QAAQ,EAAI,CAAC,CACvC,CACA,OAAOD,EAAK,CACZ,QAAQ,IAAI,oBAAqBA,CAAG,CACtC,CACD,EAED,MAAM,QAAS,CACb,GAAI,CACF,MAAMF,EAAS,MAAMC,EAAM,KAAK,WAAY,CAC1C,OAAQ,KAAK,MACb,OAAQ,KAAK,MACb,OAAQ,KAAK,MACb,QAAS,KAAK,MACf,CAAA,EACD,QAAQ,IAAID,EAAO,IAAI,EACvB,KAAK,WAAU,EACf,MAAM,SAAS,CACf,OAAOE,EAAK,CACZ,QAAQ,IAAI,UAAWA,CAAG,CAC5B,CACF,CACF,CACF,KAvMO,MAAM,aAAa,GAAG,eAAe,SAAS,KAAK,kBAAgB,oBAAoB,cAAY,QACjGI,EAAA,CAAA,MAAM,uBAAuB,EAC3BC,EAAA,CAAA,MAAM,eAAe,EAMnBC,EAAA,CAAA,MAAM,YAAY,EAehBC,EAAA,CAAA,MAAM,yBAAyB,EAC7BC,EAAA,CAAA,MAAM,SAAS,EACbC,EAAA,CAAA,MAAM,UAAU,EAChBC,EAAA,CAAA,MAAM,UAAU,EAChBC,EAAA,CAAA,MAAM,UAAU,EAChBC,EAAA,CAAA,MAAM,UAAU,EAQlBC,EAAA,CAAA,MAAM,+CAA+C,EAoBzDC,EAAA,CAAA,MAAM,cAAc,EASxBC,EAAA,CAAA,MAAM,OAAO,EAgBVC,EAAA,CAAA,MAAM,KAAK,KApGvB,IAAA,CAAA,KAAA,IAAA,CAAA,EA4HSC,EAAA,CAAA,MAAM,OAAO,0BA5HtB,OAAAC,EAAA,EAAAC,EAAAC,EAAA,KAAA,CAAAC,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAA,iUAAA,CAAA,GAmBEC,EA8DM,MA9DNC,EA8DM,CA7DJD,EA4DM,MA5DNnB,EA4DM,CA3DJmB,EA0DM,MA1DNlB,EA0DM,eAzDJkB,EAGM,MAAA,CAHD,MAAM,gBAAc,CACvBA,EAAwD,KAAA,CAApD,MAAM,cAAc,GAAG,qBAAoB,MAAI,EACnDA,EAA4F,SAAA,CAApF,KAAK,SAAS,MAAM,YAAY,kBAAgB,QAAQ,aAAW,gBAG7EA,EA8CM,MA9CNjB,EA8CM,CA/BJiB,EAUM,MAVNhB,EAUM,CATJgB,EAQM,MARNf,EAQM,CAPJe,EAAyH,MAAzHd,EAAyH,CAAnGY,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAE,EAAqC,QAA9B,CAAA,MAAM,YAAY,EAAC,MAAG,EAAA,KAAQA,EAAwD,QAAA,CAAjD,KAAK,OAAO,MAAM,eA5ClG,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GA4C0HC,EAAG,IAAAD,kBAAHC,EAAG,GAAA,MAC/GH,EAA4H,MAA5Hb,EAA4H,CAAtGW,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAE,EAAsC,QAA/B,CAAA,MAAM,YAAY,EAAC,OAAI,EAAA,KAAQA,EAA0D,QAAA,CAAnD,KAAK,OAAO,MAAM,eA7CnG,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GA6C2HC,EAAK,MAAAD,kBAALC,EAAK,KAAA,MAClHH,EAA+H,MAA/HZ,EAA+H,CAAzGU,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAE,EAAyC,QAAlC,CAAA,MAAM,YAAY,EAAC,UAAO,EAAA,KAAQA,EAA0D,QAAA,CAAnD,KAAK,OAAO,MAAM,eA9CtG,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GA8C8HC,EAAK,MAAAD,kBAALC,EAAK,KAAA,MACrHH,EAA6H,MAA7HX,EAA6H,CAAvGS,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAE,EAAuC,QAAhC,CAAA,MAAM,YAAY,EAAC,QAAK,EAAA,KAAQA,EAA0D,QAAA,CAAnD,KAAK,OAAO,MAAM,eA/CpG,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GA+C4HC,EAAK,MAAAD,kBAALC,EAAK,KAAA,MA/CjIL,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,EAAA,6TAAA,CAAA,OAuDUC,EAiBQ,QAjBRV,EAiBQ,eAhBNU,EAOQ,QAAA,CAPD,MAAM,eAAa,CACxBA,EAKK,KAAA,KAAA,CAJHA,EAAW,UAAP,IAAE,EACNA,EAAc,UAAV,OAAK,EACTA,EAAY,UAAR,KAAG,EACPA,EAAW,UAAP,IAAE,UAGVA,EAOQ,QAAA,KAAA,CANNA,EAKK,KAAA,KAAA,CAJHF,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAE,EAAU,UAAN,IAAC,EAAA,GACLA,EAAmE,KAAA,KAAA,GAA/DA,EAA0D,QAAA,CAAnD,KAAK,OAAO,MAAM,eAnE7C,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAmEqEC,EAAK,MAAAD,kBAALC,EAAK,KAAA,oBAC1DH,EAAmD,KAAA,KAAA,CAA/CA,EAA0C,QAAA,CAAnC,KAAK,OAAO,MAAM,uBAC7BA,EAAsE,KAAA,KAAA,GAAlEA,EAA6D,QAAA,CAAtD,KAAK,SAAS,MAAM,eArE/C,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAqEuEC,EAAM,OAAAD,kBAANC,EAAM,MAAA,cAMrEH,EAGM,MAHNT,EAGM,eAFJS,EAAmF,SAAA,CAA3E,KAAK,SAAS,MAAM,oBAAoB,kBAAgB,SAAQ,KAAE,EAAA,GAC1EA,EAA2E,SAAA,CAAnE,KAAK,SAAS,MAAM,kBAAmB,4BAAOI,EAAM,QAAAA,EAAA,OAAA,GAAAC,CAAA,IAAE,MAAI,UAO1EL,EA4BQ,QA5BRR,EA4BQ,eA3BNQ,EAYQ,QAAA,KAAA,CAXNA,EAUK,KAAA,KAAA,CATHA,EAAyB,KAArB,CAAA,MAAM,KAAK,EAAC,MAAI,EACpBA,EAAwB,KAApB,CAAA,MAAM,KAAK,EAAC,KAAG,EACnBA,EAAyB,KAArB,CAAA,MAAM,KAAK,EAAC,MAAI,EACpBA,EAAuB,KAAnB,CAAA,MAAM,KAAK,EAAC,IAAE,EAClBA,EAAyB,KAArB,CAAA,MAAM,KAAK,EAAC,MAAI,EACpBA,EAA2B,KAAvB,CAAA,MAAM,OAAM,QAAM,UAM1BA,EAaQ,QAAA,KAAA,EAZNL,EAAA,EAAA,EAAAC,EAWKC,OA9GXS,EAmGkCH,EAAA,QAnGlC,CAmGkBI,EAAMC,SAAlBZ,EAWK,KAAA,CAXiC,IAAKY,GAAK,CAC9CR,EAAsC,KAAtCP,EAAmBgB,EAAAF,EAAK,MAAM,EAAA,CAAA,EAC9BP,EAA0B,KAAA,KAAAS,EAAnBF,EAAK,MAAM,EAAA,CAAA,EAClBP,EAA0B,KAAA,KAAAS,EAAnBF,EAAK,MAAM,EAAA,CAAA,EAClBP,EAA0B,KAAA,KAAAS,EAAnBF,EAAK,MAAM,EAAA,CAAA,EAClBP,EAA0B,YAApBO,EAAI,IAAA,EAAA,CAAA,EACAA,EAAI,MAAA,OAAdX,EAAoD,KAzG5Dc,IAyGuCH,EAAI,KAAA,EAAA,CAAA,QACnCX,EAAiB,KA1GzBe,EA0GmB,GAAC,+BASlBX,EAIM,MAAA,CAJD,MAAM,0DAAwD,CACjEA,EAEM,MAAA,CAFD,MAAM,cAAc,EAAA,CACvBA,EAA6B,KAAzB,CAAA,MAAM,QAAO,SAAO,YAG5BA,EAAyC,QAAA,CAAlC,KAAK,OAxHd,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAwH8BC,EAAS,UAAAD,kBAATC,EAAS,SAAA,MACrCH,EAAuC,QAAA,CAAhC,KAAK,OAzHd,sBAAAF,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAI,GAyH8BC,EAAO,QAAAD,kBAAPC,EAAO,OAAA,IACnCH,EAAmE,SAAA,CAA3D,MAAM,kBAAmB,4BAAOI,EAAc,gBAAAA,EAAA,eAAA,GAAAC,CAAA,IAAE,IAAE,EAE1DL,EAiBQ,QAjBRN,EAiBQ,eAhBNM,EAOQ,QAAA,KAAA,CANNA,EAKK,KAAA,KAAA,CAJHA,EAAW,UAAP,IAAE,EACNA,EAAY,UAAR,KAAG,EACPA,EAAY,UAAR,KAAG,EACPA,EAAe,UAAX,QAAM,UAGdA,EAOQ,QAAA,KAAA,EANNL,EAAA,EAAA,EAAAC,EAKKC,OA3IXS,EAsIkCH,EAAA,cAtIlC,CAsIkBI,EAAMC,SAAlBZ,EAKK,KAAA,CALuC,IAAKY,GAAK,CACpDR,EAAqD,KAAA,KAAAS,EAA9CF,EAAI,gBAAA,EAAmB,UAAS,EAAA,EAAA,CAAA,EAAA,CAAA,EACvCP,EAA0B,KAAA,KAAAS,EAAnBF,EAAK,MAAM,EAAA,CAAA,EAClBP,EAA2B,KAAA,KAAAS,EAApBF,EAAK,OAAO,EAAA,CAAA,EACnBP,EAAsC,YAA/BO,EAAI,iBAAA,CAAA,EAAA,CAAA"}