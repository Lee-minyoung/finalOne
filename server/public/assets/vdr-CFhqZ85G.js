<<<<<<<< HEAD:server/public/assets/vdr-BoEf76Vi.js
import{_ as b,e as c,c as f,a as o,w as n,v as r,k as _,o as m,d as I,i as y,j as g,F as w,r as V,l as h,f as C,t as p}from"./index-CxFk6QSJ.js";import{u as F}from"./useDates-UMs5Kxim.js";import{d as x}from"./useCommonCode-DKmraWxZ.js";import{u as N}from"./useDates2-sS5pNIz9.js";const U={props:{vdr:Object},data(){return{vdrInfo:{},addrPlus:""}},watch:{vdr(){let d=this.vdr;console.log(d.vdr_no),this.getVdrInfo(d.vdr_no)}},mounted(){const d=document.createElement("script");d.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",document.head.appendChild(d);const t=document.createElement("link");t.href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css",t.rel="stylesheet",document.head.appendChild(t)},methods:{CommonCodeFormat(d){return x.CommonCodeFormat(d)},dateFormat(d,t){return F.dateFormat(d,t)},getDate(d){return this.dateFormat(d,"yyyy-MM-dd")},async getVdrInfo(d){let t=await c.get(`/api/vdr/${d}`).catch(a=>console.log(a));this.vdrInfo=t.data,this.addrPlus="",this.vdrInfo.ofc_sts||(this.vdrInfo.ofc_sts="d1")},async vdrUpdate(){let d={use_yn:this.vdrInfo.use_yn,ofc_tp:this.vdrInfo.ofc_tp,ofc_sts:this.vdrInfo.ofc_sts,ofc_ctt:this.vdrInfo.ofc_ctt,ofc_addr:this.vdrInfo.ofc_addr+" "+this.addrPlus.trim(),mgr_nm:this.vdrInfo.mgr_nm,mgr_ctt:this.vdrInfo.mgr_ctt,cpy_nm:this.vdrInfo.cpy_nm,ceo_nm:this.vdrInfo.ceo_nm,biz_reg_no:this.vdrInfo.biz_reg_no};try{(await c.put(`/api/vdr/${this.vdrInfo.vdr_no}`,d)).data.isUpdated?(alert("수정되었습니다."),this.$emit("vdr-reload"),this.getVdrInfo(this.vdrInfo.vdr_no)):alert(`수정되지 않았습니다.
========
import{_ as b,e as c,c as f,a as o,w as n,v as r,k as _,o as m,d as I,i as y,j as g,F as w,r as V,l as h,f as C,t as p}from"./index-DRp0-N0C.js";import{u as F}from"./useDates-UMs5Kxim.js";import{d as x}from"./useCommonCode-DKmraWxZ.js";import{u as N}from"./useDates2-sS5pNIz9.js";const U={props:{vdr:Object},data(){return{vdrInfo:{},addrPlus:""}},watch:{vdr(){let d=this.vdr;console.log(d.vdr_no),this.getVdrInfo(d.vdr_no)}},mounted(){const d=document.createElement("script");d.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",document.head.appendChild(d);const t=document.createElement("link");t.href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css",t.rel="stylesheet",document.head.appendChild(t)},methods:{CommonCodeFormat(d){return x.CommonCodeFormat(d)},dateFormat(d,t){return F.dateFormat(d,t)},getDate(d){return this.dateFormat(d,"yyyy-MM-dd")},async getVdrInfo(d){let t=await c.get(`/api/vdr/${d}`).catch(a=>console.log(a));this.vdrInfo=t.data,this.addrPlus="",this.vdrInfo.ofc_sts||(this.vdrInfo.ofc_sts="d1")},async vdrUpdate(){let d={use_yn:this.vdrInfo.use_yn,ofc_tp:this.vdrInfo.ofc_tp,ofc_sts:this.vdrInfo.ofc_sts,ofc_ctt:this.vdrInfo.ofc_ctt,ofc_addr:this.vdrInfo.ofc_addr+" "+this.addrPlus.trim(),mgr_nm:this.vdrInfo.mgr_nm,mgr_ctt:this.vdrInfo.mgr_ctt,cpy_nm:this.vdrInfo.cpy_nm,ceo_nm:this.vdrInfo.ceo_nm,biz_reg_no:this.vdrInfo.biz_reg_no};try{(await c.put(`/api/vdr/${this.vdrInfo.vdr_no}`,d)).data.isUpdated?(alert("수정되었습니다."),this.$emit("vdr-reload"),this.getVdrInfo(this.vdrInfo.vdr_no)):alert(`수정되지 않았습니다.
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/vdr-CFhqZ85G.js
데이터를 확인해보세요.`)}catch(t){console.error("거래처 수정 실패:",t),alert("거래처 수정에 실패했습니다.")}},saveVdr(){confirm(`정말로 수정하시겠습니까?
변경된 내용은 즉시 적용됩니다.`)&&this.vdrUpdate()},addVdr(){this.$emit("goToForm",!1)},async deleteVdr(d){if(d){if(confirm(`정말로 삭제하시겠습니까?
삭제된 데이터는 복구할 수 없습니다.`))try{(await c.delete(`/api/vdr/${d}`)).data.affectedRows>0?(alert("정상적으로 삭제되었습니다."),this.$emit("vdr-reload"),this.vdrInfo={},this.addrPlus=""):alert("삭제되지 않았습니다.")}catch(t){console.error("거래처 삭제 실패:",t),alert("거래처 삭제에 실패했습니다.")}}else alert("삭제할 거래처를 선택하세요")},resetForm(){this.getVdrInfo(this.vdrInfo.vdr_no),this.addrPlus=""},openDaumPostcode(){new window.daum.Postcode({oncomplete:d=>{let t=`[${d.zonecode}] ${d.address}`;this.vdrInfo.ofc_addr=t,this.addrPlus=""}}).open()}}},k={class:"col-md-6"},P={class:"d-flex justify-content-between mb-3"},T={class:"card p-3"},z={key:0},D={class:"row mb-2"},j={class:"col-md-6 mb-3"},L={class:"d-flex align-items-center"},M={class:"col-md-6 mb-3"},R={class:"d-flex align-items-center"},S={class:"col-md-12 mb-3"},A={class:"d-flex align-items-center"},E={class:"col-md-6 mb-3"},B={class:"d-flex align-items-center"},G={class:"col-md-6 mb-3"},Q={class:"d-flex align-items-center"},O={class:"col-md-12 mb-3"},Y={class:"row"},q={class:"col-md-6"},H={class:"d-flex align-items-center"},J={class:"col-md-6"},K={class:"d-flex align-items-center"},W={class:"col-md-12 mb-3"},X={class:"d-flex align-items-center"},Z={class:"input-group"},$={class:"col-md-12 mb-3"},tt={class:"d-flex align-items-center"},ot={class:"col-md-12 mb-3"},et={class:"row"},st={class:"col-md-6"},dt={class:"d-flex align-items-center"},lt={class:"col-md-6"},nt={class:"d-flex align-items-center"},rt={class:"col-md-12 mb-3"},it={class:"row"},mt={class:"col-md-6"},at={class:"d-flex align-items-center"},ct=["value"],ft={class:"col-md-6"},vt={class:"d-flex align-items-center"},ut=["value"],pt={key:1};function _t(d,t,a,v,e,l){return m(),f("div",k,[o("div",P,[o("div",null,[o("button",{class:"btn btn-primary me-2",onClick:t[0]||(t[0]=(...s)=>l.addVdr&&l.addVdr(...s))},"등록"),o("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=s=>l.deleteVdr(e.vdrInfo.vdr_no))},"삭제")]),o("div",null,[o("button",{class:"btn btn-warning me-2",onClick:t[2]||(t[2]=(...s)=>l.resetForm&&l.resetForm(...s))},"초기화"),o("button",{class:"btn btn-success",onClick:t[3]||(t[3]=(...s)=>l.saveVdr&&l.saveVdr(...s))},"저장")])]),o("div",T,[t[32]||(t[32]=o("h4",null,"상세 보기",-1)),e.vdrInfo.vdr_no?(m(),f("div",z,[o("div",null,[o("div",D,[o("div",j,[o("div",L,[t[16]||(t[16]=o("label",{for:"vdrNo",class:"form-label me-3",style:{"min-width":"100px"}},"거래처번호",-1)),n(o("input",{id:"vdrNo",type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>e.vdrInfo.vdr_no=s),readonly:"",disabled:""},null,512),[[r,e.vdrInfo.vdr_no]])])]),o("div",M,[o("div",R,[t[17]||(t[17]=o("label",{for:"bizRegNo",class:"form-label nowrap-label",style:{"min-width":"120px"}},"사업자등록번호",-1)),n(o("input",{id:"bizRegNo",type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>e.vdrInfo.biz_reg_no=s)},null,512),[[r,e.vdrInfo.biz_reg_no]])])]),o("div",S,[o("div",A,[t[18]||(t[18]=o("label",{for:"cpyNm",class:"form-label me-3",style:{"min-width":"100px"}},"상호명",-1)),n(o("input",{id:"cpyNm",type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=s=>e.vdrInfo.cpy_nm=s)},null,512),[[r,e.vdrInfo.cpy_nm]])])]),o("div",E,[o("div",B,[t[19]||(t[19]=o("label",{for:"ceoNm",class:"form-label me-3",style:{"min-width":"100px"}},"대표자명",-1)),n(o("input",{id:"ceoNm",type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=s=>e.vdrInfo.ceo_nm=s)},null,512),[[r,e.vdrInfo.ceo_nm]])])]),o("div",G,[o("div",Q,[t[20]||(t[20]=o("label",{for:"ofcCtt",class:"form-label me-3",style:{"min-width":"100px"}},"사업장연락처",-1)),n(o("input",{id:"ofcCtt",type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=s=>e.vdrInfo.ofc_ctt=s)},null,512),[[r,e.vdrInfo.ofc_ctt]])])]),o("div",O,[o("div",Y,[o("div",q,[o("div",H,[t[21]||(t[21]=o("label",{for:"mgrNm",class:"form-label me-3",style:{"min-width":"100px"}},"담당자명",-1)),n(o("input",{id:"mgrNm",type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=s=>e.vdrInfo.mgr_nm=s)},null,512),[[r,e.vdrInfo.mgr_nm]])])]),o("div",J,[o("div",K,[t[22]||(t[22]=o("label",{for:"mgrCtt",class:"form-label me-3",style:{"min-width":"100px"}},"담당자연락처",-1)),n(o("input",{id:"mgrCtt",type:"text",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=s=>e.vdrInfo.mgr_ctt=s)},null,512),[[r,e.vdrInfo.mgr_ctt]])])])])]),o("div",W,[o("div",X,[t[23]||(t[23]=o("label",{for:"ofcAddr",class:"form-label me-3",style:{"min-width":"100px"}},"사업장주소",-1)),o("div",Z,[n(o("input",{id:"ofcAddr",type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=s=>e.vdrInfo.ofc_addr=s),readonly:""},null,512),[[r,e.vdrInfo.ofc_addr]]),o("button",{class:"btn btn-outline-secondary",onClick:t[12]||(t[12]=(...s)=>l.openDaumPostcode&&l.openDaumPostcode(...s))},"주소찾기")])])]),o("div",$,[o("div",tt,[t[24]||(t[24]=o("label",{for:"addr",class:"form-label me-3",style:{"min-width":"100px"}},"상세주소",-1)),n(o("input",{id:"addr",type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=s=>e.addrPlus=s),placeholder:"상세주소"},null,512),[[r,e.addrPlus]])])]),o("div",ot,[o("div",et,[o("div",st,[o("div",dt,[t[26]||(t[26]=o("label",{for:"ofcTp",class:"form-label me-3",style:{"min-width":"100px"}},"사업장유형",-1)),n(o("select",{id:"ofcTp",class:"form-select","onUpdate:modelValue":t[14]||(t[14]=s=>e.vdrInfo.ofc_tp=s)},t[25]||(t[25]=[o("option",{value:"b1"},"판매처",-1),o("option",{value:"b2"},"구매처",-1),o("option",{value:"b3"},"혼합",-1),o("option",{value:"b4"},"외주처",-1)]),512),[[_,e.vdrInfo.ofc_tp]])])]),o("div",lt,[o("div",nt,[t[28]||(t[28]=o("label",{for:"ofcSts",class:"form-label me-3",style:{"min-width":"100px"}},"사업장상태",-1)),n(o("select",{id:"ofcSts",class:"form-select","onUpdate:modelValue":t[15]||(t[15]=s=>e.vdrInfo.ofc_sts=s)},t[27]||(t[27]=[o("option",{value:"d1"},"정상",-1),o("option",{value:"d2"},"휴업",-1),o("option",{value:"d3"},"폐업",-1)]),512),[[_,e.vdrInfo.ofc_sts]])])])])]),o("div",rt,[o("div",it,[o("div",mt,[o("div",at,[t[29]||(t[29]=o("label",{for:"rgtDt",class:"form-label me-3",style:{"min-width":"100px"}},"등록일자",-1)),o("input",{id:"rgtDt",type:"text",class:"form-control",value:l.dateFormat(e.vdrInfo.rgt_dt,"yyyy-MM-dd"),readonly:"",disabled:""},null,8,ct)])]),o("div",ft,[o("div",vt,[t[30]||(t[30]=o("label",{for:"mdfDt",class:"form-label me-3",style:{"min-width":"100px"}},"수정일자",-1)),o("input",{id:"mdfDt",type:"text",class:"form-control",value:l.dateFormat(e.vdrInfo.mdf_dt,"yyyy-MM-dd"),readonly:"",disabled:""},null,8,ut)])])])])])])])):(m(),f("div",pt,t[31]||(t[31]=[o("p",null,"거래처를 선택하세요!",-1)])))])])}const bt=b(U,[["render",_t],["__scopeId","data-v-e5af0722"]]),yt={data(){return{vdrNo:"",today:"",addrPlus:"",vdrInfo:{vdr_no:"",cpy_nm:"",ceo_nm:"",biz_reg_no:"",ofc_tp:"",ofc_sts:"",ofc_ctt:"",ofc_addr:"",mgr_nm:"",mgr_ctt:"",use_yn:""}}},created(){this.getVdrNo(),this.getToday()},mounted(){const d=document.createElement("script");d.src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js",document.head.appendChild(d);const t=document.createElement("link");t.href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css",t.rel="stylesheet",document.head.appendChild(t)},methods:{CommonCodeFormat(d){return x.CommonCodeFormat(d)},dateFormat(d,t){return N.dateFormat(d,t)},getToday(){this.today=this.dateFormat(null,"yyyy-MM-dd")},async getVdrNo(){let d=await c.get("/api/vdrNo").catch(t=>console.log(t));console.log(d),this.vdrInfo.vdr_no=d.data[0].addVdrNo},resetForm(){this.vdrInfo={vdr_no:"",cpy_nm:"",ceo_nm:"",biz_reg_no:"",ofc_tp:"b1",ofc_sts:"d1",ofc_ctt:"",ofc_addr:"",mgr_nm:"",mgr_ctt:"",use_yn:"f1"},this.addrPlus="",this.getVdrNo()},async saveVdr(){var d,t,a,v,e,l,s;if(!((d=this.vdrInfo.cpy_nm)!=null&&d.trim())){alert("상호명을 입력해주세요.");return}if(!((t=this.vdrInfo.ceo_nm)!=null&&t.trim())){alert("대표자명을 입력해주세요.");return}if(!((a=this.vdrInfo.biz_reg_no)!=null&&a.trim())){alert("사업자등록번호를 입력해주세요.");return}if(!((v=this.vdrInfo.ofc_addr)!=null&&v.trim())){alert("사업장주소를 입력해주세요.");return}if(!((e=this.vdrInfo.ofc_ctt)!=null&&e.trim())){alert("사업장 연락처를 입력해주세요.");return}if(!((l=this.vdrInfo.mgr_nm)!=null&&l.trim())){alert("담당자명을 입력해주세요.");return}if(!((s=this.vdrInfo.mgr_ctt)!=null&&s.trim())){alert("담당자 연락처를 입력해주세요.");return}if(!this.vdrInfo.ofc_tp){alert("사업자 유형을 선택해주세요.");return}this.vdrInfo.use_yn||(this.vdrInfo.use_yn="Y"),this.vdrInfo.ofc_sts||(this.vdrInfo.ofc_sts="d1");try{let u={ofc_tp:this.vdrInfo.ofc_tp,ofc_sts:this.vdrInfo.ofc_sts,ofc_ctt:this.vdrInfo.ofc_ctt,ofc_addr:this.vdrInfo.ofc_addr+" "+this.addrPlus.trim(),mgr_nm:this.vdrInfo.mgr_nm,mgr_ctt:this.vdrInfo.mgr_ctt,cpy_nm:this.vdrInfo.cpy_nm,ceo_nm:this.vdrInfo.ceo_nm,biz_reg_no:this.vdrInfo.biz_reg_no,use_yn:this.vdrInfo.use_yn};(await c.post("/api/vdr",u)).data.isSuccessed?(alert("등록되었습니다."),this.$emit("vdr-reload"),this.$emit("goToInfo",!0)):alert(`등록되지 않았습니다.
데이터를 확인해보세요.`)}catch(u){console.error("거래처 등록 실패:",u),alert("거래처 등록에 실패했습니다.")}},openDaumPostcode(){new window.daum.Postcode({oncomplete:d=>{let t=`[${d.zonecode}] ${d.address}`;this.vdrInfo.ofc_addr=t,this.addrPlus=""}}).open()}}},gt={class:"col-md-6"},ht={class:"d-flex justify-content-between mb-3"},It={class:"card p-3"},xt={class:"row mb-2"},wt={class:"col-md-6 mb-3"},Vt={class:"d-flex align-items-center"},Ct={class:"col-md-6 mb-3"},Ft={class:"d-flex align-items-center"},Nt={class:"col-md-12 mb-3"},Ut={class:"d-flex align-items-center"},kt={class:"col-md-6 mb-3"},Pt={class:"d-flex align-items-center"},Tt={class:"col-md-6 mb-3"},zt={class:"d-flex align-items-center"},Dt={class:"col-md-6 mb-3"},jt={class:"d-flex align-items-center"},Lt={class:"col-md-6 mb-3"},Mt={class:"d-flex align-items-center"},Rt={class:"col-md-12 mb-3"},St={class:"d-flex align-items-center"},At={class:"input-group"},Et={class:"col-md-12 mb-3"},Bt={class:"d-flex align-items-center"},Gt={class:"col-md-6 mb-3"},Qt={class:"d-flex align-items-center"},Ot={class:"col-md-6 mb-3"},Yt={class:"d-flex align-items-center"},qt=["value"];function Ht(d,t,a,v,e,l){return m(),f("div",gt,[o("div",ht,[t[13]||(t[13]=o("div",null,null,-1)),o("div",null,[o("button",{class:"btn btn-warning me-2",onClick:t[0]||(t[0]=(...s)=>l.resetForm&&l.resetForm(...s))},"초기화"),o("button",{class:"btn btn-success",onClick:t[1]||(t[1]=(...s)=>l.saveVdr&&l.saveVdr(...s))},"저장")])]),o("div",It,[t[27]||(t[27]=o("h4",null,"거래처 등록",-1)),o("div",null,[o("div",null,[o("div",xt,[o("div",wt,[o("div",Vt,[t[14]||(t[14]=o("label",{for:"vdrNo",class:"form-label me-3",style:{"min-width":"100px"}},"거래처번호",-1)),n(o("input",{id:"vdrNo",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=s=>e.vdrInfo.vdr_no=s),readonly:"",disabled:""},null,512),[[r,e.vdrInfo.vdr_no]])])]),o("div",Ct,[o("div",Ft,[t[15]||(t[15]=o("label",{for:"bizRegNo",class:"form-label nowrap-label",style:{"min-width":"120px"}},"사업자등록번호",-1)),n(o("input",{id:"bizRegNo",type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=s=>e.vdrInfo.biz_reg_no=s)},null,512),[[r,e.vdrInfo.biz_reg_no]])])]),o("div",Nt,[o("div",Ut,[t[16]||(t[16]=o("label",{for:"cpyNm",class:"form-label me-3",style:{"min-width":"100px"}},"상호명",-1)),n(o("input",{id:"cpyNm",type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=s=>e.vdrInfo.cpy_nm=s)},null,512),[[r,e.vdrInfo.cpy_nm]])])]),o("div",kt,[o("div",Pt,[t[17]||(t[17]=o("label",{for:"ceoNm",class:"form-label me-3",style:{"min-width":"100px"}},"대표자명",-1)),n(o("input",{id:"ceoNm",type:"text",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=s=>e.vdrInfo.ceo_nm=s)},null,512),[[r,e.vdrInfo.ceo_nm]])])]),o("div",Tt,[o("div",zt,[t[18]||(t[18]=o("label",{for:"ofcCtt",class:"form-label me-3",style:{"min-width":"100px"}},"사업장연락처",-1)),n(o("input",{id:"ofcCtt",type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=s=>e.vdrInfo.ofc_ctt=s)},null,512),[[r,e.vdrInfo.ofc_ctt]])])]),o("div",Dt,[o("div",jt,[t[19]||(t[19]=o("label",{for:"mgrNm",class:"form-label me-3",style:{"min-width":"100px"}},"담당자명",-1)),n(o("input",{id:"mgrNm",type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=s=>e.vdrInfo.mgr_nm=s)},null,512),[[r,e.vdrInfo.mgr_nm]])])]),o("div",Lt,[o("div",Mt,[t[20]||(t[20]=o("label",{for:"mgrCtt",class:"form-label me-3",style:{"min-width":"100px"}},"담당자연락처",-1)),n(o("input",{id:"mgrCtt",type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=s=>e.vdrInfo.mgr_ctt=s)},null,512),[[r,e.vdrInfo.mgr_ctt]])])]),o("div",Rt,[o("div",St,[t[21]||(t[21]=o("label",{for:"ofcAddr",class:"form-label me-3",style:{"min-width":"100px"}},"사업장주소",-1)),o("div",At,[n(o("input",{id:"ofcAddr",type:"text",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=s=>e.vdrInfo.ofc_addr=s),readonly:""},null,512),[[r,e.vdrInfo.ofc_addr]]),o("button",{class:"btn btn-outline-secondary",onClick:t[10]||(t[10]=(...s)=>l.openDaumPostcode&&l.openDaumPostcode(...s))},"주소찾기")])])]),o("div",Et,[o("div",Bt,[t[22]||(t[22]=o("label",{for:"addr",class:"form-label me-3",style:{"min-width":"100px"}},"상세주소",-1)),n(o("input",{id:"addr",type:"text",class:"form-control","onUpdate:modelValue":t[11]||(t[11]=s=>e.addrPlus=s),placeholder:"상세주소"},null,512),[[r,e.addrPlus]])])]),o("div",Gt,[o("div",Qt,[t[24]||(t[24]=o("label",{for:"ofcTp",class:"form-label me-3",style:{"min-width":"100px"}},"사업장유형",-1)),n(o("select",{id:"ofcTp",class:"form-select","onUpdate:modelValue":t[12]||(t[12]=s=>e.vdrInfo.ofc_tp=s)},t[23]||(t[23]=[I('<option value="" data-v-8154bce3>선택</option><option value="b1" data-v-8154bce3>판매처</option><option value="b2" data-v-8154bce3>구매처</option><option value="b3" data-v-8154bce3>혼합</option><option value="b4" data-v-8154bce3>외주처</option>',5)]),512),[[_,e.vdrInfo.ofc_tp]])])]),t[26]||(t[26]=o("div",{class:"col-md-6 mb-3"},[o("div",{class:"d-flex align-items-center"},[o("label",{for:"ofcSts",class:"form-label me-3",style:{"min-width":"100px"}},"사업장상태"),o("input",{id:"mgrCtt",type:"text",class:"form-control",value:"정상",readonly:"",disabled:""})])],-1)),o("div",Ot,[o("div",Yt,[t[25]||(t[25]=o("label",{for:"rgtDt",class:"form-label me-3",style:{"min-width":"100px"}},"등록일자",-1)),o("input",{id:"rgtDt",type:"text",class:"form-control",value:l.dateFormat(e.vdrInfo.rgt_dt,"yyyy-MM-dd"),readonly:"",disabled:""},null,8,qt)])])])])])])])}const Jt=b(yt,[["render",Ht],["__scopeId","data-v-8154bce3"]]),Kt={components:{vdrInfo:bt,vdrForm:Jt},data(){return{searchQuery:"",selectedType:"",selectedVdr:null,vdrList:[],InfoView:!0}},computed:{filteredVdrList(){return this.vdrList.filter(d=>d.cpy_nm.toLowerCase().includes(this.searchQuery.toLowerCase())&&(this.selectedType===""||d.ofc_tp===this.selectedType))}},created(){this.getVdrList()},methods:{officeTypeFormat(d){switch(d){case"b1":return"판매처";case"b2":return"구매처";case"b3":return"혼합";case"b4":return"외주처";default:return d}},officeStatusFormat(d){switch(d){case"d1":return"정상";case"d2":return"휴업";case"d3":return"폐업";default:return d}},async getVdrList(){try{const d=await c.get("/api/vdr");this.vdrList=d.data}catch(d){console.error("거래처 목록 조회 실패:",d),alert("거래처 목록을 불러오는데 실패했습니다.")}},async selectVdr(d){this.InfoView=!0;try{const t=await c.get(`/api/vdr/${d}`);t.data?this.selectedVdr=t.data:(console.error("거래처를 찾을 수 없습니다:",d),alert("거래처 정보를 찾을 수 없습니다."))}catch(t){console.error("거래처 상세 정보 조회 실패:",t),alert("거래처 상세 정보를 불러오는데 실패했습니다.")}},msg(d){this.InfoView=d}}},Wt={class:"container mt-4"},Xt={class:"row"},Zt={class:"col-md-6"},$t={class:"d-flex justify-content-between mb-3"},to={class:"card p-3"},oo={class:"table-container"},eo={class:"table table-bordered"},so=["onClick"],lo={style:{width:"25%"}},no={style:{width:"15%"}},ro={style:{width:"25%"}},io={style:{width:"10%"}},mo={style:{width:"25%"}};function ao(d,t,a,v,e,l){const s=h("vdrInfo"),u=h("vdrForm");return m(),f("div",Wt,[o("div",Xt,[t[5]||(t[5]=o("h1",null,"거래처 관리",-1)),o("div",Zt,[o("div",$t,[n(o("input",{type:"text",class:"form-control w-50",placeholder:"거래처명 검색...","onUpdate:modelValue":t[0]||(t[0]=i=>e.searchQuery=i)},null,512),[[r,e.searchQuery]]),n(o("select",{class:"form-select",style:{width:"100px"},"onUpdate:modelValue":t[1]||(t[1]=i=>e.selectedType=i)},t[2]||(t[2]=[I('<option value="" data-v-63895580>전체</option><option value="b1" data-v-63895580>판매처</option><option value="b2" data-v-63895580>구매처</option><option value="b3" data-v-63895580>혼합</option><option value="b4" data-v-63895580>외주처</option>',5)]),512),[[_,e.selectedType]])]),o("div",to,[t[4]||(t[4]=o("h4",null,"거래처 목록",-1)),o("div",oo,[o("table",eo,[t[3]||(t[3]=o("thead",null,[o("tr",null,[o("th",{style:{width:"25%"}},"상호명"),o("th",{style:{width:"15%"}},"사업장유형"),o("th",{style:{width:"25%"}},"사업자등록번호"),o("th",{style:{width:"10%"}},"담당자"),o("th",{style:{width:"25%"}},"연락처")])],-1)),o("tbody",null,[(m(!0),f(w,null,V(l.filteredVdrList,i=>(m(),f("tr",{key:i.vdr_no,onClick:co=>l.selectVdr(i.vdr_no),class:C([{"table-primary":e.selectedVdr&&e.selectedVdr.vdr_no===i.vdr_no},"table-hover"])},[o("td",lo,p(i.cpy_nm),1),o("td",no,p(l.officeTypeFormat(i.ofc_tp)),1),o("td",ro,p(i.biz_reg_no),1),o("td",io,p(i.mgr_nm),1),o("td",mo,p(i.mgr_ctt),1)],10,so))),128))])])])])]),e.InfoView?(m(),y(s,{key:0,vdr:e.selectedVdr,onGoToForm:l.msg,onVdrReload:l.getVdrList},null,8,["vdr","onGoToForm","onVdrReload"])):g("",!0),e.InfoView?g("",!0):(m(),y(u,{key:1,onGoToInfo:l.msg,onVdrReload:l.getVdrList},null,8,["onGoToInfo","onVdrReload"]))])])}const _o=b(Kt,[["render",ao],["__scopeId","data-v-63895580"]]);export{_o as default};
<<<<<<<< HEAD:server/public/assets/vdr-BoEf76Vi.js
//# sourceMappingURL=vdr-BoEf76Vi.js.map
========
//# sourceMappingURL=vdr-CFhqZ85G.js.map
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/vdr-CFhqZ85G.js
