import{_ as D,c as a,d as v,a as t,w as n,v as r,F as b,r as f,e as m,o as i,t as d}from"./index-BjdZvEQ0.js";const g={data(){return{ordList:[],startDate:"",endDate:"",tableData:{},ordListByDate:[],dateArray:[],vdr:"",vdrCd:"",bizNo:"",dueDt:"",prdNo:"",prdQty:""}},created(){this.getOrdList()},methods:{async getOrdList(){try{const o=await m.get("/api/ord");this.ordList=o.data,console.log("주문리스트:",this.ordList)}catch(o){console.log("주문리스트 불러오기 실패",o)}},async fetchOrdByDate(){console.log("날짜 확인:",this.startDate,this.endDate),this.dateArray=["품명","현재고"];try{const o=await m.get("/api/ord/by-date",{params:{startDate:this.startDate,endDate:this.endDate}});this.ordListByDate=o.data;const l=new Date(this.startDate),c=new Date(this.endDate);for(;l<=c;){const y=l.toISOString().slice(0,10);this.dateArray.push(y),l.setDate(l.getDate()+1)}}catch(o){console.log("기간별 주문리스트 불러오기 실패",o)}},async addOrd(){try{const o=await m.post("/api/ord",{vdr_no:this.vdrCd,due_dt:this.dueDt,prd_no:this.prdNo,prd_qty:this.prdQty});console.log(o.data),this.getOrdList(),alert("주문등록 완료")}catch(o){console.log("주문등록 실패",o)}}}},x={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},h={class:"modal-dialog modal-xl"},L={class:"modal-content"},w={class:"modal-body"},N={class:"border rounded p-3 mb-4"},O={class:"row g-3"},V={class:"col-md-4"},k={class:"col-md-4"},B={class:"col-md-4"},U={class:"col-md-4"},C={class:"table table-bordered text-center align-middle"},_={class:"modal-footer"},M={class:"table"},S={scope:"row"},A={key:0},Q={key:1},j={class:"table"};function z(o,l,c,y,e,u){return i(),a(b,null,[l[22]||(l[22]=v('<div class="d-flex justify-content-between align-items-center mb-4"><div class="d-flex gap-4"><h2 class="mb-4">주문조회</h2></div></div><div class="d-flex justify-content-end align-items-center mb-3"><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal"> 주문 등록 </button></div>',2)),t("div",x,[t("div",h,[t("div",L,[l[19]||(l[19]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title",id:"exampleModalLabel"},"주문등록"),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("div",w,[t("div",N,[t("div",O,[t("div",V,[l[10]||(l[10]=t("label",{class:"form-label"},"업체명",-1)),n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[0]||(l[0]=s=>e.vdr=s)},null,512),[[r,e.vdr]])]),t("div",k,[l[11]||(l[11]=t("label",{class:"form-label"},"업체코드",-1)),n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[1]||(l[1]=s=>e.vdrCd=s)},null,512),[[r,e.vdrCd]])]),t("div",B,[l[12]||(l[12]=t("label",{class:"form-label"},"사업자등록번호",-1)),n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=s=>e.bizNo=s)},null,512),[[r,e.bizNo]])]),t("div",U,[l[13]||(l[13]=t("label",{class:"form-label"},"납기예정일",-1)),n(t("input",{type:"date",class:"form-control","onUpdate:modelValue":l[3]||(l[3]=s=>e.dueDt=s)},null,512),[[r,e.dueDt]])]),l[14]||(l[14]=v('<div class="col-md-4"><label class="form-label">이름</label><input type="text" class="form-control"></div><div class="col-md-4"><label class="form-label">연락처</label><input type="text" class="form-control"></div><div class="col-md-12"><label class="form-label">주소</label><input type="text" class="form-control"></div>',3))])]),t("table",C,[l[17]||(l[17]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"No"),t("th",null,"제품 ID"),t("th",null,"제품명"),t("th",null,"수량")])],-1)),t("tbody",null,[t("tr",null,[l[15]||(l[15]=t("td",null,"1",-1)),t("td",null,[n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":l[4]||(l[4]=s=>e.prdNo=s)},null,512),[[r,e.prdNo]])]),l[16]||(l[16]=t("td",null,[t("input",{type:"text",class:"form-control"})],-1)),t("td",null,[n(t("input",{type:"number",class:"form-control","onUpdate:modelValue":l[5]||(l[5]=s=>e.prdQty=s)},null,512),[[r,e.prdQty]])])])])])]),t("div",_,[l[18]||(l[18]=t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"닫기",-1)),t("button",{type:"button",class:"btn btn-primary",onClick:l[6]||(l[6]=(...s)=>u.addOrd&&u.addOrd(...s))},"주문등록")])])])]),t("table",M,[l[20]||(l[20]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"주문번호"),t("th",{scope:"col"},"제품명"),t("th",{scope:"col"},"거래처명"),t("th",{scope:"col"},"제품"),t("th",{scope:"col"},"요청수량"),t("th",{scope:"col"},"lot재고량")])],-1)),t("tbody",null,[(i(!0),a(b,null,f(e.ordList,(s,p)=>(i(),a("tr",{key:p},[t("th",S,d(s.ord_no),1),t("th",null,d(s.prd_nm),1),t("td",null,d(s.cpy_nm),1),t("td",null,d(s.prd_nm),1),t("td",null,d(s.요청수량),1),s.lot수량>0?(i(),a("td",A,d(s.lot수량),1)):(i(),a("td",Q,"0"))]))),128))])]),l[23]||(l[23]=t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[t("div",{class:"d-flex gap-4"},[t("h2",{class:"mb-4"},"총 주문 수량")])],-1)),n(t("input",{type:"date","onUpdate:modelValue":l[7]||(l[7]=s=>e.startDate=s)},null,512),[[r,e.startDate]]),n(t("input",{type:"date","onUpdate:modelValue":l[8]||(l[8]=s=>e.endDate=s)},null,512),[[r,e.endDate]]),t("button",{class:"btn btn-primary",onClick:l[9]||(l[9]=(...s)=>u.fetchOrdByDate&&u.fetchOrdByDate(...s))},"조회"),t("table",j,[l[21]||(l[21]=t("thead",null,[t("tr",null,[t("th",null,"날짜"),t("th",null,"제품명"),t("th",null,"현재고"),t("th",null,"총 주문수량")])],-1)),t("tbody",null,[(i(!0),a(b,null,f(e.ordListByDate,(s,p)=>(i(),a("tr",{key:p},[t("td",null,d(s["DATE(o.due_dt)"].substring(0,10)),1),t("td",null,d(s.prd_nm),1),t("td",null,d(s.cur_stk),1),t("td",null,d(s["SUM(od.prd_qty)"]),1)]))),128))])])],64)}const q=D(g,[["render",z]]);export{q as default};
//# sourceMappingURL=orderForm-Dr8W5G0p.js.map
