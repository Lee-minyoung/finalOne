import{_ as h,e as u,c as n,a as e,w as c,v as _,k as f,F as p,r as m,g as b,o as d,t as i,f as v}from"./index-DRp0-N0C.js";const w={props:{empList:Array,selected:Array},data(){return{search:"",selectedEmp:null,selectedFilter:"",deptInfo:[]}},computed:{filteredEmp(){return this.empList?this.empList.filter(l=>{const t=!this.search||l.nm.toLowerCase().includes(this.search.toLowerCase()),a=this.selectedFilter===""||l.dept_nm===this.selectedFilter;return t&&a}):[]}},created(){this.selectedEmp=this.selected?{emp_no:this.selected}:null,this.getDeptInfo()},methods:{async getDeptInfo(){let l=await u.get("/api/deptModal").catch(t=>console.log(t));this.deptInfo=l.data},toggleEmpSelection(l){this.selectedEmp&&this.selectedEmp.emp_no===l.emp_no?this.selectedEmp=null:this.selectedEmp={emp_no:l.emp_no,nm:l.nm}},isSelected(l){return this.selectedEmp&&this.selectedEmp.emp_no===l.emp_no}}},g={class:"modal-dialog modal-lg"},y={class:"modal-content"},E={class:"modal-header"},k={class:"modal-body"},x={class:"d-flex justify-content-between align-items-center mb-2"},C={class:"d-flex gap-2",style:{width:"450px"}},F=["value"],S={class:"table-container"},I={class:"table table-sm table-bordered text-center"},L=["onClick"],M={class:"w-10"},D={class:"w-10"},B={class:"w-10"},V={class:"w-10"};function z(l,t,a,A,o,r){return d(),n("div",{class:"modal fade show d-block",style:{background:"rgba(0,0,0,0.5)","z-index":"1051"},onClick:t[4]||(t[4]=b(s=>l.$emit("close"),["self"]))},[e("div",g,[e("div",y,[e("div",E,[t[5]||(t[5]=e("h5",{class:"modal-title"},"사원 선택",-1)),e("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=s=>l.$emit("close"))})]),e("div",k,[e("div",x,[e("div",C,[c(e("input",{type:"text",class:"form-control",style:{width:"60%"},placeholder:"사원명 검색","onUpdate:modelValue":t[1]||(t[1]=s=>o.search=s)},null,512),[[_,o.search]]),c(e("select",{class:"form-select form-control","onUpdate:modelValue":t[2]||(t[2]=s=>o.selectedFilter=s),style:{width:"40%"}},[t[6]||(t[6]=e("option",{value:""},"전체",-1)),(d(!0),n(p,null,m(o.deptInfo,s=>(d(),n("option",{key:s.dept_no,value:s.dept_nm},i(s.dept_nm),9,F))),128))],512),[[f,o.selectedFilter]])]),e("button",{class:"btn btn-sm btn-primary",onClick:t[3]||(t[3]=s=>l.$emit("select-emp",o.selectedEmp))},"사원 등록")]),e("div",S,[e("table",I,[t[7]||(t[7]=e("thead",{class:"table-light"},[e("tr",null,[e("th",{class:"w-10"},"사원번호"),e("th",{class:"w-10"},"이름"),e("th",{class:"w-10"},"부서명"),e("th",{class:"w-10"},"직급명")])],-1)),e("tbody",null,[(d(!0),n(p,null,m(r.filteredEmp,s=>(d(),n("tr",{key:s.emp_no,onClick:U=>r.toggleEmpSelection(s),class:v({"table-primary":r.isSelected(s)}),style:{cursor:"pointer"}},[e("td",M,i(s.emp_no),1),e("td",D,i(s.nm),1),e("td",B,i(s.dept_nm),1),e("td",V,i(s.pst_nm),1)],10,L))),128))])])])])])])])}const j=h(w,[["render",z],["__scopeId","data-v-1029549a"]]);export{j as e};
//# sourceMappingURL=empSelectModal-DIkxnxAD.js.map
