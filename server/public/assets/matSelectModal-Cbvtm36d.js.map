{"version":3,"file":"matSelectModal-Cbvtm36d.js","sources":["../../../client/src/views/modal/matSelectModal.vue"],"sourcesContent":["<template>\n  <div class=\"modal fade show d-block\" style=\"background: rgba(0,0,0,0.5); z-index: 1051;\" @click.self=\"$emit('close')\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">자재 선택</h5>\n          <button type=\"button\" class=\"btn-close\" @click=\"$emit('close')\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"d-flex justify-content-between align-items-center mb-2\">\n            <input type=\"text\" class=\"form-control w-25\" placeholder=\"자재명 검색\" v-model=\"search\" />\n            <button class=\"btn btn-sm btn-primary\" @click=\"$emit('select-mat', selectedMat)\">자재 등록</button>\n          </div>\n          <div class=\"table-container\">\n            <table class=\"table table-sm table-bordered text-center\">\n              <thead class=\"table-light\">\n                <tr>\n                  <th class=\"w-10\">자재번호</th>\n                  <th class=\"w-30\">자재명</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in filteredMats\" :key=\"item.mat_no\" @click=\"toggleMatSelection(item)\"\n                  :class=\"{ 'table-primary': isSelected(item) }\" style=\"cursor: pointer;\">\n                  <td class=\"w-10\">{{ item.mat_no }}</td>\n                  <td class=\"w-30\">{{ item.mat_nm }}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    matList: Array,       // 전체 자재 목록\n    selected: Array       // 이미 등록된(선택된) 자재 목록\n  },\n  data() {\n    return {\n      search: '',\n      selectedMat: []\n    }\n  },\n  computed: {\n    filteredMats() {\n      if (!this.matList) return []\n      return this.matList.filter(mat => mat.mat_nm?.includes(this.search))\n    }\n  },\n  created() {\n    this.selectedMat = [...this.selected]  // 선택 상태 초기화\n  },\n  methods: {\n    toggleMatSelection(item) {\n      const index = this.selectedMat.findIndex(mat => mat.mat_no === item.mat_no)\n      if (index >= 0) {\n        this.selectedMat.splice(index, 1)\n      } else {\n        this.selectedMat.push(item)\n      }\n    },\n    isSelected(item) {\n      return this.selectedMat.some(mat => mat.mat_no === item.mat_no)\n    }\n  }\n}\n</script>\n\n<style scoped>\n@import '@/assets/styles/base-table.css';\n</style>"],"names":["_sfc_main","mat","_a","item","index","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createElementBlock","_cache","_withModifiers","_ctx","_createElementVNode","$event","$data","_openBlock","_Fragment","_renderList","$options","_normalizeClass","_toDisplayString"],"mappings":"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"}