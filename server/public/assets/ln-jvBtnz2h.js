<<<<<<< HEAD
<<<<<<<< HEAD:server/public/assets/ln-jvBtnz2h.js
import{d as R}from"./useCommonCode-DKmraWxZ.js";import{_ as q,c as p,a as t,w as i,v as c,k as x,F as g,r as L,g as k,o as r,f as S,t as y,e as f,i as b,j as v,d as D,l as w}from"./index-DRp0-N0C.js";import{p as E}from"./prdSelectModal-BrqdSc7T.js";const U={props:{eqpList:Array,selected:Array},data(){return{search:"",selectedEqp:null,selectedFilter:""}},computed:{filteredEqp(){return this.eqpList?this.eqpList.filter(s=>{const e=!this.search||s.eqp_nm.toLowerCase().includes(this.search.toLowerCase()),m=this.selectedFilter===""||(s.ln_nm?this.selectedFilter==="true":this.selectedFilter==="false");return e&&m}):[]}},created(){this.selectedEqp=this.selected?{eqp_no:this.selected}:null},methods:{eqpStatusFormat(s){return R.eqpStatusFormat(s)},toggleEqpSelection(s){if(s.ln_nm){alert("이미 사용 중인 설비입니다. 선택할 수 없습니다.");return}this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no?this.selectedEqp=null:this.selectedEqp={eqp_no:s.eqp_no,eqp_nm:s.eqp_nm}},isSelected(s){return this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no}}},I={class:"modal-dialog modal-lg"},M={class:"modal-content"},C={class:"modal-header"},F={class:"modal-body"},N={class:"d-flex justify-content-between align-items-center mb-2"},$={class:"d-flex gap-2",style:{width:"450px"}},P={class:"table-container"},Q={class:"table table-sm table-bordered text-center"},T=["onClick"],j={class:"w-10"},A={class:"w-20"},B={class:"w-10"},G={class:"w-20"};function Y(s,e,m,u,l,d){return r(),p("div",{class:"modal fade show d-block",style:{background:"rgba(0,0,0,0.5)","z-index":"1051"},onClick:e[4]||(e[4]=k(a=>s.$emit("close"),["self"]))},[t("div",I,[t("div",M,[t("div",C,[e[5]||(e[5]=t("h5",{class:"modal-title"},"설비 선택",-1)),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=a=>s.$emit("close"))})]),t("div",F,[t("div",N,[t("div",$,[i(t("input",{type:"text",class:"form-control",style:{width:"60%"},placeholder:"설비명 검색","onUpdate:modelValue":e[1]||(e[1]=a=>l.search=a)},null,512),[[c,l.search]]),i(t("select",{class:"form-select",style:{width:"40%"},"onUpdate:modelValue":e[2]||(e[2]=a=>l.selectedFilter=a)},e[6]||(e[6]=[t("option",{value:""},"전체",-1),t("option",{value:"true"},"사용중설비",-1),t("option",{value:"false"},"미사용설비",-1)]),512),[[x,l.selectedFilter]])]),t("button",{class:"btn btn-sm btn-primary",onClick:e[3]||(e[3]=a=>s.$emit("select-eqp",l.selectedEqp))},"설비 등록")]),t("div",P,[t("table",Q,[e[7]||(e[7]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"설비번호"),t("th",{class:"w-20"},"설비명"),t("th",{class:"w-10"},"설비상태"),t("th",{class:"w-20"},"사용중인라인")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(d.filteredEqp,a=>(r(),p("tr",{key:a.eqp_no,onClick:o=>d.toggleEqpSelection(a),class:S({"table-primary":d.isSelected(a)}),style:{cursor:"pointer"}},[t("td",j,y(a.eqp_no),1),t("td",A,y(a.eqp_nm),1),t("td",B,y(d.eqpStatusFormat(a.eqp_sts)),1),t("td",G,y(a.ln_nm),1)],10,T))),128))])])])])])])])}const V=q(U,[["render",Y],["__scopeId","data-v-d6dfb24a"]]),z={props:{ln:Object},components:{eqpSelectModal:V},data(){return{ln_no:"",ln_nm:"",prd_no:"",prd_nm:"",ln_sts:"",use_yn:"",dly_avg_pdn_qty:"",lnDtlRows:[],selectedRowIndex:null,showEqpModal:!1,eqpList:[]}},watch:{ln:{handler(s){s?this.getLnDtlList(s.ln_no):(this.ln_no="",this.ln_nm="",this.prd_no="",this.prd_nm="",this.ln_sts="",this.use_yn="",this.dly_avg_pdn_qty="",this.lnDtlRows=[])},immediate:!0}},methods:{async getLnDtlList(s){let e=await f.get(`/api/ln/${s}`).catch(m=>console.log(m));this.lnDtlRows=e.data,this.ln_no=e.data[0].ln_no,this.ln_nm=e.data[0].ln_nm,this.prd_no=e.data[0].prd_no,this.prd_nm=e.data[0].prd_nm,this.ln_sts=e.data[0].ln_sts,this.use_yn=e.data[0].use_yn,this.dly_avg_pdn_qty=e.data[0].dly_avg_pdn_qty},async lnUpdate(){var u;if(!((u=this.ln_nm)!=null&&u.trim())){alert("라인명을 입력해주세요.");return}if(!this.ln_sts){alert("라인상태를 선택해주세요.");return}if(!this.use_yn){alert("사용여부를 선택해주세요.");return}if(!this.dly_avg_pdn_qty||isNaN(Number(this.dly_avg_pdn_qty))){alert("일평균생산량은 숫자로 입력해주세요.");return}for(let l=0;l<this.lnDtlRows.length;l++)if(!this.lnDtlRows[l].eqp_no){alert(`${l+1}번째 공정의 설비를 선택해주세요.`);return}let s={ln_nm:this.ln_nm.trim(),ln_sts:this.ln_sts,use_yn:this.use_yn,dly_avg_pdn_qty:Number(this.dly_avg_pdn_qty)},e=[];for(let l=0;l<this.lnDtlRows.length;l++)e[l]={eqp_no:this.lnDtlRows[l].eqp_no,ln_dtl_no:this.lnDtlRows[l].ln_dtl_no};(await f.put(`/api/lnAndLnDtl/${this.ln_no}`,[s,e]).catch(l=>console.log(l))).data.message=="수정 완료"?(alert("수정되었습니다."),this.$emit("ln-reload"),this.getLnDtlList(this.ln_no)):alert(`수정되지 않았습니다.
========
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
=======
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
<<<<<<< HEAD
=======
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
>>>>>>> origin/Eunae
import{d as R}from"./useCommonCode-DKmraWxZ.js";import{_ as q,c as p,a as t,w as i,v as c,k as x,F as g,r as L,g as k,o as r,f as S,t as y,e as f,i as b,j as v,d as D,l as w}from"./index-CxFk6QSJ.js";import{p as E}from"./prdSelectModal-YbYj2m-j.js";const U={props:{eqpList:Array,selected:Array},data(){return{search:"",selectedEqp:null,selectedFilter:""}},computed:{filteredEqp(){return this.eqpList?this.eqpList.filter(s=>{const e=!this.search||s.eqp_nm.toLowerCase().includes(this.search.toLowerCase()),m=this.selectedFilter===""||(s.ln_nm?this.selectedFilter==="true":this.selectedFilter==="false");return e&&m}):[]}},created(){this.selectedEqp=this.selected?{eqp_no:this.selected}:null},methods:{eqpStatusFormat(s){return R.eqpStatusFormat(s)},toggleEqpSelection(s){if(s.ln_nm){alert("이미 사용 중인 설비입니다. 선택할 수 없습니다.");return}this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no?this.selectedEqp=null:this.selectedEqp={eqp_no:s.eqp_no,eqp_nm:s.eqp_nm}},isSelected(s){return this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no}}},I={class:"modal-dialog modal-lg"},M={class:"modal-content"},C={class:"modal-header"},F={class:"modal-body"},N={class:"d-flex justify-content-between align-items-center mb-2"},$={class:"d-flex gap-2",style:{width:"450px"}},P={class:"table-container"},Q={class:"table table-sm table-bordered text-center"},T=["onClick"],j={class:"w-10"},A={class:"w-20"},B={class:"w-10"},G={class:"w-20"};function Y(s,e,m,u,l,d){return r(),p("div",{class:"modal fade show d-block",style:{background:"rgba(0,0,0,0.5)","z-index":"1051"},onClick:e[4]||(e[4]=k(a=>s.$emit("close"),["self"]))},[t("div",I,[t("div",M,[t("div",C,[e[5]||(e[5]=t("h5",{class:"modal-title"},"설비 선택",-1)),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=a=>s.$emit("close"))})]),t("div",F,[t("div",N,[t("div",$,[i(t("input",{type:"text",class:"form-control",style:{width:"60%"},placeholder:"설비명 검색","onUpdate:modelValue":e[1]||(e[1]=a=>l.search=a)},null,512),[[c,l.search]]),i(t("select",{class:"form-select",style:{width:"40%"},"onUpdate:modelValue":e[2]||(e[2]=a=>l.selectedFilter=a)},e[6]||(e[6]=[t("option",{value:""},"전체",-1),t("option",{value:"true"},"사용중설비",-1),t("option",{value:"false"},"미사용설비",-1)]),512),[[x,l.selectedFilter]])]),t("button",{class:"btn btn-sm btn-primary",onClick:e[3]||(e[3]=a=>s.$emit("select-eqp",l.selectedEqp))},"설비 등록")]),t("div",P,[t("table",Q,[e[7]||(e[7]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"설비번호"),t("th",{class:"w-20"},"설비명"),t("th",{class:"w-10"},"설비상태"),t("th",{class:"w-20"},"사용중인라인")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(d.filteredEqp,a=>(r(),p("tr",{key:a.eqp_no,onClick:o=>d.toggleEqpSelection(a),class:S({"table-primary":d.isSelected(a)}),style:{cursor:"pointer"}},[t("td",j,y(a.eqp_no),1),t("td",A,y(a.eqp_nm),1),t("td",B,y(d.eqpStatusFormat(a.eqp_sts)),1),t("td",G,y(a.ln_nm),1)],10,T))),128))])])])])])])])}const V=q(U,[["render",Y],["__scopeId","data-v-d6dfb24a"]]),z={props:{ln:Object},components:{eqpSelectModal:V},data(){return{ln_no:"",ln_nm:"",prd_no:"",prd_nm:"",ln_sts:"",use_yn:"",dly_avg_pdn_qty:"",lnDtlRows:[],selectedRowIndex:null,showEqpModal:!1,eqpList:[]}},watch:{ln:{handler(s){s?this.getLnDtlList(s.ln_no):(this.ln_no="",this.ln_nm="",this.prd_no="",this.prd_nm="",this.ln_sts="",this.use_yn="",this.dly_avg_pdn_qty="",this.lnDtlRows=[])},immediate:!0}},methods:{async getLnDtlList(s){let e=await f.get(`/api/ln/${s}`).catch(m=>console.log(m));this.lnDtlRows=e.data,this.ln_no=e.data[0].ln_no,this.ln_nm=e.data[0].ln_nm,this.prd_no=e.data[0].prd_no,this.prd_nm=e.data[0].prd_nm,this.ln_sts=e.data[0].ln_sts,this.use_yn=e.data[0].use_yn,this.dly_avg_pdn_qty=e.data[0].dly_avg_pdn_qty},async lnUpdate(){var u;if(!((u=this.ln_nm)!=null&&u.trim())){alert("라인명을 입력해주세요.");return}if(!this.ln_sts){alert("라인상태를 선택해주세요.");return}if(!this.use_yn){alert("사용여부를 선택해주세요.");return}if(!this.dly_avg_pdn_qty||isNaN(Number(this.dly_avg_pdn_qty))){alert("일평균생산량은 숫자로 입력해주세요.");return}for(let l=0;l<this.lnDtlRows.length;l++)if(!this.lnDtlRows[l].eqp_no){alert(`${l+1}번째 공정의 설비를 선택해주세요.`);return}let s={ln_nm:this.ln_nm.trim(),ln_sts:this.ln_sts,use_yn:this.use_yn,dly_avg_pdn_qty:Number(this.dly_avg_pdn_qty)},e=[];for(let l=0;l<this.lnDtlRows.length;l++)e[l]={eqp_no:this.lnDtlRows[l].eqp_no,ln_dtl_no:this.lnDtlRows[l].ln_dtl_no};(await f.put(`/api/lnAndLnDtl/${this.ln_no}`,[s,e]).catch(l=>console.log(l))).data.message=="수정 완료"?(alert("수정되었습니다."),this.$emit("ln-reload"),this.getLnDtlList(this.ln_no)):alert(`수정되지 않았습니다.
========
import{d as R}from"./useCommonCode-DKmraWxZ.js";import{_ as q,c as p,a as t,w as i,v as c,k as x,F as g,r as L,g as k,o as r,f as S,t as y,e as f,i as b,j as v,d as D,l as w}from"./index-DRp0-N0C.js";import{p as E}from"./prdSelectModal-BrqdSc7T.js";const U={props:{eqpList:Array,selected:Array},data(){return{search:"",selectedEqp:null,selectedFilter:""}},computed:{filteredEqp(){return this.eqpList?this.eqpList.filter(s=>{const e=!this.search||s.eqp_nm.toLowerCase().includes(this.search.toLowerCase()),m=this.selectedFilter===""||(s.ln_nm?this.selectedFilter==="true":this.selectedFilter==="false");return e&&m}):[]}},created(){this.selectedEqp=this.selected?{eqp_no:this.selected}:null},methods:{eqpStatusFormat(s){return R.eqpStatusFormat(s)},toggleEqpSelection(s){if(s.ln_nm){alert("이미 사용 중인 설비입니다. 선택할 수 없습니다.");return}this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no?this.selectedEqp=null:this.selectedEqp={eqp_no:s.eqp_no,eqp_nm:s.eqp_nm}},isSelected(s){return this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no}}},I={class:"modal-dialog modal-lg"},M={class:"modal-content"},C={class:"modal-header"},F={class:"modal-body"},N={class:"d-flex justify-content-between align-items-center mb-2"},$={class:"d-flex gap-2",style:{width:"450px"}},P={class:"table-container"},Q={class:"table table-sm table-bordered text-center"},T=["onClick"],j={class:"w-10"},A={class:"w-20"},B={class:"w-10"},G={class:"w-20"};function Y(s,e,m,u,l,d){return r(),p("div",{class:"modal fade show d-block",style:{background:"rgba(0,0,0,0.5)","z-index":"1051"},onClick:e[4]||(e[4]=k(a=>s.$emit("close"),["self"]))},[t("div",I,[t("div",M,[t("div",C,[e[5]||(e[5]=t("h5",{class:"modal-title"},"설비 선택",-1)),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=a=>s.$emit("close"))})]),t("div",F,[t("div",N,[t("div",$,[i(t("input",{type:"text",class:"form-control",style:{width:"60%"},placeholder:"설비명 검색","onUpdate:modelValue":e[1]||(e[1]=a=>l.search=a)},null,512),[[c,l.search]]),i(t("select",{class:"form-select",style:{width:"40%"},"onUpdate:modelValue":e[2]||(e[2]=a=>l.selectedFilter=a)},e[6]||(e[6]=[t("option",{value:""},"전체",-1),t("option",{value:"true"},"사용중설비",-1),t("option",{value:"false"},"미사용설비",-1)]),512),[[x,l.selectedFilter]])]),t("button",{class:"btn btn-sm btn-primary",onClick:e[3]||(e[3]=a=>s.$emit("select-eqp",l.selectedEqp))},"설비 등록")]),t("div",P,[t("table",Q,[e[7]||(e[7]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"설비번호"),t("th",{class:"w-20"},"설비명"),t("th",{class:"w-10"},"설비상태"),t("th",{class:"w-20"},"사용중인라인")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(d.filteredEqp,a=>(r(),p("tr",{key:a.eqp_no,onClick:o=>d.toggleEqpSelection(a),class:S({"table-primary":d.isSelected(a)}),style:{cursor:"pointer"}},[t("td",j,y(a.eqp_no),1),t("td",A,y(a.eqp_nm),1),t("td",B,y(d.eqpStatusFormat(a.eqp_sts)),1),t("td",G,y(a.ln_nm),1)],10,T))),128))])])])])])])])}const V=q(U,[["render",Y],["__scopeId","data-v-d6dfb24a"]]),z={props:{ln:Object},components:{eqpSelectModal:V},data(){return{ln_no:"",ln_nm:"",prd_no:"",prd_nm:"",ln_sts:"",use_yn:"",dly_avg_pdn_qty:"",lnDtlRows:[],selectedRowIndex:null,showEqpModal:!1,eqpList:[]}},watch:{ln:{handler(s){s?this.getLnDtlList(s.ln_no):(this.ln_no="",this.ln_nm="",this.prd_no="",this.prd_nm="",this.ln_sts="",this.use_yn="",this.dly_avg_pdn_qty="",this.lnDtlRows=[])},immediate:!0}},methods:{async getLnDtlList(s){let e=await f.get(`/api/ln/${s}`).catch(m=>console.log(m));this.lnDtlRows=e.data,this.ln_no=e.data[0].ln_no,this.ln_nm=e.data[0].ln_nm,this.prd_no=e.data[0].prd_no,this.prd_nm=e.data[0].prd_nm,this.ln_sts=e.data[0].ln_sts,this.use_yn=e.data[0].use_yn,this.dly_avg_pdn_qty=e.data[0].dly_avg_pdn_qty},async lnUpdate(){var u;if(!((u=this.ln_nm)!=null&&u.trim())){alert("라인명을 입력해주세요.");return}if(!this.ln_sts){alert("라인상태를 선택해주세요.");return}if(!this.use_yn){alert("사용여부를 선택해주세요.");return}if(!this.dly_avg_pdn_qty||isNaN(Number(this.dly_avg_pdn_qty))){alert("일평균생산량은 숫자로 입력해주세요.");return}for(let l=0;l<this.lnDtlRows.length;l++)if(!this.lnDtlRows[l].eqp_no){alert(`${l+1}번째 공정의 설비를 선택해주세요.`);return}let s={ln_nm:this.ln_nm.trim(),ln_sts:this.ln_sts,use_yn:this.use_yn,dly_avg_pdn_qty:Number(this.dly_avg_pdn_qty)},e=[];for(let l=0;l<this.lnDtlRows.length;l++)e[l]={eqp_no:this.lnDtlRows[l].eqp_no,ln_dtl_no:this.lnDtlRows[l].ln_dtl_no};(await f.put(`/api/lnAndLnDtl/${this.ln_no}`,[s,e]).catch(l=>console.log(l))).data.message=="수정 완료"?(alert("수정되었습니다."),this.$emit("ln-reload"),this.getLnDtlList(this.ln_no)):alert(`수정되지 않았습니다.
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/ln-jvBtnz2h.js
<<<<<<< HEAD
========
import{d as R}from"./useCommonCode-DKmraWxZ.js";import{_ as q,c as p,a as t,w as i,v as c,k as x,F as g,r as L,g as k,o as r,f as S,t as y,e as f,i as b,j as v,d as D,l as w}from"./index-DRp0-N0C.js";import{p as E}from"./prdSelectModal-BrqdSc7T.js";const U={props:{eqpList:Array,selected:Array},data(){return{search:"",selectedEqp:null,selectedFilter:""}},computed:{filteredEqp(){return this.eqpList?this.eqpList.filter(s=>{const e=!this.search||s.eqp_nm.toLowerCase().includes(this.search.toLowerCase()),m=this.selectedFilter===""||(s.ln_nm?this.selectedFilter==="true":this.selectedFilter==="false");return e&&m}):[]}},created(){this.selectedEqp=this.selected?{eqp_no:this.selected}:null},methods:{eqpStatusFormat(s){return R.eqpStatusFormat(s)},toggleEqpSelection(s){if(s.ln_nm){alert("이미 사용 중인 설비입니다. 선택할 수 없습니다.");return}this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no?this.selectedEqp=null:this.selectedEqp={eqp_no:s.eqp_no,eqp_nm:s.eqp_nm}},isSelected(s){return this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no}}},I={class:"modal-dialog modal-lg"},M={class:"modal-content"},C={class:"modal-header"},F={class:"modal-body"},N={class:"d-flex justify-content-between align-items-center mb-2"},$={class:"d-flex gap-2",style:{width:"450px"}},P={class:"table-container"},Q={class:"table table-sm table-bordered text-center"},T=["onClick"],j={class:"w-10"},A={class:"w-20"},B={class:"w-10"},G={class:"w-20"};function Y(s,e,m,u,l,d){return r(),p("div",{class:"modal fade show d-block",style:{background:"rgba(0,0,0,0.5)","z-index":"1051"},onClick:e[4]||(e[4]=k(a=>s.$emit("close"),["self"]))},[t("div",I,[t("div",M,[t("div",C,[e[5]||(e[5]=t("h5",{class:"modal-title"},"설비 선택",-1)),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=a=>s.$emit("close"))})]),t("div",F,[t("div",N,[t("div",$,[i(t("input",{type:"text",class:"form-control",style:{width:"60%"},placeholder:"설비명 검색","onUpdate:modelValue":e[1]||(e[1]=a=>l.search=a)},null,512),[[c,l.search]]),i(t("select",{class:"form-select",style:{width:"40%"},"onUpdate:modelValue":e[2]||(e[2]=a=>l.selectedFilter=a)},e[6]||(e[6]=[t("option",{value:""},"전체",-1),t("option",{value:"true"},"사용중설비",-1),t("option",{value:"false"},"미사용설비",-1)]),512),[[x,l.selectedFilter]])]),t("button",{class:"btn btn-sm btn-primary",onClick:e[3]||(e[3]=a=>s.$emit("select-eqp",l.selectedEqp))},"설비 등록")]),t("div",P,[t("table",Q,[e[7]||(e[7]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"설비번호"),t("th",{class:"w-20"},"설비명"),t("th",{class:"w-10"},"설비상태"),t("th",{class:"w-20"},"사용중인라인")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(d.filteredEqp,a=>(r(),p("tr",{key:a.eqp_no,onClick:o=>d.toggleEqpSelection(a),class:S({"table-primary":d.isSelected(a)}),style:{cursor:"pointer"}},[t("td",j,y(a.eqp_no),1),t("td",A,y(a.eqp_nm),1),t("td",B,y(d.eqpStatusFormat(a.eqp_sts)),1),t("td",G,y(a.ln_nm),1)],10,T))),128))])])])])])])])}const V=q(U,[["render",Y],["__scopeId","data-v-d6dfb24a"]]),z={props:{ln:Object},components:{eqpSelectModal:V},data(){return{ln_no:"",ln_nm:"",prd_no:"",prd_nm:"",ln_sts:"",use_yn:"",dly_avg_pdn_qty:"",lnDtlRows:[],selectedRowIndex:null,showEqpModal:!1,eqpList:[]}},watch:{ln:{handler(s){s?this.getLnDtlList(s.ln_no):(this.ln_no="",this.ln_nm="",this.prd_no="",this.prd_nm="",this.ln_sts="",this.use_yn="",this.dly_avg_pdn_qty="",this.lnDtlRows=[])},immediate:!0}},methods:{async getLnDtlList(s){let e=await f.get(`/api/ln/${s}`).catch(m=>console.log(m));this.lnDtlRows=e.data,this.ln_no=e.data[0].ln_no,this.ln_nm=e.data[0].ln_nm,this.prd_no=e.data[0].prd_no,this.prd_nm=e.data[0].prd_nm,this.ln_sts=e.data[0].ln_sts,this.use_yn=e.data[0].use_yn,this.dly_avg_pdn_qty=e.data[0].dly_avg_pdn_qty},async lnUpdate(){var u;if(!((u=this.ln_nm)!=null&&u.trim())){alert("라인명을 입력해주세요.");return}if(!this.ln_sts){alert("라인상태를 선택해주세요.");return}if(!this.use_yn){alert("사용여부를 선택해주세요.");return}if(!this.dly_avg_pdn_qty||isNaN(Number(this.dly_avg_pdn_qty))){alert("일평균생산량은 숫자로 입력해주세요.");return}for(let l=0;l<this.lnDtlRows.length;l++)if(!this.lnDtlRows[l].eqp_no){alert(`${l+1}번째 공정의 설비를 선택해주세요.`);return}let s={ln_nm:this.ln_nm.trim(),ln_sts:this.ln_sts,use_yn:this.use_yn,dly_avg_pdn_qty:Number(this.dly_avg_pdn_qty)},e=[];for(let l=0;l<this.lnDtlRows.length;l++)e[l]={eqp_no:this.lnDtlRows[l].eqp_no,ln_dtl_no:this.lnDtlRows[l].ln_dtl_no};(await f.put(`/api/lnAndLnDtl/${this.ln_no}`,[s,e]).catch(l=>console.log(l))).data.message=="수정 완료"?(alert("수정되었습니다."),this.$emit("ln-reload"),this.getLnDtlList(this.ln_no)):alert(`수정되지 않았습니다.
>>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b:server/public/assets/ln-jvBtnz2h.js
>>>>>>>> origin/Eunae:server/public/assets/ln-DSvq9o94.js
=======
<<<<<<< HEAD
=======
========
import{d as R}from"./useCommonCode-DKmraWxZ.js";import{_ as q,c as p,a as t,w as i,v as c,k as x,F as g,r as L,g as k,o as r,f as S,t as y,e as f,i as b,j as v,d as D,l as w}from"./index-DRp0-N0C.js";import{p as E}from"./prdSelectModal-BrqdSc7T.js";const U={props:{eqpList:Array,selected:Array},data(){return{search:"",selectedEqp:null,selectedFilter:""}},computed:{filteredEqp(){return this.eqpList?this.eqpList.filter(s=>{const e=!this.search||s.eqp_nm.toLowerCase().includes(this.search.toLowerCase()),m=this.selectedFilter===""||(s.ln_nm?this.selectedFilter==="true":this.selectedFilter==="false");return e&&m}):[]}},created(){this.selectedEqp=this.selected?{eqp_no:this.selected}:null},methods:{eqpStatusFormat(s){return R.eqpStatusFormat(s)},toggleEqpSelection(s){if(s.ln_nm){alert("이미 사용 중인 설비입니다. 선택할 수 없습니다.");return}this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no?this.selectedEqp=null:this.selectedEqp={eqp_no:s.eqp_no,eqp_nm:s.eqp_nm}},isSelected(s){return this.selectedEqp&&this.selectedEqp.eqp_no===s.eqp_no}}},I={class:"modal-dialog modal-lg"},M={class:"modal-content"},C={class:"modal-header"},F={class:"modal-body"},N={class:"d-flex justify-content-between align-items-center mb-2"},$={class:"d-flex gap-2",style:{width:"450px"}},P={class:"table-container"},Q={class:"table table-sm table-bordered text-center"},T=["onClick"],j={class:"w-10"},A={class:"w-20"},B={class:"w-10"},G={class:"w-20"};function Y(s,e,m,u,l,d){return r(),p("div",{class:"modal fade show d-block",style:{background:"rgba(0,0,0,0.5)","z-index":"1051"},onClick:e[4]||(e[4]=k(a=>s.$emit("close"),["self"]))},[t("div",I,[t("div",M,[t("div",C,[e[5]||(e[5]=t("h5",{class:"modal-title"},"설비 선택",-1)),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=a=>s.$emit("close"))})]),t("div",F,[t("div",N,[t("div",$,[i(t("input",{type:"text",class:"form-control",style:{width:"60%"},placeholder:"설비명 검색","onUpdate:modelValue":e[1]||(e[1]=a=>l.search=a)},null,512),[[c,l.search]]),i(t("select",{class:"form-select",style:{width:"40%"},"onUpdate:modelValue":e[2]||(e[2]=a=>l.selectedFilter=a)},e[6]||(e[6]=[t("option",{value:""},"전체",-1),t("option",{value:"true"},"사용중설비",-1),t("option",{value:"false"},"미사용설비",-1)]),512),[[x,l.selectedFilter]])]),t("button",{class:"btn btn-sm btn-primary",onClick:e[3]||(e[3]=a=>s.$emit("select-eqp",l.selectedEqp))},"설비 등록")]),t("div",P,[t("table",Q,[e[7]||(e[7]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"설비번호"),t("th",{class:"w-20"},"설비명"),t("th",{class:"w-10"},"설비상태"),t("th",{class:"w-20"},"사용중인라인")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(d.filteredEqp,a=>(r(),p("tr",{key:a.eqp_no,onClick:o=>d.toggleEqpSelection(a),class:S({"table-primary":d.isSelected(a)}),style:{cursor:"pointer"}},[t("td",j,y(a.eqp_no),1),t("td",A,y(a.eqp_nm),1),t("td",B,y(d.eqpStatusFormat(a.eqp_sts)),1),t("td",G,y(a.ln_nm),1)],10,T))),128))])])])])])])])}const V=q(U,[["render",Y],["__scopeId","data-v-d6dfb24a"]]),z={props:{ln:Object},components:{eqpSelectModal:V},data(){return{ln_no:"",ln_nm:"",prd_no:"",prd_nm:"",ln_sts:"",use_yn:"",dly_avg_pdn_qty:"",lnDtlRows:[],selectedRowIndex:null,showEqpModal:!1,eqpList:[]}},watch:{ln:{handler(s){s?this.getLnDtlList(s.ln_no):(this.ln_no="",this.ln_nm="",this.prd_no="",this.prd_nm="",this.ln_sts="",this.use_yn="",this.dly_avg_pdn_qty="",this.lnDtlRows=[])},immediate:!0}},methods:{async getLnDtlList(s){let e=await f.get(`/api/ln/${s}`).catch(m=>console.log(m));this.lnDtlRows=e.data,this.ln_no=e.data[0].ln_no,this.ln_nm=e.data[0].ln_nm,this.prd_no=e.data[0].prd_no,this.prd_nm=e.data[0].prd_nm,this.ln_sts=e.data[0].ln_sts,this.use_yn=e.data[0].use_yn,this.dly_avg_pdn_qty=e.data[0].dly_avg_pdn_qty},async lnUpdate(){var u;if(!((u=this.ln_nm)!=null&&u.trim())){alert("라인명을 입력해주세요.");return}if(!this.ln_sts){alert("라인상태를 선택해주세요.");return}if(!this.use_yn){alert("사용여부를 선택해주세요.");return}if(!this.dly_avg_pdn_qty||isNaN(Number(this.dly_avg_pdn_qty))){alert("일평균생산량은 숫자로 입력해주세요.");return}for(let l=0;l<this.lnDtlRows.length;l++)if(!this.lnDtlRows[l].eqp_no){alert(`${l+1}번째 공정의 설비를 선택해주세요.`);return}let s={ln_nm:this.ln_nm.trim(),ln_sts:this.ln_sts,use_yn:this.use_yn,dly_avg_pdn_qty:Number(this.dly_avg_pdn_qty)},e=[];for(let l=0;l<this.lnDtlRows.length;l++)e[l]={eqp_no:this.lnDtlRows[l].eqp_no,ln_dtl_no:this.lnDtlRows[l].ln_dtl_no};(await f.put(`/api/lnAndLnDtl/${this.ln_no}`,[s,e]).catch(l=>console.log(l))).data.message=="수정 완료"?(alert("수정되었습니다."),this.$emit("ln-reload"),this.getLnDtlList(this.ln_no)):alert(`수정되지 않았습니다.
>>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b:server/public/assets/ln-jvBtnz2h.js
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
>>>>>>> origin/Eunae
데이터를 확인해보세요.`)},saveLn(){confirm(`정말로 수정하시겠습니까?
변경된 내용은 즉시 적용됩니다.`)&&this.lnUpdate()},addLn(){this.$emit("goToForm",!1)},async deleteLn(s){s?confirm(`정말로 삭제하시겠습니까?
삭제된 데이터는 복구할 수 없습니다.`)&&((await f.delete(`/api/ln/${s}`).catch(l=>console.log(l))).data.affectedRows>0?(alert("정상적으로 삭제되었습니다."),this.$emit("ln-reload"),this.ln_no="",this.ln_nm="",this.prd_no="",this.prd_nm="",this.ln_sts="",this.use_yn="",this.dly_avg_pdn_qty="",this.lnDtlRows=[],this.$emit("clear-selection")):alert("삭제되지 않았습니다.")):alert("삭제할 라인을 선택하세요")},resetForm(){this.getLnDtlList(this.ln_no)},openEqpModal(s){f.get("/api/eqp").then(e=>{this.selectedRowIndex=s,this.eqpList=e.data,this.showEqpModal=!0}).catch(e=>{console.error("설비 목록 불러오기 실패",e)})},handleSelectedEqp(s){this.selectedRowIndex!==null&&(this.lnDtlRows[this.selectedRowIndex].eqp_no=s.eqp_no,this.lnDtlRows[this.selectedRowIndex].eqp_nm=s.eqp_nm),this.showEqpModal=!1}}},O={class:"col-md-7"},H={class:"d-flex justify-content-between mb-3"},J={class:"card p-3"},K={key:0},W={class:"row mb-4"},X={class:"col-md-6 mb-3"},Z={class:"d-flex align-items-center"},tt={class:"col-md-6 mb-3"},et={class:"d-flex align-items-center"},lt={class:"col-md-6 mb-3"},st={class:"d-flex align-items-center"},nt={class:"col-md-6 mb-3"},ot={class:"d-flex align-items-center"},dt={class:"col-md-6 mb-3"},it={class:"d-flex align-items-center"},rt={class:"col-md-6 mb-3"},at={class:"d-flex align-items-center"},ct={class:"table table-bordered text-center"},pt=["onUpdate:modelValue"],_t=["onUpdate:modelValue"],mt=["onUpdate:modelValue"],ut={class:"input-group"},ht=["onUpdate:modelValue"],ft=["onClick"],yt=["onUpdate:modelValue"],bt={key:1};function vt(s,e,m,u,l,d){const a=w("eqpSelectModal");return r(),p("div",O,[t("div",H,[t("div",null,[t("button",{class:"btn btn-primary me-2",onClick:e[0]||(e[0]=(...o)=>d.addLn&&d.addLn(...o))},"등록"),t("button",{class:"btn btn-danger",onClick:e[1]||(e[1]=o=>d.deleteLn(l.ln_no))},"삭제")]),t("div",null,[t("button",{class:"btn btn-warning me-2",onClick:e[2]||(e[2]=(...o)=>d.resetForm&&d.resetForm(...o))},"초기화"),t("button",{class:"btn btn-success",onClick:e[3]||(e[3]=(...o)=>d.saveLn&&d.saveLn(...o))},"저장")])]),t("div",J,[e[21]||(e[21]=t("h4",null,"상세 보기",-1)),m.ln?(r(),p("div",K,[t("div",null,[t("div",W,[t("div",X,[t("div",Z,[e[11]||(e[11]=t("label",{for:"lnNo",class:"form-label me-3",style:{"min-width":"100px"}},"라인번호",-1)),i(t("input",{id:"lnNo",type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=o=>l.ln_no=o),readonly:"",disabled:""},null,512),[[c,l.ln_no]])])]),t("div",tt,[t("div",et,[e[12]||(e[12]=t("label",{for:"lnNm",class:"form-label me-3",style:{"min-width":"100px"}},"라인명",-1)),i(t("input",{id:"lnNm",type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=o=>l.ln_nm=o)},null,512),[[c,l.ln_nm]])])]),t("div",lt,[t("div",st,[e[13]||(e[13]=t("label",{for:"prdNm",class:"form-label me-3",style:{"min-width":"100px"}},"제품명",-1)),i(t("input",{id:"prdNm",type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=o=>l.prd_nm=o),readonly:"",disabled:""},null,512),[[c,l.prd_nm]])])]),t("div",nt,[t("div",ot,[e[15]||(e[15]=t("label",{for:"useYn",class:"form-label me-3",style:{"min-width":"100px"}},"사용여부",-1)),i(t("select",{id:"useYn",class:"form-select form-control","onUpdate:modelValue":e[7]||(e[7]=o=>l.use_yn=o)},e[14]||(e[14]=[t("option",{value:"f1"},"여",-1),t("option",{value:"f2"},"부",-1)]),512),[[x,l.use_yn]])])]),t("div",dt,[t("div",it,[e[17]||(e[17]=t("label",{for:"lnSts",class:"form-label me-3",style:{"min-width":"100px"}},"라인상태",-1)),i(t("select",{id:"lnSts",class:"form-select form-control","onUpdate:modelValue":e[8]||(e[8]=o=>l.ln_sts=o)},e[16]||(e[16]=[D('<option value="l1" data-v-45b43b1c>비가동</option><option value="l2" data-v-45b43b1c>대기중</option><option value="l3" data-v-45b43b1c>공정중</option><option value="l4" data-v-45b43b1c>공정완료</option><option value="l5" data-v-45b43b1c>수리중</option><option value="l6" data-v-45b43b1c>점검중</option>',6)]),512),[[x,l.ln_sts]])])]),t("div",rt,[t("div",at,[e[18]||(e[18]=t("label",{for:"dlyQty",class:"form-label me-3",style:{"min-width":"100px"}},"일평균생산량",-1)),i(t("input",{id:"dlyQty",type:"text",class:"form-control","onUpdate:modelValue":e[9]||(e[9]=o=>l.dly_avg_pdn_qty=o)},null,512),[[c,l.dly_avg_pdn_qty]])])])]),t("table",ct,[e[19]||(e[19]=t("thead",{class:"table-light"},[t("tr",{class:"small-text"},[t("th",{style:{"font-weight":"normal",width:"10%"}},"순서"),t("th",{style:{"font-weight":"normal",width:"15%"}},"공정코드"),t("th",{style:{"font-weight":"normal"}},"공정코드명"),t("th",{style:{"font-weight":"normal",width:"20%"}},"설비번호"),t("th",{style:{"font-weight":"normal"}},"설비명")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(l.lnDtlRows,(o,n)=>(r(),p("tr",{key:"new-"+n},[t("td",null,[i(t("input",{"onUpdate:modelValue":_=>o.seq=_,type:"text",class:"form-control",readonly:"",disabled:""},null,8,pt),[[c,o.seq]])]),t("td",null,[i(t("input",{"onUpdate:modelValue":_=>o.proc_code_no=_,type:"text",class:"form-control",readonly:"",disabled:""},null,8,_t),[[c,o.proc_code_no]])]),t("td",null,[i(t("input",{"onUpdate:modelValue":_=>o.proc_code_nm=_,type:"text",class:"form-control",readonly:"",disabled:""},null,8,mt),[[c,o.proc_code_nm]])]),t("td",null,[t("div",ut,[i(t("input",{"onUpdate:modelValue":_=>o.eqp_no=_,type:"text",class:"form-control",readonly:""},null,8,ht),[[c,o.eqp_no]]),t("button",{class:"btn btn-outline-secondary",onClick:_=>d.openEqpModal(n)},"🔍",8,ft)])]),t("td",null,[i(t("input",{"onUpdate:modelValue":_=>o.eqp_nm=_,type:"text",class:"form-control",readonly:"",disabled:""},null,8,yt),[[c,o.eqp_nm]])])]))),128))])]),l.showEqpModal?(r(),b(a,{key:0,eqpList:l.eqpList,selected:l.lnDtlRows,onSelectEqp:d.handleSelectedEqp,onClose:e[10]||(e[10]=o=>l.showEqpModal=!1)},null,8,["eqpList","selected","onSelectEqp"])):v("",!0)])])):(r(),p("div",bt,e[20]||(e[20]=[t("p",null,"라인을 선택하세요!",-1)])))])])}const wt=q(z,[["render",vt],["__scopeId","data-v-45b43b1c"]]),qt={components:{prdSelectModal:E,eqpSelectModal:V},data(){return{ln_no:"",ln_nm:"",prd_no:"",prd_nm:"",use_yn:"f1",ln_sts:"l2",dly_avg_pdn_qty:null,lnDtlRows:[],selectedRowIndex:null,showPrdModal:!1,prdList:[],showEqpModal:!1,eqpList:[]}},watch:{prd_no(s){s&&this.getLnDtl()}},created(){this.getLnNo()},methods:{async getLnNo(){let s=await f.get("/api/lnNo").catch(e=>console.log(e));this.ln_no="LINE-"+s.data[0].lnNo.padStart(3,"0")},resetForm(){this.lnDtlRows=[],this.ln_nm="",this.prd_no="",this.prd_nm="",this.use_yn="f1",this.ln_sts="l2",this.dly_avg_pdn_qty=null},async lnInsert(){var u;if(!((u=this.ln_nm)!=null&&u.trim())){alert("라인명을 입력해주세요.");return}if(!this.prd_no){alert("제품을 선택해주세요.");return}if(!this.dly_avg_pdn_qty||isNaN(Number(this.dly_avg_pdn_qty))){alert("일평균생산량은 숫자로 입력해주세요.");return}if(!this.lnDtlRows||this.lnDtlRows.length===0){alert("공정을 추가해주세요.");return}for(let l=0;l<this.lnDtlRows.length;l++)if(!this.lnDtlRows[l].eqp_no){alert(`${l+1}번째 공정의 설비를 선택해주세요.`);return}let s={ln_no:this.ln_no,ln_nm:this.ln_nm.trim(),prd_no:this.prd_no,dly_avg_pdn_qty:Number(this.dly_avg_pdn_qty)},e=[];for(let l=0;l<this.lnDtlRows.length;l++)e[l]={ln_dtl_no:this.ln_no+"-"+(l+1).toString().padStart(2,"0"),ln_no:this.ln_no,proc_srl_no:this.lnDtlRows[l].proc_srl_no,eqp_no:this.lnDtlRows[l].eqp_no};(await f.post("/api/lnAndLnDtl",[s,e]).catch(l=>console.log(l))).data.message=="등록 완료"?(alert("등록되었습니다."),this.$emit("ln-reload")):alert(`등록되지 않았습니다.
데이터를 확인해보세요.`),this.$emit("goToInfo",!0)},openPrdModal(){f.get("/api/prd").then(s=>{this.prdList=s.data,this.showPrdModal=!0}).catch(s=>{console.error("제품 목록 불러오기 실패",s)})},handleSelectedPrd(s){this.prd_no=s.prd_no,this.prd_nm=s.prd_nm,this.showPrdModal=!1},async getLnDtl(){try{const s=await f.get(`/api/lnDtlList/${this.prd_no}`);this.lnDtlRows=s.data||[]}catch(s){console.error("공정 흐름도 조회 실패",s),this.lnDtlRows=[]}},openEqpModal(s){f.get("/api/eqp").then(e=>{this.selectedRowIndex=s,this.eqpList=e.data,this.showEqpModal=!0}).catch(e=>{console.error("설비 목록 불러오기 실패",e)})},handleSelectedEqp(s){this.selectedRowIndex!==null&&(this.lnDtlRows[this.selectedRowIndex].eqp_no=s.eqp_no,this.lnDtlRows[this.selectedRowIndex].eqp_nm=s.eqp_nm),this.showEqpModal=!1}}},gt={class:"col-md-7"},Lt={class:"d-flex justify-content-between mb-3"},xt={class:"card p-3"},Rt={class:"row mb-4"},St={class:"col-md-6 mb-3"},Dt={class:"d-flex align-items-center"},Vt={class:"col-md-6 mb-3"},kt={class:"d-flex align-items-center"},Et={class:"col-md-6 mb-3"},Ut={class:"d-flex align-items-center"},It={class:"input-group"},Mt={class:"col-md-6 mb-3"},Ct={class:"d-flex align-items-center"},Ft={class:"table table-bordered text-center"},Nt={key:0,class:"small-text"},$t=["onUpdate:modelValue"],Pt=["onUpdate:modelValue"],Qt=["onUpdate:modelValue"],Tt={class:"input-group"},jt=["onUpdate:modelValue"],At=["onClick"],Bt=["onUpdate:modelValue"],Gt={key:1,class:"small-text"};function Yt(s,e,m,u,l,d){const a=w("eqpSelectModal"),o=w("prdSelectModal");return r(),p("div",gt,[t("div",Lt,[e[9]||(e[9]=t("div",null,null,-1)),t("div",null,[t("button",{class:"btn btn-warning me-2",onClick:e[0]||(e[0]=(...n)=>d.resetForm&&d.resetForm(...n))},"초기화"),t("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...n)=>d.lnInsert&&d.lnInsert(...n))},"저장")])]),t("div",xt,[e[17]||(e[17]=t("h4",null,"라인 등록",-1)),t("div",null,[t("div",null,[t("div",Rt,[t("div",St,[t("div",Dt,[e[10]||(e[10]=t("label",{for:"lnNo",class:"form-label me-3",style:{"min-width":"100px"}},"라인번호",-1)),i(t("input",{id:"lnNo",type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=n=>l.ln_no=n),readonly:"",disabled:""},null,512),[[c,l.ln_no]])])]),t("div",Vt,[t("div",kt,[e[11]||(e[11]=t("label",{for:"lnNm",class:"form-label me-3",style:{"min-width":"100px"}},"라인명",-1)),i(t("input",{id:"lnNm",type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=n=>l.ln_nm=n)},null,512),[[c,l.ln_nm]])])]),t("div",Et,[t("div",Ut,[e[12]||(e[12]=t("label",{for:"prdNm",class:"form-label me-3",style:{"min-width":"100px"}},"제품명",-1)),t("div",It,[i(t("input",{id:"prdNm",type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=n=>l.prd_nm=n),readonly:"",placeholder:"제품을 선택해주세요."},null,512),[[c,l.prd_nm]]),t("button",{class:"btn btn-outline-secondary",onClick:e[5]||(e[5]=(...n)=>d.openPrdModal&&d.openPrdModal(...n))},"🔍")])])]),e[14]||(e[14]=D('<div class="col-md-6 mb-3" data-v-9c07e5d5><div class="d-flex align-items-center" data-v-9c07e5d5><label for="useYn" class="form-label me-3" style="min-width:100px;" data-v-9c07e5d5>사용여부</label><input id="useYn" type="text" class="form-control" value="여" readonly disabled data-v-9c07e5d5></div></div><div class="col-md-6 mb-3" data-v-9c07e5d5><div class="d-flex align-items-center" data-v-9c07e5d5><label for="lnSts" class="form-label me-3" style="min-width:100px;" data-v-9c07e5d5>라인상태</label><input id="lnSts" type="text" class="form-control" value="비가동" readonly disabled data-v-9c07e5d5></div></div>',2)),t("div",Mt,[t("div",Ct,[e[13]||(e[13]=t("label",{for:"dlyQty",class:"form-label me-3",style:{"min-width":"100px"}},"일평균생산량",-1)),i(t("input",{id:"dlyQty",type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=n=>l.dly_avg_pdn_qty=n)},null,512),[[c,l.dly_avg_pdn_qty]])])])]),t("table",Ft,[e[16]||(e[16]=t("thead",{class:"table-light"},[t("tr",{class:"small-text"},[t("th",{style:{"font-weight":"normal",width:"10%"}},"순서"),t("th",{style:{"font-weight":"normal",width:"15%"}},"공정코드"),t("th",{style:{"font-weight":"normal"}},"공정코드명"),t("th",{style:{"font-weight":"normal",width:"20%"}},"설비번호"),t("th",{style:{"font-weight":"normal"}},"설비명")])],-1)),l.lnDtlRows&&l.lnDtlRows.length>0?(r(),p("tbody",Nt,[(r(!0),p(g,null,L(l.lnDtlRows,(n,_)=>(r(),p("tr",{key:"new-"+_},[t("td",null,[i(t("input",{"onUpdate:modelValue":h=>n.seq=h,type:"text",class:"form-control",readonly:"",disabled:""},null,8,$t),[[c,n.seq]])]),t("td",null,[i(t("input",{"onUpdate:modelValue":h=>n.proc_code_no=h,type:"text",class:"form-control",readonly:"",disabled:""},null,8,Pt),[[c,n.proc_code_no]])]),t("td",null,[i(t("input",{"onUpdate:modelValue":h=>n.proc_code_nm=h,type:"text",class:"form-control",readonly:"",disabled:""},null,8,Qt),[[c,n.proc_code_nm]])]),t("td",null,[t("div",Tt,[i(t("input",{"onUpdate:modelValue":h=>n.eqp_no=h,type:"text",class:"form-control",readonly:""},null,8,jt),[[c,n.eqp_no]]),t("button",{class:"btn btn-outline-secondary",onClick:h=>d.openEqpModal(_)},"🔍",8,At)])]),t("td",null,[i(t("input",{"onUpdate:modelValue":h=>n.eqp_nm=h,type:"text",class:"form-control",readonly:"",disabled:""},null,8,Bt),[[c,n.eqp_nm]])])]))),128))])):(r(),p("tbody",Gt,e[15]||(e[15]=[t("tr",null,[t("td",{colspan:"5"},"제품을 선택하여 공정을 추가해주세요.")],-1)])))]),l.showEqpModal?(r(),b(a,{key:0,eqpList:l.eqpList,selected:l.lnDtlRows,onSelectEqp:d.handleSelectedEqp,onClose:e[7]||(e[7]=n=>l.showEqpModal=!1)},null,8,["eqpList","selected","onSelectEqp"])):v("",!0),l.showPrdModal?(r(),b(o,{key:1,prdList:l.prdList,selected:l.prd_no,onSelectPrd:d.handleSelectedPrd,onClose:e[8]||(e[8]=n=>l.showPrdModal=!1)},null,8,["prdList","selected","onSelectPrd"])):v("",!0)])])])])}const zt=q(qt,[["render",Yt],["__scopeId","data-v-9c07e5d5"]]),Ot={components:{lnInfo:wt,lnForm:zt},data(){return{searchQuery:"",selectedLn:null,lnList:[],InfoView:!0}},computed:{filteredLnList(){return this.lnList.filter(s=>s.ln_nm.toLowerCase().includes(this.searchQuery.toLowerCase())||s.prd_nm.toLowerCase().includes(this.searchQuery.toLowerCase()))}},created(){this.getLnList()},methods:{lineStatusFormat(s){return R.lineStatusFormat(s)},async getLnList(){let s=await f.get("/api/ln").catch(e=>console.log(e));this.lnList=s.data},async selectLn(s){try{const e=this.lnList.find(m=>m.ln_no===s);this.InfoView=!0,await this.$nextTick(),this.selectedLn=e}catch(e){console.error("라인 선택 중 오류 발생:",e)}},msg(s){this.InfoView=s,s||(this.selectedLn=null)},clearSelection(){this.selectedLn=null}}},Ht={class:"container mt-4"},Jt={class:"row"},Kt={class:"col-md-5"},Wt={class:"d-flex justify-content-between mb-3"},Xt={class:"card p-3"},Zt={class:"table-container"},te={class:"table table-bordered"},ee=["onClick"],le={class:"w-10"},se={class:"w-25"},ne={class:"w-20"},oe={class:"w-10"};function de(s,e,m,u,l,d){const a=w("lnInfo"),o=w("lnForm");return r(),p("div",Ht,[t("div",Jt,[e[3]||(e[3]=t("h1",null,"라인 관리",-1)),t("div",Kt,[t("div",Wt,[i(t("input",{type:"text",class:"form-control w-50",placeholder:"라인명, 제품명 검색...","onUpdate:modelValue":e[0]||(e[0]=n=>l.searchQuery=n)},null,512),[[c,l.searchQuery]])]),t("div",Xt,[e[2]||(e[2]=t("h4",null,"라인 목록",-1)),t("div",Zt,[t("table",te,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",{class:"w-10"},"라인번호"),t("th",{class:"w-25"},"라인명"),t("th",{class:"w-20"},"제품명"),t("th",{class:"w-10"},"라인상태")])],-1)),t("tbody",null,[(r(!0),p(g,null,L(d.filteredLnList,n=>(r(),p("tr",{key:n.ln_no,onClick:_=>d.selectLn(n.ln_no),class:S([{"table-primary":l.selectedLn&&l.selectedLn.ln_no===n.ln_no},"table-hover"])},[t("td",le,y(n.ln_no),1),t("td",se,y(n.ln_nm),1),t("td",ne,y(n.prd_nm),1),t("td",oe,y(d.lineStatusFormat(n.ln_sts)),1)],10,ee))),128))])])])])]),l.InfoView?(r(),b(a,{key:0,ln:l.selectedLn,onGoToForm:d.msg,onLnReload:d.getLnList,onClearSelection:d.clearSelection},null,8,["ln","onGoToForm","onLnReload","onClearSelection"])):v("",!0),l.InfoView?v("",!0):(r(),b(o,{key:1,onGoToInfo:d.msg,onLnReload:d.getLnList},null,8,["onGoToInfo","onLnReload"]))])])}const ce=q(Ot,[["render",de],["__scopeId","data-v-42297926"]]);export{ce as default};
<<<<<<< HEAD
<<<<<<<< HEAD:server/public/assets/ln-jvBtnz2h.js
//# sourceMappingURL=ln-jvBtnz2h.js.map
========
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
=======
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
<<<<<<< HEAD
=======
<<<<<<<< HEAD:server/public/assets/ln-DSvq9o94.js
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
>>>>>>> origin/Eunae
//# sourceMappingURL=ln-DSvq9o94.js.map
========
//# sourceMappingURL=ln-jvBtnz2h.js.map
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/ln-jvBtnz2h.js
<<<<<<< HEAD
========
//# sourceMappingURL=ln-jvBtnz2h.js.map
>>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b:server/public/assets/ln-jvBtnz2h.js
>>>>>>>> origin/Eunae:server/public/assets/ln-DSvq9o94.js
=======
<<<<<<< HEAD
=======
========
//# sourceMappingURL=ln-jvBtnz2h.js.map
>>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b:server/public/assets/ln-jvBtnz2h.js
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
>>>>>>> origin/Eunae
