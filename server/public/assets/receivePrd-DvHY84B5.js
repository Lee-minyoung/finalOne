import{_ as w,e as u,c as d,a as t,j as h,F as g,r as F,o,t as i,w as b,v as D,i as f,f as y,l as v}from"./index-BjdZvEQ0.js";import{u as p}from"./useDates-UMs5Kxim.js";const L={props:{searchStartDate:Date,searchEndDate:Date},data(){return{waitList:[]}},created(){this.getWaitList()},computed:{filteredWaitList(){return this.waitList.filter(s=>this.searchStartDate===""||this.searchEndDate===""||this.dateFormat(s.ins_dt)>=this.dateFormat(this.searchStartDate)&&this.dateFormat(s.ins_dt)<=this.dateFormat(this.searchEndDate))}},methods:{dateFormat(s){return p.dateFormat(s,"yyyy-MM-dd")},async getWaitList(){let s=await u.get("/api/receivePrdWait").catch(e=>console.log(e));this.waitList=s.data},async addNewItem(s){if(confirm("입고처리 하시겠습니까?"))try{let e=s.rslt_no,c={prd_no:s.prd_no,cur_stk:s.succ_count,qty:s.succ_count};(await u.post("/api/prdStkAndHist",[e,c])).data.message=="등록 완료"?(alert("등록되었습니다."),this.getWaitList()):alert(`등록되지 않았습니다.
데이터를 확인해보세요.`)}catch(e){console.error("입고 처리 중 오류 발생:",e),alert("입고 처리 중 오류가 발생했습니다.")}}}},V={class:"table-responsive border table-container"},k={class:"table table-bordered table-sm text-center mb-0"},x={class:"w-10"},C={class:"w-10"},S={class:"w-10"},E={class:"w-10"},$={class:"w-10"},W={class:"w-10"},M={class:"w-10"},I=["onClick"],N={key:0};function B(s,e,c,m,r,n){return o(),d("div",V,[t("table",k,[e[1]||(e[1]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"검사일자"),t("th",{class:"w-10"},"성적서번호"),t("th",{class:"w-10"},"제품번호"),t("th",{class:"w-10"},"제품명"),t("th",{class:"w-10"},"합격수량"),t("th",{class:"w-10"},"작업자"),t("th",{class:"w-10"},"입고처리")])],-1)),t("tbody",null,[(o(!0),d(g,null,F(n.filteredWaitList,(a,_)=>(o(),d("tr",{key:a.rslt_no},[t("td",x,i(n.dateFormat(a.ins_dt)),1),t("td",C,i(a.rslt_no),1),t("td",S,i(a.prd_no),1),t("td",E,i(a.prd_nm),1),t("td",$,i(a.succ_count),1),t("td",W,i(a.nm),1),t("td",M,[t("button",{class:"btn btn-primary btn-sm",onClick:l=>n.addNewItem(a)},"신규 입고",8,I)])]))),128)),r.waitList.length===0?(o(),d("tr",N,e[0]||(e[0]=[t("td",{colspan:"7",class:"text-muted"},"데이터가 없습니다.",-1)]))):h("",!0)])])])}const T=w(L,[["render",B],["__scopeId","data-v-e9272856"]]),q={props:{searchStartDate:Date,searchEndDate:Date},data(){return{CompleteList:[]}},created(){this.getCompleteListList()},computed:{filteredCompleteList(){return this.CompleteList.filter(s=>this.searchStartDate===""||this.searchEndDate===""||this.dateFormat(s.ins_dt)>=this.dateFormat(this.searchStartDate)&&this.dateFormat(s.ins_dt)<=this.dateFormat(this.searchEndDate))}},methods:{dateFormat(s){return p.dateFormat(s,"yyyy-MM-dd")},async getCompleteListList(){let s=await u.get("/api/receivePrdComplete").catch(e=>console.log(e));this.CompleteList=s.data}}},P={class:"table-responsive border table-container"},U={class:"table table-bordered table-sm text-center mb-0"},j={class:"w-10"},z={class:"w-10"},A={class:"w-10"},H={class:"w-10"},G={class:"w-10"},J={class:"w-10"},K={key:0};function O(s,e,c,m,r,n){return o(),d("div",P,[t("table",U,[e[1]||(e[1]=t("thead",{class:"table-light"},[t("tr",null,[t("th",{class:"w-10"},"검사일자"),t("th",{class:"w-10"},"성적서번호"),t("th",{class:"w-10"},"제품번호"),t("th",{class:"w-10"},"제품명"),t("th",{class:"w-10"},"합격수량"),t("th",{class:"w-10"},"작업자")])],-1)),t("tbody",null,[(o(!0),d(g,null,F(n.filteredCompleteList,(a,_)=>(o(),d("tr",{key:a.rslt_no},[t("td",j,i(n.dateFormat(a.ins_dt)),1),t("td",z,i(a.rslt_no),1),t("td",A,i(a.prd_no),1),t("td",H,i(a.prd_nm),1),t("td",G,i(a.succ_count),1),t("td",J,i(a.nm),1)]))),128)),r.CompleteList.length===0?(o(),d("tr",K,e[0]||(e[0]=[t("td",{colspan:"7",class:"text-muted"},"데이터가 없습니다.",-1)]))):h("",!0)])])])}const Q=w(q,[["render",O],["__scopeId","data-v-a647e556"]]),X={components:{wait:T,complete:Q},data(){return{startDate:this.dateFormat(new Date),endDate:this.dateFormat(new Date),waitView:!0}},created(){this.$route.query.waitView!==void 0&&(this.waitView=this.$route.query.waitView==="true")},methods:{dateFormat(s){return p.dateFormat(s,"yyyy-MM-dd")},showWaitView(){this.waitView=!0},showCompleteView(){this.waitView=!1},setToday(){const s=new Date;this.startDate=this.dateFormat(s),this.endDate=this.dateFormat(s)}}},Y={class:"container-fluid mt-4"},Z={class:"bg-light p-3 border mb-3 d-flex align-items-center"},R={class:"row"},tt={class:"col-md-12"},et={class:"nav nav-tabs mb-2"},st={class:"nav-item"},at={class:"nav-item"};function rt(s,e,c,m,r,n){const a=v("wait"),_=v("complete");return o(),d("div",Y,[t("div",Z,[e[5]||(e[5]=t("label",{class:"form-label fw-bold me-2 mb-0"},"검사일자 조회",-1)),b(t("input",{type:"date",class:"form-control d-inline w-auto me-2","onUpdate:modelValue":e[0]||(e[0]=l=>r.startDate=l)},null,512),[[D,r.startDate]]),e[6]||(e[6]=t("span",{class:"me-2 fw-bold"},"부터",-1)),b(t("input",{type:"date",class:"form-control d-inline w-auto me-2","onUpdate:modelValue":e[1]||(e[1]=l=>r.endDate=l)},null,512),[[D,r.endDate]]),e[7]||(e[7]=t("span",{class:"me-2 fw-bold"},"까지",-1)),t("button",{class:"btn btn-secondary btn-sm me-2",onClick:e[2]||(e[2]=(...l)=>n.setToday&&n.setToday(...l))},"오늘")]),t("div",R,[t("div",tt,[t("ul",et,[t("li",st,[t("button",{class:y(["nav-link",{active:r.waitView}]),"data-bs-toggle":"tab",onClick:e[3]||(e[3]=(...l)=>n.showWaitView&&n.showWaitView(...l))},"입고대기",2)]),t("li",at,[t("button",{class:y(["nav-link",{active:!r.waitView}]),"data-bs-toggle":"tab",onClick:e[4]||(e[4]=(...l)=>n.showCompleteView&&n.showCompleteView(...l))},"입고완료",2)])]),r.waitView?(o(),f(a,{key:0,searchStartDate:r.startDate,searchEndDate:r.endDate},null,8,["searchStartDate","searchEndDate"])):h("",!0),r.waitView?h("",!0):(o(),f(_,{key:1,searchStartDate:r.startDate,searchEndDate:r.endDate},null,8,["searchStartDate","searchEndDate"]))])])])}const ot=w(X,[["render",rt]]);export{ot as default};
//# sourceMappingURL=receivePrd-DvHY84B5.js.map
