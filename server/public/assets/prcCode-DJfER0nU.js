<<<<<<<< HEAD:server/public/assets/prcCode-Cm6JBaCB.js
import{_ as C,e as u,c as m,a as o,w as p,v as a,o as i,i as _,j as b,F as y,r as v,l as I,f as P,t as f}from"./index-CxFk6QSJ.js";const w={props:{prcCode:Object},data(){return{prcCodeInfo:{}}},watch:{prcCode:{handler(l){l?this.getPrcCodeInfo(l.proc_code_no):this.prcCodeInfo={}},immediate:!0}},methods:{async getPrcCodeInfo(l){let e=await u.get(`/api/prcCode/${l}`).catch(n=>console.log(n));this.prcCodeInfo=e.data},async prcCodeUpdate(){var d,t,s;if(!((d=this.prcCodeInfo.proc_code_nm)!=null&&d.trim())){alert("공정명을 입력해주세요.");return}if(!((t=this.prcCodeInfo.proc_std)!=null&&t.trim())){alert("공정기준을 입력해주세요.");return}let l={proc_code_nm:this.prcCodeInfo.proc_code_nm.trim(),proc_std:this.prcCodeInfo.proc_std.trim(),rmk:((s=this.prcCodeInfo.rmk)==null?void 0:s.trim())||""};(await u.put(`/api/prcCode/${this.prcCodeInfo.proc_code_no}`,l).catch(r=>console.log(r))).data.isUpdated?(alert("수정되었습니다."),this.$emit("prcCode-reload"),this.getPrcCodeInfo(this.prcCodeInfo.proc_code_no)):alert(`수정되지 않았습니다.
========
import{_ as C,e as u,c as m,a as o,w as p,v as a,o as i,i as _,j as b,F as y,r as v,l as I,f as P,t as f}from"./index-DRp0-N0C.js";const w={props:{prcCode:Object},data(){return{prcCodeInfo:{}}},watch:{prcCode:{handler(l){l?this.getPrcCodeInfo(l.proc_code_no):this.prcCodeInfo={}},immediate:!0}},methods:{async getPrcCodeInfo(l){let e=await u.get(`/api/prcCode/${l}`).catch(n=>console.log(n));this.prcCodeInfo=e.data},async prcCodeUpdate(){var d,t,s;if(!((d=this.prcCodeInfo.proc_code_nm)!=null&&d.trim())){alert("공정명을 입력해주세요.");return}if(!((t=this.prcCodeInfo.proc_std)!=null&&t.trim())){alert("공정기준을 입력해주세요.");return}let l={proc_code_nm:this.prcCodeInfo.proc_code_nm.trim(),proc_std:this.prcCodeInfo.proc_std.trim(),rmk:((s=this.prcCodeInfo.rmk)==null?void 0:s.trim())||""};(await u.put(`/api/prcCode/${this.prcCodeInfo.proc_code_no}`,l).catch(r=>console.log(r))).data.isUpdated?(alert("수정되었습니다."),this.$emit("prcCode-reload"),this.getPrcCodeInfo(this.prcCodeInfo.proc_code_no)):alert(`수정되지 않았습니다.
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/prcCode-DJfER0nU.js
데이터를 확인해보세요.`)},savePrcCode(){confirm(`정말로 수정하시겠습니까?
변경된 내용은 즉시 적용됩니다.`)&&this.prcCodeUpdate()},addPrcCode(){this.$emit("goToForm",!1)},async deletePrcCode(l){l>0?confirm(`정말로 삭제하시겠습니까?
삭제된 데이터는 복구할 수 없습니다.`)&&((await u.delete(`/api/prcCode/${l}`).catch(t=>console.log(t))).data.affectedRows>0?(alert("정상적으로 삭제되었습니다."),this.prcCodeInfo={},this.$emit("clear-selection"),this.$emit("prcCode-reload")):alert("삭제되지 않았습니다.")):alert("삭제할 공정코드를 선택하세요")},resetForm(){this.getPrcCodeInfo(this.prcCodeInfo.proc_code_no)}}},g={class:"col-md-6"},k={class:"d-flex justify-content-between mb-3"},x={class:"card p-3"},V={key:0},F={key:1};function L(l,e,n,d,t,s){return i(),m("div",g,[o("div",k,[o("div",null,[o("button",{class:"btn btn-primary me-2",onClick:e[0]||(e[0]=(...r)=>s.addPrcCode&&s.addPrcCode(...r))},"등록"),o("button",{class:"btn btn-danger",onClick:e[1]||(e[1]=r=>s.deletePrcCode(t.prcCodeInfo.proc_code_no))},"삭제")]),o("div",null,[o("button",{class:"btn btn-warning me-2",onClick:e[2]||(e[2]=(...r)=>s.resetForm&&s.resetForm(...r))},"초기화"),o("button",{class:"btn btn-success",onClick:e[3]||(e[3]=(...r)=>s.savePrcCode&&s.savePrcCode(...r))},"저장")])]),o("div",x,[e[13]||(e[13]=o("h4",null,"상세 보기",-1)),n.prcCode?(i(),m("div",V,[o("div",null,[e[8]||(e[8]=o("label",{class:"form-label"},"공정코드",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=r=>t.prcCodeInfo.proc_code_no=r),readonly:"",disabled:""},null,512),[[a,t.prcCodeInfo.proc_code_no]]),e[9]||(e[9]=o("label",{class:"form-label"},"공정명",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=r=>t.prcCodeInfo.proc_code_nm=r),placeholder:"공정명을 입력해주세요."},null,512),[[a,t.prcCodeInfo.proc_code_nm]]),e[10]||(e[10]=o("label",{class:"form-label"},"공정기준",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[6]||(e[6]=r=>t.prcCodeInfo.proc_std=r),placeholder:"공정기준을 입력해주세요."},null,512),[[a,t.prcCodeInfo.proc_std]]),e[11]||(e[11]=o("label",{class:"form-label"},"비고",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[7]||(e[7]=r=>t.prcCodeInfo.rmk=r),placeholder:"비고를 입력해주세요."},null,512),[[a,t.prcCodeInfo.rmk]])])])):(i(),m("div",F,e[12]||(e[12]=[o("p",null,"공정코드를 선택하세요!",-1)])))])])}const R=C(w,[["render",L],["__scopeId","data-v-880c1c3b"]]),U={data(){return{proc_code_no:null,proc_code_nm:"",proc_std:"",rmk:""}},created(){this.getPrcCodeNo()},methods:{async getPrcCodeNo(){let l=await u.get("/api/prcCodeNo").catch(e=>console.log(e));this.proc_code_no=l.data[0].addProcCodeNo},resetForm(){this.proc_code_nm="",this.proc_std="",this.rmk=""},async prcCodeInsert(){var d,t,s;if(!((d=this.proc_code_nm)!=null&&d.trim())){alert("공정명을 입력해주세요.");return}if(!((t=this.proc_std)!=null&&t.trim())){alert("공정기준을 입력해주세요.");return}let l={proc_code_no:this.proc_code_no,proc_code_nm:this.proc_code_nm.trim(),proc_std:this.proc_std.trim(),rmk:((s=this.rmk)==null?void 0:s.trim())||""};(await u.post("/api/prcCode",l).catch(r=>console.log(r))).data.isSuccessed?(alert("등록되었습니다."),this.$emit("prcCode-reload")):alert(`등록되지 않았습니다.
데이터를 확인해보세요.`),this.$emit("goToInfo",!0)}}},T={class:"col-md-6"},j={class:"d-flex justify-content-between mb-3"},S={class:"card p-3"};function N(l,e,n,d,t,s){return i(),m("div",T,[o("div",j,[e[6]||(e[6]=o("div",null,null,-1)),o("div",null,[o("button",{class:"btn btn-warning me-2",onClick:e[0]||(e[0]=(...r)=>s.resetForm&&s.resetForm(...r))},"초기화"),o("button",{class:"btn btn-success",onClick:e[1]||(e[1]=(...r)=>s.prcCodeInsert&&s.prcCodeInsert(...r))},"저장")])]),o("div",S,[e[11]||(e[11]=o("h4",null,"공정코드 등록",-1)),o("div",null,[o("div",null,[e[7]||(e[7]=o("label",{class:"form-label"},"공정코드",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=r=>t.proc_code_no=r),readonly:"",disabled:""},null,512),[[a,t.proc_code_no]]),e[8]||(e[8]=o("label",{class:"form-label"},"공정명",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=r=>t.proc_code_nm=r),placeholder:"공정명을 입력해주세요."},null,512),[[a,t.proc_code_nm]]),e[9]||(e[9]=o("label",{class:"form-label"},"공정기준",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=r=>t.proc_std=r),placeholder:"공정기준을 입력해주세요."},null,512),[[a,t.proc_std]]),e[10]||(e[10]=o("label",{class:"form-label"},"비고",-1)),p(o("input",{type:"text",class:"form-control","onUpdate:modelValue":e[5]||(e[5]=r=>t.rmk=r),placeholder:"비고를 입력해주세요."},null,512),[[a,t.rmk]])])])])])}const q=C(U,[["render",N],["__scopeId","data-v-4898c07c"]]),B={components:{prcCodeInfo:R,prcCodeForm:q},data(){return{searchQuery:"",selectedPrcCode:null,prcCodeList:[],InfoView:!0}},computed:{filteredPrcCodeList(){return this.prcCodeList.filter(l=>l.proc_code_nm.toLowerCase().includes(this.searchQuery.toLowerCase()))}},created(){this.getPrcCodeList()},methods:{async getPrcCodeList(){let l=await u.get("/api/prcCode").catch(e=>console.log(e));this.prcCodeList=l.data},async selectPrcCode(l){try{const e=this.prcCodeList.find(n=>n.proc_code_no===l);this.InfoView=!0,await this.$nextTick(),this.selectedPrcCode=e}catch(e){console.error("공정코드 선택 중 오류 발생:",e)}},msg(l){this.InfoView=l,l||(this.selectedPrcCode=null)},clearSelection(){this.selectedPrcCode=null}}},G={class:"container mt-4"},Q={class:"row"},D={class:"col-md-6"},z={class:"d-flex justify-content-between mb-3"},E={class:"card p-3"},M={class:"table-container"},O={class:"table table-bordered"},A=["onClick"],H={class:"w-10"},J={class:"w-15"},K={class:"w-15"},W={class:"w-15"};function X(l,e,n,d,t,s){const r=I("prcCodeInfo"),h=I("prcCodeForm");return i(),m("div",G,[o("div",Q,[e[3]||(e[3]=o("h1",null,"공정코드관리",-1)),o("div",D,[o("div",z,[p(o("input",{type:"text",class:"form-control w-50",placeholder:"공정코드명 검색...","onUpdate:modelValue":e[0]||(e[0]=c=>t.searchQuery=c)},null,512),[[a,t.searchQuery]])]),o("div",E,[e[2]||(e[2]=o("h4",null,"공정코드 목록",-1)),o("div",M,[o("table",O,[e[1]||(e[1]=o("thead",null,[o("tr",null,[o("th",{class:"w-10"},"공정코드번호"),o("th",{class:"w-15"},"공정코드명"),o("th",{class:"w-15"},"공정기준"),o("th",{class:"w-15"},"비고")])],-1)),o("tbody",null,[(i(!0),m(y,null,v(s.filteredPrcCodeList,c=>(i(),m("tr",{key:c.proc_code_no,onClick:Y=>s.selectPrcCode(c.proc_code_no),class:P([{"table-primary":t.selectedPrcCode&&t.selectedPrcCode.proc_code_no===c.proc_code_no},"table-hover"])},[o("td",H,f(c.proc_code_no),1),o("td",J,f(c.proc_code_nm),1),o("td",K,f(c.proc_std),1),o("td",W,f(c.rmk),1)],10,A))),128))])])])])]),t.InfoView?(i(),_(r,{key:0,prcCode:t.selectedPrcCode,onGoToForm:s.msg,onPrcCodeReload:s.getPrcCodeList,onClearSelection:s.clearSelection},null,8,["prcCode","onGoToForm","onPrcCodeReload","onClearSelection"])):b("",!0),t.InfoView?b("",!0):(i(),_(h,{key:1,onGoToInfo:s.msg,onPrcCodeReload:s.getPrcCodeList},null,8,["onGoToInfo","onPrcCodeReload"]))])])}const $=C(B,[["render",X],["__scopeId","data-v-b17baf9c"]]);export{$ as default};
<<<<<<<< HEAD:server/public/assets/prcCode-Cm6JBaCB.js
//# sourceMappingURL=prcCode-Cm6JBaCB.js.map
========
//# sourceMappingURL=prcCode-DJfER0nU.js.map
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/prcCode-DJfER0nU.js
