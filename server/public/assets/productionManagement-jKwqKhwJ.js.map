<<<<<<< HEAD
<<<<<<<< HEAD:server/public/assets/productionManagement-DC0a36rp.js.map
{"version":3,"file":"productionManagement-DC0a36rp.js","sources":["../../../client/src/views/production/line/LineInstructionModal.vue","../../../client/src/views/production/line/productionManagement.vue"],"sourcesContent":["<template>\n  <!-- âœ… ë°°ê²½ í´ë¦­ ì‹œ ë‹«í˜ -->\n  <div class=\"modal fade show d-block\" id=\"lineModal\" style=\"background: rgba(0,0,0,0.5); z-index: 1051;\" @click.self=\"$emit('close')\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n\n        <!-- âœ… ëª¨ë‹¬ í—¤ë” -->\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title mb-0 fw-bold\">ë¼ì¸ ì„ íƒ - {{ item.pdn_ord_no }}</h5>\n          <button type=\"button\" class=\"btn-close\" @click=\"$emit('close')\"></button>\n        </div>\n\n        <!-- âœ… ëª¨ë‹¬ ë°”ë”” -->\n        <div class=\"modal-body\">\n          <table class=\"table table-sm table-bordered table-hover text-center align-middle\">\n            <thead class=\"table-light\">\n              <tr>\n                <th>ë¼ì¸ë²ˆí˜¸</th>\n                <th>ë¼ì¸ëª…</th>\n                <th>ìƒíƒœ</th>\n                <th>ì„ íƒ</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ë¼ì¸ ëª©ë¡ -->\n              <tr\n                v-for=\"line in item.lineList.filter(line => !usedLines.includes(line.ln_no))\"\n                :key=\"line.ln_no\"\n                :class=\"{ 'table-primary': selectedLine === line.ln_no }\"\n              >\n                <td>{{ line.ln_no }}</td>\n                <td>{{ line.ln_nm }}</td>\n                <td>\n                  <span class=\"badge\" :class=\"{\n                    'bg-secondary': line.ln_sts === 'l1',\n                    'bg-info': line.ln_sts === 'l2',\n                    'bg-primary': line.ln_sts === 'l3',\n                    'bg-success': line.ln_sts === 'l4',\n                    'bg-danger': line.ln_sts === 'l5',\n                    'bg-warning text-dark': line.ln_sts === 'l6',\n                    'bg-dark': !['l1', 'l2', 'l3', 'l4', 'l5', 'l6'].includes(line.ln_sts)\n                  }\">\n                    {{\n                      line.ln_sts === 'l1' ? 'ë¹„ê°€ë™' :\n                      line.ln_sts === 'l2' ? 'ëŒ€ê¸°ì¤‘' :\n                      line.ln_sts === 'l3' ? 'ê³µì •ì¤‘' :\n                      line.ln_sts === 'l4' ? 'ì¤€ë¹„ì¤‘' :\n                      line.ln_sts === 'l5' ? 'ìˆ˜ë¦¬ì¤‘' :\n                      line.ln_sts === 'l6' ? 'ì ê²€ì¤‘' :\n                      'ì˜¤ë¥˜'\n                    }}\n                  </span>\n                </td>\n                <td>\n                  <button\n                    class=\"btn btn-sm btn-outline-primary\"\n                    :disabled=\"line.ln_sts !== 'l1'\"\n                    @click=\"() => {\n                      $emit('set-line', { ...item, selected_line: line.ln_no })\n                      $emit('close')\n                    }\"\n                  >\n                    ì„ íƒ\n                  </button>\n                </td>\n              </tr>\n\n              <!-- âœ… ë¼ì¸ ë¦¬ìŠ¤íŠ¸ê°€ ì•„ì˜ˆ ì—†ì„ ë•Œ -->\n              <tr v-if=\"!item.lineList || item.lineList.length === 0\">\n                <td colspan=\"4\" class=\"text-center text-secondary\">ë¼ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</td>\n              </tr>\n\n              <!-- âœ… ë¼ì¸ì€ ìˆëŠ”ë°, ëª¨ë‘ ì‚¬ìš© ì¤‘ì¼ ë•Œ -->\n              <tr v-else-if=\"item.lineList.filter(line => !usedLines.includes(line.ln_no)).length === 0\">\n                <td colspan=\"4\" class=\"text-center text-danger\">ì„ íƒ ê°€ëŠ¥í•œ ë¼ì¸ì´ ì—†ìŠµë‹ˆë‹¤.</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst filterConditions = {\n  'ì „ì²´': () => true,\n  'ì§„í–‰ì¤‘': item => ['l2', 'l3', 'l4'].includes(item.ln_sts),\n  'ëŒ€ê¸°ì¤‘': item => item.ln_sts === 'l1',\n  'ê³µì •ì§€ì‹œ': item => item.ln_sts === 'l2',\n  'ê³µì •í˜„í™©': item => item.ln_sts === 'l3',\n  'ê³µì •ì™„ë£Œ': item => item.ln_sts === 'l4',\n  'ì„¤ë¹„ì ê²€ì¤‘': item => ['l5', 'l6'].includes(item.ln_sts),\n};\n\nexport default {\n  props: {\n    item: Object,       // ì„ íƒëœ ì§€ì‹œ í•­ëª© ê°ì²´ (lineList, selected_line í¬í•¨ ì˜ˆìƒ)\n    usedLines: Array    // ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì—ì„œ ì‚¬ìš©ëœ ë¼ì¸ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸\n  },\n\n  data() {\n    return {\n      // ì„ íƒëœ ë¼ì¸ ë²ˆí˜¸ (ì´ˆê¸°ê°’: item.selected_line ì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ '')\n      selectedLine: this.item.selected_line || ''\n    }\n  },\n\n  computed: {\n    /**\n     * ì‚¬ìš© ê°€ëŠ¥í•œ ë¼ì¸ ëª©ë¡ í•„í„°ë§\n     * - item.lineList: í•´ë‹¹ ì§€ì‹œ í•­ëª©ì—ì„œ ì„ íƒ ê°€ëŠ¥í•œ ì „ì²´ ë¼ì¸\n     * - usedLines: ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì—ì„œ ì„ íƒí•œ ë¼ì¸ë“¤\n     * â†’ ê²¹ì¹˜ì§€ ì•ŠëŠ” ë¼ì¸ë§Œ ë³´ì—¬ì£¼ê¸° ìœ„í•¨\n     */\n    filteredLineList() {\n      const condition = filterConditions[this.statusFilter] || (() => true);\n      return this.LineList.filter(condition);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.table-primary {\n  background-color: #cce5ff !important;\n}\n</style>\n","<template>\n  <div class=\"container mt-4\">\n    <h2 class=\"mb-4\">ìƒì‚°ì§€ì‹œí˜„í™©</h2>\n\n    <!-- âœ… ì§€ì‹œ ìƒíƒœ í•„í„° ë“œë¡­ë‹¤ìš´ -->\n    <div class=\"d-flex justify-content-end mb-3\">\n      <select v-model=\"statusFilter\" class=\"form-select w-auto\">\n        <option value=\"ì „ì²´\">ì „ì²´</option>\n        <option value=\"r1+q2\">ì§€ì‹œ ê°€ëŠ¥</option>\n        <option value=\"r1+q1\">ì§€ì‹œ ëŒ€ê¸°</option>\n        <option value=\"r2\">ì§€ì‹œ ì™„ë£Œ</option>\n        <option value=\"r3\">ìƒì‚° ì™„ë£Œ</option>\n      </select>\n    </div>\n\n    <table class=\"table table-bordered text-center\" style=\"min-width: 1200px;\">\n      <colgroup>\n        <col style=\"width: 120px\" />\n        <col style=\"width: 180px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 140px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 100px\" />\n      </colgroup>\n      <thead class=\"table-light\">\n        <tr>\n          <th>ì§€ì‹œë²ˆí˜¸</th>\n          <th>ì œí’ˆëª…</th>\n          <th>ì§€ì‹œìˆ˜ëŸ‰</th>\n          <th>ì§€ì‹œì¼ì</th>\n          <th>ì§€ì‹œì</th>\n          <th>ì¬ë£Œ ì…ê³ </th>\n          <th>ë¼ì¸ ì§€ì •</th>\n          <th>í˜„í™©</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr v-for=\"item in filteredList\" :key=\"item.pdn_ord_dtl_no\">\n          <td>{{ item.pdn_ord_no }}</td>\n          <td>{{ item.prd_nm }}</td>\n          <td>{{ formatNumber(item.ord_qty) }}</td>\n          <td>{{ dateFormat(item.pdn_ord_dt, 'yyyy-MM-dd') }}</td>\n          <td>{{ item.crt_by }}</td>\n\n          <!-- âœ… r1 ìƒíƒœ -->\n          <template v-if=\"item.ord_sts === 'r1'\">\n            <td>\n              <span class=\"badge\" :class=\"{\n                'bg-warning text-dark': item.mat_ins_sts === 'q1',\n                'bg-success': item.mat_ins_sts === 'q2'\n              }\">\n                {{\n                  item.mat_ins_sts === 'q1' ? 'ì…ê³ ëŒ€ê¸°'\n                    : item.mat_ins_sts === 'q2' ? 'ì…ê³ ì™„ë£Œ'\n                      : 'ì˜¤ë¥˜'\n                }}\n              </span>\n            </td>\n            <td>\n              <div class=\"d-flex align-items-center justify-content-center gap-2\">\n                <span v-if=\"item.selected_line\">{{ item.selected_line }}</span>\n                <span v-else class=\"text-muted\">ë¯¸ì§€ì •</span>\n                <button class=\"btn btn-outline-secondary\" @click=\"openModal(item)\">\n                  ğŸ”\n                </button>\n              </div>\n            </td>\n            <td>\n              <button class=\"btn btn-sm btn-primary\" @click=\"assignLine(item)\">ì§€ì‹œ</button>\n            </td>\n          </template>\n\n          <!-- âœ… r2 ìƒíƒœ: ìƒì‚°ì§€ì‹œì™„ë£Œ -->\n          <template v-else-if=\"item.ord_sts === 'r2'\">\n            <td colspan=\"1\">\n              <router-link to=\"/LineMang\" class=\"badge text-dark text-decoration-none\"\n                style=\"background-color: #aee2f8; font-size: 0.95rem; padding: 0.5rem 1.2rem; display: inline-block; min-width: 110px; text-align: center;\">\n                ìƒì‚°ì§€ì‹œì™„ë£Œ\n              </router-link>\n            </td>\n            <td>\n              <span>{{ item.ln_no }}</span>\n            </td>\n            <td>\n              <button class=\"btn btn-sm btn-danger\" @click=\"stopLine(item)\">ì·¨ì†Œ</button>\n            </td>\n          </template>\n\n          <!-- âœ… r3 ìƒíƒœ: ìƒì‚°ê³µì •ì™„ë£Œ -->\n          <template v-else-if=\"item.ord_sts === 'r3'\">\n            <td colspan=\"2\">\n              <span class=\"badge text-white\"\n                style=\"background-color: #6c757d; font-size: 0.95rem; padding: 0.5rem 1.2rem; display: inline-block; min-width: 110px; text-align: center;\">\n                ìƒì‚°ê³µì •ì™„ë£Œ\n              </span>\n            </td>\n            <!-- <td>\n              <span>{{ item.ln_no }}</span>\n            </td> -->\n            <td>\n              <button class=\"btn btn-sm btn-outline-info\" @click=\"viewCompleteStatus(item)\">\n                ì™„ë£Œí˜„í™©\n              </button>\n            </td>\n          </template>\n\n        </tr>\n      </tbody>\n\n\n    </table>\n\n    <!-- âœ… ëª¨ë‹¬ -->\n    <LineInstructionModal v-if=\"showLineModal\" :item=\"selectedItem\" :used-lines=\"usedLines\" @set-line=\"setLine\"\n      @close=\"showLineModal = false\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport useDateUtils from '@/utils/useDates'\nimport LineInstructionModal from './LineInstructionModal.vue'\nimport Swal from 'sweetalert2'\n\nexport default {\n  components: { LineInstructionModal },\n\n  data() {\n    return {\n      instructionList: [],\n      selectedItem: null,\n      showLineModal: false,\n      statusFilter: 'r1+q2'\n    }\n  },\n\n  computed: {\n    dateFormat() {\n      return useDateUtils.dateFormat\n    },\n\n    usedLines() {\n      return this.instructionList\n        .filter(item => item.selected_line)\n        .map(item => item.selected_line)\n    },\n\n    filteredList() {\n  return this.instructionList.filter(item => {\n    if (this.statusFilter === 'ì „ì²´') return true\n\n    const [ord, mat] = this.statusFilter.split('+')\n\n    if (ord && item.ord_sts !== ord) return false\n    if (mat && item.mat_ins_sts !== mat) return false\n\n    return true\n  })\n}\n  },\n\n  created() {\n    this.fetchInstructions()\n  },\n\n  methods: {\n    async fetchInstructions() {\n      const res = await axios.get('/api/prodinst')\n      this.instructionList = res.data.map(row => ({\n        ...row,\n        selected_line: ''\n      }))\n    },\n\n    openModal(item) {\n      this.selectedItem = { ...item }\n      this.selectedItem.lineList = []\n\n      axios.get('/api/lineDrop', {\n        params: { pdn_ord_dtl_no: item.pdn_ord_dtl_no }\n      }).then(res => {\n        this.selectedItem.lineList = res.data\n        this.showLineModal = true\n      })\n    },\n\n    setLine(item) {\n      const index = this.instructionList.findIndex(\n        i => i.pdn_ord_dtl_no === item.pdn_ord_dtl_no\n      )\n      if (index !== -1) {\n        this.instructionList[index].selected_line = item.selected_line\n      }\n    },\n\n    async assignLine(item) {\n      if (!item.selected_line) {\n        return Swal.fire('â— ì•Œë¦¼', 'ë¼ì¸ì„ ë¨¼ì € ì§€ì •í•˜ì„¸ìš”.', 'warning')\n      }\n      if (item.mat_ins_sts !== 'q2') {\n        return Swal.fire('â— ì•Œë¦¼', 'ì…ê³ ì™„ë£Œ ìƒíƒœì—ì„œë§Œ ì§€ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'info')\n      }\n\n      try {\n        await axios.post('/api/preparingLine', {\n          pdn_ord_dtl_no: item.pdn_ord_dtl_no,\n          ln_no: item.selected_line\n        })\n        await Swal.fire('âœ… ì„±ê³µ', 'ì§€ì‹œ ì™„ë£Œ!', 'success')\n        this.fetchInstructions()\n        this.showLineModal = false\n      } catch (err) {\n        console.error(err)\n        Swal.fire('ì˜¤ë¥˜', 'ì§€ì‹œ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error')\n      }\n    },\n\n    async stopLine(item) {\n      const result = await Swal.fire({\n        title: 'ì§€ì‹œë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',\n        text: `ì œí’ˆëª…: ${item.prd_nm}`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'ì˜ˆ',\n        cancelButtonText: 'ì•„ë‹ˆì˜¤'\n      })\n\n      if (!result.isConfirmed) return\n\n      try {\n        await axios.post('/api/stopLine', {\n          pdn_ord_dtl_no: item.pdn_ord_dtl_no,\n          ln_no: item.selected_line\n        })\n        await Swal.fire('ì™„ë£Œ', 'ì§€ì‹œê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success')\n        this.fetchInstructions()\n        this.showLineModal = false\n      } catch (err) {\n        console.error(err)\n        Swal.fire('ì˜¤ë¥˜', 'ì·¨ì†Œ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error')\n      }\n    },\n    viewCompleteStatus(item) {\n      Swal.fire({\n        title: 'âœ… ì™„ë£Œí˜„í™©',\n        html: `\n        <div style=\"text-align:left; line-height:1.7\">\n          <strong>ì§€ì‹œID:</strong> ${item.pdn_ord_no}<br>\n          <strong>ì œí’ˆëª…:</strong> ${item.prd_nm}<br>\n          <strong>ì§€ì‹œìˆ˜ëŸ‰:</strong> ${item.lo_ord_qty}ê°œ<br>\n          <strong>ë¶ˆëŸ‰ìˆ˜ëŸ‰:</strong> ${item.dft_qty}ê°œ<br>\n          <strong>ìƒì‚°ìˆ˜ëŸ‰:</strong> ${item.pdn_qty}ê°œ<br>\n          <strong>ì§€ì‹œì:</strong> ${item.mgr}<br>\n          <strong>ì™„ë£Œì¼ì:</strong> ${this.dateFormat(item.end_tm, 'yyyy-MM-dd   hhì‹œ mmë¶„')}<br>\n\n        </div>\n      `,\n        icon: 'info'\n      })\n    },\n    formatNumber(n) {\n      if (n == null || isNaN(n)) return '-'\n      return new Intl.NumberFormat().format(n)\n    },\n  }\n}\n/*\n  ln.ln_opr_no,\n  ln.ord_qty,\n  ln.pdn_qty,\n  ln.dft_qty,\n  ln.mgr,\n  ln.end_tm,\n*/\n</script>\n\n<style scoped>\nh2 {\n  font-weight: bold;\n  text-align: left;\n}\n\n.table td,\n.table th {\n  vertical-align: middle;\n}\n\n.selected-line {\n  font-weight: 600;\n  color: #198754;\n}\n</style>"],"names":["filterConditions","item","_sfc_main","condition","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_cache","_withModifiers","_ctx","_createElementVNode","_toDisplayString","$props","_openBlock","_Fragment","_renderList","line","_normalizeClass","$data","_hoisted_8","_hoisted_9","_createCommentVNode","LineInstructionModal","useDateUtils","ord","mat","res","axios","row","index","i","Swal","err","n","_hoisted_10","_hoisted_11","$event","_createStaticVNode","$options","_createVNode","_component_router_link","_withCtx","_createTextVNode","_createBlock","_component_LineInstructionModal"],"mappings":"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"}
========
{"version":3,"file":"productionManagement-jKwqKhwJ.js","sources":["../../../client/src/views/production/line/LineInstructionModal.vue","../../../client/src/views/production/line/productionManagement.vue"],"sourcesContent":["<template>\n  <!-- âœ… ë°°ê²½ í´ë¦­ ì‹œ ë‹«í˜ -->\n  <div class=\"modal fade show d-block\" id=\"lineModal\" style=\"background: rgba(0,0,0,0.5); z-index: 1051;\" @click.self=\"$emit('close')\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n\n        <!-- âœ… ëª¨ë‹¬ í—¤ë” -->\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title mb-0 fw-bold\">ë¼ì¸ ì„ íƒ - {{ item.pdn_ord_no }}</h5>\n          <button type=\"button\" class=\"btn-close\" @click=\"$emit('close')\"></button>\n        </div>\n\n        <!-- âœ… ëª¨ë‹¬ ë°”ë”” -->\n        <div class=\"modal-body\">\n          <table class=\"table table-sm table-bordered table-hover text-center align-middle\">\n            <thead class=\"table-light\">\n              <tr>\n                <th>ë¼ì¸ë²ˆí˜¸</th>\n                <th>ë¼ì¸ëª…</th>\n                <th>ìƒíƒœ</th>\n                <th>ì„ íƒ</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ë¼ì¸ ëª©ë¡ -->\n              <tr\n                v-for=\"line in item.lineList.filter(line => !usedLines.includes(line.ln_no))\"\n                :key=\"line.ln_no\"\n                :class=\"{ 'table-primary': selectedLine === line.ln_no }\"\n              >\n                <td>{{ line.ln_no }}</td>\n                <td>{{ line.ln_nm }}</td>\n                <td>\n                  <span class=\"badge\" :class=\"{\n                    'bg-secondary': line.ln_sts === 'l1',\n                    'bg-info': line.ln_sts === 'l2',\n                    'bg-primary': line.ln_sts === 'l3',\n                    'bg-success': line.ln_sts === 'l4',\n                    'bg-danger': line.ln_sts === 'l5',\n                    'bg-warning text-dark': line.ln_sts === 'l6',\n                    'bg-dark': !['l1', 'l2', 'l3', 'l4', 'l5', 'l6'].includes(line.ln_sts)\n                  }\">\n                    {{\n                      line.ln_sts === 'l1' ? 'ë¹„ê°€ë™' :\n                      line.ln_sts === 'l2' ? 'ëŒ€ê¸°ì¤‘' :\n                      line.ln_sts === 'l3' ? 'ê³µì •ì¤‘' :\n                      line.ln_sts === 'l4' ? 'ì¤€ë¹„ì¤‘' :\n                      line.ln_sts === 'l5' ? 'ìˆ˜ë¦¬ì¤‘' :\n                      line.ln_sts === 'l6' ? 'ì ê²€ì¤‘' :\n                      'ì˜¤ë¥˜'\n                    }}\n                  </span>\n                </td>\n                <td>\n                  <button\n                    class=\"btn btn-sm btn-outline-primary\"\n                    :disabled=\"line.ln_sts !== 'l1'\"\n                    @click=\"() => {\n                      $emit('set-line', { ...item, selected_line: line.ln_no })\n                      $emit('close')\n                    }\"\n                  >\n                    ì„ íƒ\n                  </button>\n                </td>\n              </tr>\n\n              <!-- âœ… ë¼ì¸ ë¦¬ìŠ¤íŠ¸ê°€ ì•„ì˜ˆ ì—†ì„ ë•Œ -->\n              <tr v-if=\"!item.lineList || item.lineList.length === 0\">\n                <td colspan=\"4\" class=\"text-center text-secondary\">ë¼ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</td>\n              </tr>\n\n              <!-- âœ… ë¼ì¸ì€ ìˆëŠ”ë°, ëª¨ë‘ ì‚¬ìš© ì¤‘ì¼ ë•Œ -->\n              <tr v-else-if=\"item.lineList.filter(line => !usedLines.includes(line.ln_no)).length === 0\">\n                <td colspan=\"4\" class=\"text-center text-danger\">ì„ íƒ ê°€ëŠ¥í•œ ë¼ì¸ì´ ì—†ìŠµë‹ˆë‹¤.</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst filterConditions = {\n  'ì „ì²´': () => true,\n  'ì§„í–‰ì¤‘': item => ['l2', 'l3', 'l4'].includes(item.ln_sts),\n  'ëŒ€ê¸°ì¤‘': item => item.ln_sts === 'l1',\n  'ê³µì •ì§€ì‹œ': item => item.ln_sts === 'l2',\n  'ê³µì •í˜„í™©': item => item.ln_sts === 'l3',\n  'ê³µì •ì™„ë£Œ': item => item.ln_sts === 'l4',\n  'ì„¤ë¹„ì ê²€ì¤‘': item => ['l5', 'l6'].includes(item.ln_sts),\n};\n\nexport default {\n  props: {\n    item: Object,       // ì„ íƒëœ ì§€ì‹œ í•­ëª© ê°ì²´ (lineList, selected_line í¬í•¨ ì˜ˆìƒ)\n    usedLines: Array    // ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì—ì„œ ì‚¬ìš©ëœ ë¼ì¸ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸\n  },\n\n  data() {\n    return {\n      // ì„ íƒëœ ë¼ì¸ ë²ˆí˜¸ (ì´ˆê¸°ê°’: item.selected_line ì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ '')\n      selectedLine: this.item.selected_line || ''\n    }\n  },\n\n  computed: {\n    /**\n     * ì‚¬ìš© ê°€ëŠ¥í•œ ë¼ì¸ ëª©ë¡ í•„í„°ë§\n     * - item.lineList: í•´ë‹¹ ì§€ì‹œ í•­ëª©ì—ì„œ ì„ íƒ ê°€ëŠ¥í•œ ì „ì²´ ë¼ì¸\n     * - usedLines: ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì—ì„œ ì„ íƒí•œ ë¼ì¸ë“¤\n     * â†’ ê²¹ì¹˜ì§€ ì•ŠëŠ” ë¼ì¸ë§Œ ë³´ì—¬ì£¼ê¸° ìœ„í•¨\n     */\n    filteredLineList() {\n      const condition = filterConditions[this.statusFilter] || (() => true);\n      return this.LineList.filter(condition);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.table-primary {\n  background-color: #cce5ff !important;\n}\n</style>\n","<template>\n  <div class=\"container mt-4\">\n    <h2 class=\"mb-4\">ìƒì‚°ì§€ì‹œí˜„í™©</h2>\n\n    <!-- âœ… ì§€ì‹œ ìƒíƒœ í•„í„° ë“œë¡­ë‹¤ìš´ -->\n    <div class=\"d-flex justify-content-end mb-3\">\n      <select v-model=\"statusFilter\" class=\"form-select w-auto\">\n        <option value=\"ì „ì²´\">ì „ì²´</option>\n        <option value=\"r1+q2\">ì§€ì‹œ ê°€ëŠ¥</option>\n        <option value=\"r1+q1\">ì§€ì‹œ ëŒ€ê¸°</option>\n        <option value=\"r2\">ì§€ì‹œ ì™„ë£Œ</option>\n        <option value=\"r3\">ìƒì‚° ì™„ë£Œ</option>\n      </select>\n    </div>\n\n    <table class=\"table table-bordered text-center\" style=\"min-width: 1200px;\">\n      <colgroup>\n        <col style=\"width: 120px\" />\n        <col style=\"width: 180px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 140px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 100px\" />\n      </colgroup>\n      <thead class=\"table-light\">\n        <tr>\n          <th>ì§€ì‹œë²ˆí˜¸</th>\n          <th>ì œí’ˆëª…</th>\n          <th>ì§€ì‹œìˆ˜ëŸ‰</th>\n          <th>ì§€ì‹œì¼ì</th>\n          <th>ì§€ì‹œì</th>\n          <th>ì¬ë£Œ ì…ê³ </th>\n          <th>ë¼ì¸ ì§€ì •</th>\n          <th>í˜„í™©</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr v-for=\"item in filteredList\" :key=\"item.pdn_ord_dtl_no\">\n          <td>{{ item.pdn_ord_no }}</td>\n          <td>{{ item.prd_nm }}</td>\n          <td>{{ formatNumber(item.ord_qty) }}</td>\n          <td>{{ dateFormat(item.pdn_ord_dt, 'yyyy-MM-dd') }}</td>\n          <td>{{ item.crt_by }}</td>\n\n          <!-- âœ… r1 ìƒíƒœ -->\n          <template v-if=\"item.ord_sts === 'r1'\">\n            <td>\n              <span class=\"badge\" :class=\"{\n                'bg-warning text-dark': item.mat_ins_sts === 'q1',\n                'bg-success': item.mat_ins_sts === 'q2'\n              }\">\n                {{\n                  item.mat_ins_sts === 'q1' ? 'ì…ê³ ëŒ€ê¸°'\n                    : item.mat_ins_sts === 'q2' ? 'ì…ê³ ì™„ë£Œ'\n                      : 'ì˜¤ë¥˜'\n                }}\n              </span>\n            </td>\n            <td>\n              <div class=\"d-flex align-items-center justify-content-center gap-2\">\n                <span v-if=\"item.selected_line\">{{ item.selected_line }}</span>\n                <span v-else class=\"text-muted\">ë¯¸ì§€ì •</span>\n                <button class=\"btn btn-outline-secondary\" @click=\"openModal(item)\">\n                  ğŸ”\n                </button>\n              </div>\n            </td>\n            <td>\n              <button class=\"btn btn-sm btn-primary\" @click=\"assignLine(item)\">ì§€ì‹œ</button>\n            </td>\n          </template>\n\n          <!-- âœ… r2 ìƒíƒœ: ìƒì‚°ì§€ì‹œì™„ë£Œ -->\n          <template v-else-if=\"item.ord_sts === 'r2'\">\n            <td colspan=\"1\">\n              <router-link to=\"/LineMang\" class=\"badge text-dark text-decoration-none\"\n                style=\"background-color: #aee2f8; font-size: 0.95rem; padding: 0.5rem 1.2rem; display: inline-block; min-width: 110px; text-align: center;\">\n                ìƒì‚°ì§€ì‹œì™„ë£Œ\n              </router-link>\n            </td>\n            <td>\n              <span>{{ item.ln_no }}</span>\n            </td>\n            <td>\n              <button class=\"btn btn-sm btn-danger\" @click=\"stopLine(item)\">ì·¨ì†Œ</button>\n            </td>\n          </template>\n\n          <!-- âœ… r3 ìƒíƒœ: ìƒì‚°ê³µì •ì™„ë£Œ -->\n          <template v-else-if=\"item.ord_sts === 'r3'\">\n            <td colspan=\"2\">\n              <span class=\"badge text-white\"\n                style=\"background-color: #6c757d; font-size: 0.95rem; padding: 0.5rem 1.2rem; display: inline-block; min-width: 110px; text-align: center;\">\n                ìƒì‚°ê³µì •ì™„ë£Œ\n              </span>\n            </td>\n            <!-- <td>\n              <span>{{ item.ln_no }}</span>\n            </td> -->\n            <td>\n              <button class=\"btn btn-sm btn-outline-info\" @click=\"viewCompleteStatus(item)\">\n                ì™„ë£Œí˜„í™©\n              </button>\n            </td>\n          </template>\n\n        </tr>\n      </tbody>\n\n\n    </table>\n\n    <!-- âœ… ëª¨ë‹¬ -->\n    <LineInstructionModal v-if=\"showLineModal\" :item=\"selectedItem\" :used-lines=\"usedLines\" @set-line=\"setLine\"\n      @close=\"showLineModal = false\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport useDateUtils from '@/utils/useDates'\nimport LineInstructionModal from './LineInstructionModal.vue'\nimport Swal from 'sweetalert2'\n\nexport default {\n  components: { LineInstructionModal },\n\n  data() {\n    return {\n      instructionList: [],\n      selectedItem: null,\n      showLineModal: false,\n      statusFilter: 'r1+q2'\n    }\n  },\n\n  computed: {\n    dateFormat() {\n      return useDateUtils.dateFormat\n    },\n\n    usedLines() {\n      return this.instructionList\n        .filter(item => item.selected_line)\n        .map(item => item.selected_line)\n    },\n\n    filteredList() {\n  return this.instructionList.filter(item => {\n    if (this.statusFilter === 'ì „ì²´') return true\n\n    const [ord, mat] = this.statusFilter.split('+')\n\n    if (ord && item.ord_sts !== ord) return false\n    if (mat && item.mat_ins_sts !== mat) return false\n\n    return true\n  })\n}\n  },\n\n  created() {\n    this.fetchInstructions()\n  },\n\n  methods: {\n    async fetchInstructions() {\n      const res = await axios.get('/api/prodinst')\n      this.instructionList = res.data.map(row => ({\n        ...row,\n        selected_line: ''\n      }))\n    },\n\n    openModal(item) {\n      this.selectedItem = { ...item }\n      this.selectedItem.lineList = []\n\n      axios.get('/api/lineDrop', {\n        params: { pdn_ord_dtl_no: item.pdn_ord_dtl_no }\n      }).then(res => {\n        this.selectedItem.lineList = res.data\n        this.showLineModal = true\n      })\n    },\n\n    setLine(item) {\n      const index = this.instructionList.findIndex(\n        i => i.pdn_ord_dtl_no === item.pdn_ord_dtl_no\n      )\n      if (index !== -1) {\n        this.instructionList[index].selected_line = item.selected_line\n      }\n    },\n\n    async assignLine(item) {\n      if (!item.selected_line) {\n        return Swal.fire('â— ì•Œë¦¼', 'ë¼ì¸ì„ ë¨¼ì € ì§€ì •í•˜ì„¸ìš”.', 'warning')\n      }\n      if (item.mat_ins_sts !== 'q2') {\n        return Swal.fire('â— ì•Œë¦¼', 'ì…ê³ ì™„ë£Œ ìƒíƒœì—ì„œë§Œ ì§€ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'info')\n      }\n\n      try {\n        await axios.post('/api/preparingLine', {\n          pdn_ord_dtl_no: item.pdn_ord_dtl_no,\n          ln_no: item.selected_line\n        })\n        await Swal.fire('âœ… ì„±ê³µ', 'ì§€ì‹œ ì™„ë£Œ!', 'success')\n        this.fetchInstructions()\n        this.showLineModal = false\n      } catch (err) {\n        console.error(err)\n        Swal.fire('ì˜¤ë¥˜', 'ì§€ì‹œ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error')\n      }\n    },\n\n    async stopLine(item) {\n      const result = await Swal.fire({\n        title: 'ì§€ì‹œë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',\n        text: `ì œí’ˆëª…: ${item.prd_nm}`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'ì˜ˆ',\n        cancelButtonText: 'ì•„ë‹ˆì˜¤'\n      })\n\n      if (!result.isConfirmed) return\n\n      try {\n        await axios.post('/api/stopLine', {\n          pdn_ord_dtl_no: item.pdn_ord_dtl_no,\n          ln_no: item.selected_line\n        })\n        await Swal.fire('ì™„ë£Œ', 'ì§€ì‹œê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success')\n        this.fetchInstructions()\n        this.showLineModal = false\n      } catch (err) {\n        console.error(err)\n        Swal.fire('ì˜¤ë¥˜', 'ì·¨ì†Œ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error')\n      }\n    },\n    viewCompleteStatus(item) {\n      Swal.fire({\n        title: 'âœ… ì™„ë£Œí˜„í™©',\n        html: `\n        <div style=\"text-align:left; line-height:1.7\">\n          <strong>ì§€ì‹œID:</strong> ${item.pdn_ord_no}<br>\n          <strong>ì œí’ˆëª…:</strong> ${item.prd_nm}<br>\n          <strong>ì§€ì‹œìˆ˜ëŸ‰:</strong> ${item.lo_ord_qty}ê°œ<br>\n          <strong>ë¶ˆëŸ‰ìˆ˜ëŸ‰:</strong> ${item.dft_qty}ê°œ<br>\n          <strong>ìƒì‚°ìˆ˜ëŸ‰:</strong> ${item.pdn_qty}ê°œ<br>\n          <strong>ì§€ì‹œì:</strong> ${item.mgr}<br>\n          <strong>ì™„ë£Œì¼ì:</strong> ${this.dateFormat(item.end_tm, 'yyyy-MM-dd   hhì‹œ mmë¶„')}<br>\n\n        </div>\n      `,\n        icon: 'info'\n      })\n    },\n    formatNumber(n) {\n      if (n == null || isNaN(n)) return '-'\n      return new Intl.NumberFormat().format(n)\n    },\n  }\n}\n/*\n  ln.ln_opr_no,\n  ln.ord_qty,\n  ln.pdn_qty,\n  ln.dft_qty,\n  ln.mgr,\n  ln.end_tm,\n*/\n</script>\n\n<style scoped>\nh2 {\n  font-weight: bold;\n  text-align: left;\n}\n\n.table td,\n.table th {\n  vertical-align: middle;\n}\n\n.selected-line {\n  font-weight: 600;\n  color: #198754;\n}\n</style>"],"names":["filterConditions","item","_sfc_main","condition","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_cache","_withModifiers","_ctx","_createElementVNode","_toDisplayString","$props","_openBlock","_Fragment","_renderList","line","_normalizeClass","$data","_hoisted_8","_hoisted_9","_createCommentVNode","LineInstructionModal","useDateUtils","ord","mat","res","axios","row","index","i","Swal","err","n","_hoisted_10","_hoisted_11","$event","_createStaticVNode","$options","_createVNode","_component_router_link","_withCtx","_createTextVNode","_createBlock","_component_LineInstructionModal"],"mappings":"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"}
>>>>>>>> ea6bb99274547af08d1a7bb06d0e67c21cc213ef:server/public/assets/productionManagement-jKwqKhwJ.js.map
=======
{"version":3,"file":"productionManagement-jKwqKhwJ.js","sources":["../../../client/src/views/production/line/LineInstructionModal.vue","../../../client/src/views/production/line/productionManagement.vue"],"sourcesContent":["<template>\n  <!-- âœ… ë°°ê²½ í´ë¦­ ì‹œ ë‹«í˜ -->\n  <div class=\"modal fade show d-block\" id=\"lineModal\" style=\"background: rgba(0,0,0,0.5); z-index: 1051;\" @click.self=\"$emit('close')\">\n    <div class=\"modal-dialog modal-lg\">\n      <div class=\"modal-content\">\n\n        <!-- âœ… ëª¨ë‹¬ í—¤ë” -->\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title mb-0 fw-bold\">ë¼ì¸ ì„ íƒ - {{ item.pdn_ord_no }}</h5>\n          <button type=\"button\" class=\"btn-close\" @click=\"$emit('close')\"></button>\n        </div>\n\n        <!-- âœ… ëª¨ë‹¬ ë°”ë”” -->\n        <div class=\"modal-body\">\n          <table class=\"table table-sm table-bordered table-hover text-center align-middle\">\n            <thead class=\"table-light\">\n              <tr>\n                <th>ë¼ì¸ë²ˆí˜¸</th>\n                <th>ë¼ì¸ëª…</th>\n                <th>ìƒíƒœ</th>\n                <th>ì„ íƒ</th>\n              </tr>\n            </thead>\n            <tbody>\n              <!-- âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ë¼ì¸ ëª©ë¡ -->\n              <tr\n                v-for=\"line in item.lineList.filter(line => !usedLines.includes(line.ln_no))\"\n                :key=\"line.ln_no\"\n                :class=\"{ 'table-primary': selectedLine === line.ln_no }\"\n              >\n                <td>{{ line.ln_no }}</td>\n                <td>{{ line.ln_nm }}</td>\n                <td>\n                  <span class=\"badge\" :class=\"{\n                    'bg-secondary': line.ln_sts === 'l1',\n                    'bg-info': line.ln_sts === 'l2',\n                    'bg-primary': line.ln_sts === 'l3',\n                    'bg-success': line.ln_sts === 'l4',\n                    'bg-danger': line.ln_sts === 'l5',\n                    'bg-warning text-dark': line.ln_sts === 'l6',\n                    'bg-dark': !['l1', 'l2', 'l3', 'l4', 'l5', 'l6'].includes(line.ln_sts)\n                  }\">\n                    {{\n                      line.ln_sts === 'l1' ? 'ë¹„ê°€ë™' :\n                      line.ln_sts === 'l2' ? 'ëŒ€ê¸°ì¤‘' :\n                      line.ln_sts === 'l3' ? 'ê³µì •ì¤‘' :\n                      line.ln_sts === 'l4' ? 'ì¤€ë¹„ì¤‘' :\n                      line.ln_sts === 'l5' ? 'ìˆ˜ë¦¬ì¤‘' :\n                      line.ln_sts === 'l6' ? 'ì ê²€ì¤‘' :\n                      'ì˜¤ë¥˜'\n                    }}\n                  </span>\n                </td>\n                <td>\n                  <button\n                    class=\"btn btn-sm btn-outline-primary\"\n                    :disabled=\"line.ln_sts !== 'l1'\"\n                    @click=\"() => {\n                      $emit('set-line', { ...item, selected_line: line.ln_no })\n                      $emit('close')\n                    }\"\n                  >\n                    ì„ íƒ\n                  </button>\n                </td>\n              </tr>\n\n              <!-- âœ… ë¼ì¸ ë¦¬ìŠ¤íŠ¸ê°€ ì•„ì˜ˆ ì—†ì„ ë•Œ -->\n              <tr v-if=\"!item.lineList || item.lineList.length === 0\">\n                <td colspan=\"4\" class=\"text-center text-secondary\">ë¼ì¸ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</td>\n              </tr>\n\n              <!-- âœ… ë¼ì¸ì€ ìˆëŠ”ë°, ëª¨ë‘ ì‚¬ìš© ì¤‘ì¼ ë•Œ -->\n              <tr v-else-if=\"item.lineList.filter(line => !usedLines.includes(line.ln_no)).length === 0\">\n                <td colspan=\"4\" class=\"text-center text-danger\">ì„ íƒ ê°€ëŠ¥í•œ ë¼ì¸ì´ ì—†ìŠµë‹ˆë‹¤.</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst filterConditions = {\n  'ì „ì²´': () => true,\n  'ì§„í–‰ì¤‘': item => ['l2', 'l3', 'l4'].includes(item.ln_sts),\n  'ëŒ€ê¸°ì¤‘': item => item.ln_sts === 'l1',\n  'ê³µì •ì§€ì‹œ': item => item.ln_sts === 'l2',\n  'ê³µì •í˜„í™©': item => item.ln_sts === 'l3',\n  'ê³µì •ì™„ë£Œ': item => item.ln_sts === 'l4',\n  'ì„¤ë¹„ì ê²€ì¤‘': item => ['l5', 'l6'].includes(item.ln_sts),\n};\n\nexport default {\n  props: {\n    item: Object,       // ì„ íƒëœ ì§€ì‹œ í•­ëª© ê°ì²´ (lineList, selected_line í¬í•¨ ì˜ˆìƒ)\n    usedLines: Array    // ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì—ì„œ ì‚¬ìš©ëœ ë¼ì¸ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸\n  },\n\n  data() {\n    return {\n      // ì„ íƒëœ ë¼ì¸ ë²ˆí˜¸ (ì´ˆê¸°ê°’: item.selected_line ì´ ìˆìœ¼ë©´ ì‚¬ìš©, ì—†ìœ¼ë©´ '')\n      selectedLine: this.item.selected_line || ''\n    }\n  },\n\n  computed: {\n    /**\n     * ì‚¬ìš© ê°€ëŠ¥í•œ ë¼ì¸ ëª©ë¡ í•„í„°ë§\n     * - item.lineList: í•´ë‹¹ ì§€ì‹œ í•­ëª©ì—ì„œ ì„ íƒ ê°€ëŠ¥í•œ ì „ì²´ ë¼ì¸\n     * - usedLines: ì´ë¯¸ ë‹¤ë¥¸ í•­ëª©ì—ì„œ ì„ íƒí•œ ë¼ì¸ë“¤\n     * â†’ ê²¹ì¹˜ì§€ ì•ŠëŠ” ë¼ì¸ë§Œ ë³´ì—¬ì£¼ê¸° ìœ„í•¨\n     */\n    filteredLineList() {\n      const condition = filterConditions[this.statusFilter] || (() => true);\n      return this.LineList.filter(condition);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.table-primary {\n  background-color: #cce5ff !important;\n}\n</style>\n","<template>\n  <div class=\"container mt-4\">\n    <h2 class=\"mb-4\">ìƒì‚°ì§€ì‹œí˜„í™©</h2>\n\n    <!-- âœ… ì§€ì‹œ ìƒíƒœ í•„í„° ë“œë¡­ë‹¤ìš´ -->\n    <div class=\"d-flex justify-content-end mb-3\">\n      <select v-model=\"statusFilter\" class=\"form-select w-auto\">\n        <option value=\"ì „ì²´\">ì „ì²´</option>\n        <option value=\"r1+q2\">ì§€ì‹œ ê°€ëŠ¥</option>\n        <option value=\"r1+q1\">ì§€ì‹œ ëŒ€ê¸°</option>\n        <option value=\"r2\">ì§€ì‹œ ì™„ë£Œ</option>\n        <option value=\"r3\">ìƒì‚° ì™„ë£Œ</option>\n      </select>\n    </div>\n\n    <table class=\"table table-bordered text-center\" style=\"min-width: 1200px;\">\n      <colgroup>\n        <col style=\"width: 120px\" />\n        <col style=\"width: 180px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 140px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 120px\" />\n        <col style=\"width: 100px\" />\n      </colgroup>\n      <thead class=\"table-light\">\n        <tr>\n          <th>ì§€ì‹œë²ˆí˜¸</th>\n          <th>ì œí’ˆëª…</th>\n          <th>ì§€ì‹œìˆ˜ëŸ‰</th>\n          <th>ì§€ì‹œì¼ì</th>\n          <th>ì§€ì‹œì</th>\n          <th>ì¬ë£Œ ì…ê³ </th>\n          <th>ë¼ì¸ ì§€ì •</th>\n          <th>í˜„í™©</th>\n        </tr>\n      </thead>\n\n      <tbody>\n        <tr v-for=\"item in filteredList\" :key=\"item.pdn_ord_dtl_no\">\n          <td>{{ item.pdn_ord_no }}</td>\n          <td>{{ item.prd_nm }}</td>\n          <td>{{ formatNumber(item.ord_qty) }}</td>\n          <td>{{ dateFormat(item.pdn_ord_dt, 'yyyy-MM-dd') }}</td>\n          <td>{{ item.crt_by }}</td>\n\n          <!-- âœ… r1 ìƒíƒœ -->\n          <template v-if=\"item.ord_sts === 'r1'\">\n            <td>\n              <span class=\"badge\" :class=\"{\n                'bg-warning text-dark': item.mat_ins_sts === 'q1',\n                'bg-success': item.mat_ins_sts === 'q2'\n              }\">\n                {{\n                  item.mat_ins_sts === 'q1' ? 'ì…ê³ ëŒ€ê¸°'\n                    : item.mat_ins_sts === 'q2' ? 'ì…ê³ ì™„ë£Œ'\n                      : 'ì˜¤ë¥˜'\n                }}\n              </span>\n            </td>\n            <td>\n              <div class=\"d-flex align-items-center justify-content-center gap-2\">\n                <span v-if=\"item.selected_line\">{{ item.selected_line }}</span>\n                <span v-else class=\"text-muted\">ë¯¸ì§€ì •</span>\n                <button class=\"btn btn-outline-secondary\" @click=\"openModal(item)\">\n                  ğŸ”\n                </button>\n              </div>\n            </td>\n            <td>\n              <button class=\"btn btn-sm btn-primary\" @click=\"assignLine(item)\">ì§€ì‹œ</button>\n            </td>\n          </template>\n\n          <!-- âœ… r2 ìƒíƒœ: ìƒì‚°ì§€ì‹œì™„ë£Œ -->\n          <template v-else-if=\"item.ord_sts === 'r2'\">\n            <td colspan=\"1\">\n              <router-link to=\"/LineMang\" class=\"badge text-dark text-decoration-none\"\n                style=\"background-color: #aee2f8; font-size: 0.95rem; padding: 0.5rem 1.2rem; display: inline-block; min-width: 110px; text-align: center;\">\n                ìƒì‚°ì§€ì‹œì™„ë£Œ\n              </router-link>\n            </td>\n            <td>\n              <span>{{ item.ln_no }}</span>\n            </td>\n            <td>\n              <button class=\"btn btn-sm btn-danger\" @click=\"stopLine(item)\">ì·¨ì†Œ</button>\n            </td>\n          </template>\n\n          <!-- âœ… r3 ìƒíƒœ: ìƒì‚°ê³µì •ì™„ë£Œ -->\n          <template v-else-if=\"item.ord_sts === 'r3'\">\n            <td colspan=\"2\">\n              <span class=\"badge text-white\"\n                style=\"background-color: #6c757d; font-size: 0.95rem; padding: 0.5rem 1.2rem; display: inline-block; min-width: 110px; text-align: center;\">\n                ìƒì‚°ê³µì •ì™„ë£Œ\n              </span>\n            </td>\n            <!-- <td>\n              <span>{{ item.ln_no }}</span>\n            </td> -->\n            <td>\n              <button class=\"btn btn-sm btn-outline-info\" @click=\"viewCompleteStatus(item)\">\n                ì™„ë£Œí˜„í™©\n              </button>\n            </td>\n          </template>\n\n        </tr>\n      </tbody>\n\n\n    </table>\n\n    <!-- âœ… ëª¨ë‹¬ -->\n    <LineInstructionModal v-if=\"showLineModal\" :item=\"selectedItem\" :used-lines=\"usedLines\" @set-line=\"setLine\"\n      @close=\"showLineModal = false\" />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport useDateUtils from '@/utils/useDates'\nimport LineInstructionModal from './LineInstructionModal.vue'\nimport Swal from 'sweetalert2'\n\nexport default {\n  components: { LineInstructionModal },\n\n  data() {\n    return {\n      instructionList: [],\n      selectedItem: null,\n      showLineModal: false,\n      statusFilter: 'r1+q2'\n    }\n  },\n\n  computed: {\n    dateFormat() {\n      return useDateUtils.dateFormat\n    },\n\n    usedLines() {\n      return this.instructionList\n        .filter(item => item.selected_line)\n        .map(item => item.selected_line)\n    },\n\n    filteredList() {\n  return this.instructionList.filter(item => {\n    if (this.statusFilter === 'ì „ì²´') return true\n\n    const [ord, mat] = this.statusFilter.split('+')\n\n    if (ord && item.ord_sts !== ord) return false\n    if (mat && item.mat_ins_sts !== mat) return false\n\n    return true\n  })\n}\n  },\n\n  created() {\n    this.fetchInstructions()\n  },\n\n  methods: {\n    async fetchInstructions() {\n      const res = await axios.get('/api/prodinst')\n      this.instructionList = res.data.map(row => ({\n        ...row,\n        selected_line: ''\n      }))\n    },\n\n    openModal(item) {\n      this.selectedItem = { ...item }\n      this.selectedItem.lineList = []\n\n      axios.get('/api/lineDrop', {\n        params: { pdn_ord_dtl_no: item.pdn_ord_dtl_no }\n      }).then(res => {\n        this.selectedItem.lineList = res.data\n        this.showLineModal = true\n      })\n    },\n\n    setLine(item) {\n      const index = this.instructionList.findIndex(\n        i => i.pdn_ord_dtl_no === item.pdn_ord_dtl_no\n      )\n      if (index !== -1) {\n        this.instructionList[index].selected_line = item.selected_line\n      }\n    },\n\n    async assignLine(item) {\n      if (!item.selected_line) {\n        return Swal.fire('â— ì•Œë¦¼', 'ë¼ì¸ì„ ë¨¼ì € ì§€ì •í•˜ì„¸ìš”.', 'warning')\n      }\n      if (item.mat_ins_sts !== 'q2') {\n        return Swal.fire('â— ì•Œë¦¼', 'ì…ê³ ì™„ë£Œ ìƒíƒœì—ì„œë§Œ ì§€ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'info')\n      }\n\n      try {\n        await axios.post('/api/preparingLine', {\n          pdn_ord_dtl_no: item.pdn_ord_dtl_no,\n          ln_no: item.selected_line\n        })\n        await Swal.fire('âœ… ì„±ê³µ', 'ì§€ì‹œ ì™„ë£Œ!', 'success')\n        this.fetchInstructions()\n        this.showLineModal = false\n      } catch (err) {\n        console.error(err)\n        Swal.fire('ì˜¤ë¥˜', 'ì§€ì‹œ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error')\n      }\n    },\n\n    async stopLine(item) {\n      const result = await Swal.fire({\n        title: 'ì§€ì‹œë¥¼ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',\n        text: `ì œí’ˆëª…: ${item.prd_nm}`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'ì˜ˆ',\n        cancelButtonText: 'ì•„ë‹ˆì˜¤'\n      })\n\n      if (!result.isConfirmed) return\n\n      try {\n        await axios.post('/api/stopLine', {\n          pdn_ord_dtl_no: item.pdn_ord_dtl_no,\n          ln_no: item.selected_line\n        })\n        await Swal.fire('ì™„ë£Œ', 'ì§€ì‹œê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success')\n        this.fetchInstructions()\n        this.showLineModal = false\n      } catch (err) {\n        console.error(err)\n        Swal.fire('ì˜¤ë¥˜', 'ì·¨ì†Œ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error')\n      }\n    },\n    viewCompleteStatus(item) {\n      Swal.fire({\n        title: 'âœ… ì™„ë£Œí˜„í™©',\n        html: `\n        <div style=\"text-align:left; line-height:1.7\">\n          <strong>ì§€ì‹œID:</strong> ${item.pdn_ord_no}<br>\n          <strong>ì œí’ˆëª…:</strong> ${item.prd_nm}<br>\n          <strong>ì§€ì‹œìˆ˜ëŸ‰:</strong> ${item.lo_ord_qty}ê°œ<br>\n          <strong>ë¶ˆëŸ‰ìˆ˜ëŸ‰:</strong> ${item.dft_qty}ê°œ<br>\n          <strong>ìƒì‚°ìˆ˜ëŸ‰:</strong> ${item.pdn_qty}ê°œ<br>\n          <strong>ì§€ì‹œì:</strong> ${item.mgr}<br>\n          <strong>ì™„ë£Œì¼ì:</strong> ${this.dateFormat(item.end_tm, 'yyyy-MM-dd   hhì‹œ mmë¶„')}<br>\n\n        </div>\n      `,\n        icon: 'info'\n      })\n    },\n    formatNumber(n) {\n      if (n == null || isNaN(n)) return '-'\n      return new Intl.NumberFormat().format(n)\n    },\n  }\n}\n/*\n  ln.ln_opr_no,\n  ln.ord_qty,\n  ln.pdn_qty,\n  ln.dft_qty,\n  ln.mgr,\n  ln.end_tm,\n*/\n</script>\n\n<style scoped>\nh2 {\n  font-weight: bold;\n  text-align: left;\n}\n\n.table td,\n.table th {\n  vertical-align: middle;\n}\n\n.selected-line {\n  font-weight: 600;\n  color: #198754;\n}\n</style>"],"names":["filterConditions","item","_sfc_main","condition","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_cache","_withModifiers","_ctx","_createElementVNode","_toDisplayString","$props","_openBlock","_Fragment","_renderList","line","_normalizeClass","$data","_hoisted_8","_hoisted_9","_createCommentVNode","LineInstructionModal","useDateUtils","ord","mat","res","axios","row","index","i","Swal","err","n","_hoisted_10","_hoisted_11","$event","_createStaticVNode","$options","_createVNode","_component_router_link","_withCtx","_createTextVNode","_createBlock","_component_LineInstructionModal"],"mappings":"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"}
>>>>>>> 6a9aee91f1b003d56d62a2dc3d9a1abb2695e08b
